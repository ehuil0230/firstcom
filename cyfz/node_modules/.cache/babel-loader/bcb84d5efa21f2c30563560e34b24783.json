{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js!D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\xtgl\\myToolbar\\creOperation.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\xtgl\\myToolbar\\creOperation.vue","mtime":1570845560768},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"creOperation\",\n  props: {\n    dialogData: {\n      type: Object\n    },\n    taVisible: {\n      type: Boolean\n    }\n  },\n  data: function data() {\n    return {\n      dialogVisible: this.taVisible,\n      //下拉选框\n      claimDirectionDm: this.dialogData.Dm,\n      ruleForm: {\n        uuid: this.dialogData.uuid ? this.dialogData.uuid : \"\",\n        comName: this.dialogData.comName ? this.dialogData.comName : \"\",\n        proclamationDm: this.dialogData.fromType,\n        approvalDm: this.dialogData.spType,\n        //areaDirectionDm: this.dialogData.areaDirectionDm ? this.dialogData.areaDirectionDm : \"\",\n        introduction: this.dialogData.introduction ? this.dialogData.introduction : \"\",\n        productDescribe: this.dialogData.productDescribe ? this.dialogData.productDescribe : \"\",\n        productService: this.dialogData.productService ? this.dialogData.productService : \"\",\n        claimDirectionDm: this.dialogData.claimDirectionDm ? this.dialogData.claimDirectionDm : \"\"\n      },\n      rules: {\n        claimDirectionDm: [{\n          required: true,\n          message: '请输入所属方向！'\n        }],\n        comName: [{\n          required: true,\n          message: '请输入单位名称！'\n        }],\n        productService: [{\n          required: true,\n          message: '请输入内容！'\n        }, {\n          max: 1200,\n          message: '请输入不超过200字！'\n        }],\n        introduction: [{\n          required: true,\n          message: '请输入内容！'\n        }, {\n          max: 1200,\n          message: '请输入不超过1000字！'\n        }],\n        productDescribe: [{\n          required: true,\n          message: '请输入内容！'\n        }, {\n          max: 1200,\n          message: '请输入不超过1000字！'\n        }]\n      }\n    };\n  },\n  methods: {\n    //弹窗关闭\n    handleClose: function handleClose() {\n      this.dialogVisible = false;\n      this.$emit(\"refreshTable\", true);\n    },\n    saveForm: function saveForm(ruleForm) {\n      var _this = this;\n\n      var that = this;\n\n      if (this.ruleForm.uuid == null || this.ruleForm.uuid == '') {\n        this.$refs[ruleForm].validate(function (valid) {\n          if (valid) {\n            //添加接口\n            _this.$axios({\n              method: 'post',\n              url: _this.$api.xtglApi.xtglXctjSave,\n              data: _this.ruleForm\n            }).then(function (res) {\n              if (res.result === 1) {\n                that.$message({\n                  message: res.msg,\n                  type: 'success'\n                });\n              }\n\n              that.handleClose();\n              that.ruleForm = '';\n            });\n          } else {\n            window.console.log('操作失败!');\n            return false;\n          }\n        });\n      } else {\n        this.$axios({\n          method: 'post',\n          url: this.$api.xtglApi.xtglXctjUpdate,\n          data: this.ruleForm\n        }).then(function (res) {\n          if (res.result === 1) {\n            that.$message({\n              message: res.msg,\n              type: 'success'\n            });\n          }\n\n          that.handleClose(), that.ruleForm = '';\n        });\n      }\n    },\n    //发布\n    releaseForm: function releaseForm(ruleForm) {\n      var _this2 = this;\n\n      var that = this;\n\n      if (this.ruleForm.uuid === null || this.ruleForm.uuid === \"\") {\n        this.$refs[ruleForm].validate(function (valid) {\n          if (valid) {\n            //添加接口\n            _this2.$axios({\n              method: 'post',\n              url: _this2.$api.xtglApi.xtglXctjSave,\n              data: _this2.ruleForm\n            }).then(function (res) {\n              if (res.result === 1) {\n                return res.info.uuid;\n              }\n            }).then(function (id) {\n              that.ruleForm.tableid = id;\n              var param = Object.assign(that.ruleForm, {\n                title: that.ruleForm.comName\n              });\n              that.$axios({\n                method: 'post',\n                url: that.$api.xtglApi.xtglXctjSubmit,\n                data: param\n              }).then(function (res) {\n                if (res.result === 1) {\n                  that.$message({\n                    message: res.msg,\n                    type: 'success'\n                  });\n                }\n\n                that.handleClose();\n                that.ruleForm = '';\n              });\n            }).catch(function (err) {});\n          } else {\n            window.console.log('操作失败!');\n            return false;\n          }\n        });\n      } else {\n        this.$axios({\n          method: 'post',\n          url: this.$api.xtglApi.xtglXctjUpdate,\n          data: this.ruleForm\n        }).then(function (res) {\n          if (res.result == 1) {\n            return res.info.uuid;\n          }\n        }).then(function (id) {\n          _this2.ruleForm.uuid = '';\n          that.ruleForm.tableid = id;\n          var param = Object.assign(that.ruleForm, {\n            title: that.ruleForm.comName\n          });\n          that.$axios({\n            method: 'post',\n            url: that.$api.xtglApi.xtglXctjSubmit,\n            data: param\n          }).then(function (res) {\n            if (res.result == 1) {\n              that.$message({\n                message: res.msg,\n                type: 'success'\n              });\n            }\n\n            that.handleClose();\n            that.ruleForm = '';\n          });\n        }).catch(function (err) {});\n      }\n    }\n  },\n  getDataWay: {\n    dataType: \"data\",\n    data: []\n  }\n};",{"version":3,"sources":["creOperation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"lyf-resetclass\">\r\n        <el-dialog\r\n                title=\"宣传推荐维护\"\r\n                :visible.sync=\"dialogVisible\"\r\n                width=\"70%\"\r\n                @close=\"handleClose\">\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"153px\" class=\"demo-ruleForm\">\r\n                <!--<el-form :inline=\"true\" ref=\"ruleForm\" class=\"demo-form-inline\"\r\n                         label-width=\"153px\">-->\r\n                <!--<el-form-item label-width=\"153px\" class=\"demo-ruleForm\">-->\r\n                <table>\r\n                    <tr>\r\n                        <td>\r\n                            <el-form-item label=\"推荐重点单位名称:\" prop=\"comName\">\r\n                                <el-input v-model=\"ruleForm.comName\" style=\"width:110%\" maxlength=\"50\"></el-input>\r\n                            </el-form-item>\r\n                        </td>\r\n                        <td>\r\n                            <el-form-item label=\"所属方向:\" prop=\"claimDirectionDm\" style=\"padding-left:70px\">\r\n                                <el-select v-model=\"ruleForm.claimDirectionDm\" placeholder=\"请选择所属方向\">\r\n                                    <el-option class=\"myStyle\"\r\n                                               v-for=\"item in claimDirectionDm\"\r\n                                               :key=\"item.CODE\"\r\n                                               :label=\"item.CAPTION\"\r\n                                               :value=\"item.CODE\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <!--</el-form-item>-->\r\n                <!--</el-form>-->\r\n                <el-form-item label=\"揭榜产品和服务:\" prop=\"productService\">\r\n                    <el-input type=\"textarea\" maxlength=\"200\" v-model=\"ruleForm.productService\"\r\n                              placeholder=\"字数小于200字\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"企业简介:\" prop=\"introduction\">\r\n                    <el-input type=\"textarea\" v-model=\"ruleForm.introduction\" maxlength=\"200\"\r\n                              placeholder=\"字数小于200字\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"揭榜产品和服务描述:\" prop=\"productDescribe\">\r\n                    <el-input type=\"textarea\" v-model=\"ruleForm.productDescribe\" class=\"trightSize\"\r\n                              maxlength=\"1000\" placeholder=\"字数小于1000字\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"padding-left: 25%\">\r\n                    <el-button type=\"primary\" @click=\"saveForm('ruleForm')\">保存</el-button>\r\n                    <el-button @click=\"releaseForm('ruleForm')\">提交</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: \"creOperation\",\r\n        props: {\r\n            dialogData: {\r\n                type: Object,\r\n            },\r\n            taVisible: {\r\n                type: Boolean,\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                dialogVisible: this.taVisible,\r\n                //下拉选框\r\n                claimDirectionDm: this.dialogData.Dm,\r\n                ruleForm: {\r\n                    uuid: this.dialogData.uuid ? this.dialogData.uuid : \"\",\r\n                    comName: this.dialogData.comName ? this.dialogData.comName : \"\",\r\n                    proclamationDm: this.dialogData.fromType,\r\n                    approvalDm: this.dialogData.spType,\r\n                    //areaDirectionDm: this.dialogData.areaDirectionDm ? this.dialogData.areaDirectionDm : \"\",\r\n                    introduction: this.dialogData.introduction ? this.dialogData.introduction : \"\",\r\n                    productDescribe: this.dialogData.productDescribe ? this.dialogData.productDescribe : \"\",\r\n                    productService: this.dialogData.productService ? this.dialogData.productService : \"\",\r\n                    claimDirectionDm: this.dialogData.claimDirectionDm ? this.dialogData.claimDirectionDm : \"\",\r\n                },\r\n                rules: {\r\n                    claimDirectionDm:[\r\n                        {required: true, message: '请输入所属方向！'}\r\n                    ],\r\n                    comName: [\r\n                        {required: true, message: '请输入单位名称！'}\r\n                    ],\r\n                    productService: [\r\n                        {required: true, message: '请输入内容！'},\r\n                        {max: 1200, message: '请输入不超过200字！'}\r\n                    ],\r\n                    introduction: [\r\n                        {required: true, message: '请输入内容！'},\r\n                        {max: 1200, message: '请输入不超过1000字！'}\r\n                    ],\r\n                    productDescribe: [\r\n                        {required: true, message: '请输入内容！'},\r\n                        {max: 1200, message: '请输入不超过1000字！'}\r\n                    ],\r\n                },\r\n            };\r\n        },\r\n        methods: {\r\n            //弹窗关闭\r\n            handleClose() {\r\n                this.dialogVisible = false;\r\n                this.$emit(\"refreshTable\", true)\r\n            },\r\n            saveForm(ruleForm) {\r\n                const that = this;\r\n                if (this.ruleForm.uuid == null || this.ruleForm.uuid == '') {\r\n                    this.$refs[ruleForm].validate((valid) => {\r\n                        if (valid) {\r\n                            //添加接口\r\n                            this.$axios({\r\n                                method: 'post',\r\n                                url: this.$api.xtglApi.xtglXctjSave,\r\n                                data: this.ruleForm\r\n                            }).then(function (res) {\r\n                                if (res.result === 1) {\r\n                                    that.$message({\r\n                                        message: res.msg,\r\n                                        type: 'success'\r\n                                    });\r\n                                }\r\n                                that.handleClose()\r\n                                that.ruleForm = ''\r\n                            })\r\n                        } else {\r\n                            window.console.log('操作失败!');\r\n                            return false;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$axios({\r\n                        method: 'post',\r\n                        url: this.$api.xtglApi.xtglXctjUpdate,\r\n                        data: this.ruleForm\r\n                    }).then(function (res) {\r\n                        if (res.result === 1) {\r\n                            that.$message({\r\n                                message: res.msg,\r\n                                type: 'success'\r\n                            });\r\n                        }\r\n                        that.handleClose(),\r\n                            that.ruleForm = ''\r\n                    })\r\n                }\r\n            },\r\n            //发布\r\n            releaseForm(ruleForm) {\r\n                const that = this;\r\n                if (this.ruleForm.uuid === null || this.ruleForm.uuid === \"\") {\r\n                    this.$refs[ruleForm].validate((valid) => {\r\n                        if (valid) {\r\n                            //添加接口\r\n                            this.$axios({\r\n                                method: 'post',\r\n                                url: this.$api.xtglApi.xtglXctjSave,\r\n                                data: this.ruleForm\r\n                            }).then(function (res) {\r\n                                if (res.result === 1) {\r\n                                    return res.info.uuid\r\n                                }\r\n                            }).then((id) => {\r\n                                that.ruleForm.tableid = id;\r\n                                let param = Object.assign(that.ruleForm, {\r\n                                    title: that.ruleForm.comName\r\n                                });\r\n                                that.$axios({\r\n                                    method: 'post',\r\n                                    url: that.$api.xtglApi.xtglXctjSubmit,\r\n                                    data: param\r\n                                }).then(function (res) {\r\n                                    if (res.result === 1) {\r\n                                        that.$message({\r\n                                            message: res.msg,\r\n                                            type: 'success'\r\n                                        });\r\n                                    }\r\n                                    that.handleClose()\r\n                                    that.ruleForm = ''\r\n                                })\r\n                            }).catch(function (err) {\r\n\r\n                            })\r\n                        } else {\r\n                            window.console.log('操作失败!');\r\n                            return false;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$axios({\r\n                        method: 'post',\r\n                        url: this.$api.xtglApi.xtglXctjUpdate,\r\n                        data: this.ruleForm\r\n                    }).then(function (res) {\r\n                        if (res.result == 1) {\r\n                            return res.info.uuid\r\n                        }\r\n                    }).then((id) => {\r\n                        this.ruleForm.uuid = '';\r\n                        that.ruleForm.tableid = id;\r\n                        let param = Object.assign(that.ruleForm, {\r\n                            title: that.ruleForm.comName\r\n                        });\r\n                        that.$axios({\r\n                            method: 'post',\r\n                            url: that.$api.xtglApi.xtglXctjSubmit,\r\n                            data: param\r\n                        }).then(function (res) {\r\n                            if (res.result == 1) {\r\n                                that.$message({\r\n                                    message: res.msg,\r\n                                    type: 'success'\r\n                                });\r\n                            }\r\n                            that.handleClose()\r\n                            that.ruleForm = ''\r\n                        })\r\n                    }).catch(function (err) {\r\n                    })\r\n                }\r\n            },\r\n        },\r\n        getDataWay: {dataType: \"data\", data: []},\r\n    }\r\n</script>\r\n<style scoped lang=\"less\">\r\n    .lyf-resetclass /deep/ .el-input__inner {\r\n        width: 127%;\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-select-dropdown el-popper {\r\n        min-width: 270px;\r\n    }\r\n\r\n    .el-select-dropdown__item {\r\n        width: 273px\r\n    }\r\n\r\n    #formPage {\r\n        margin: 10px auto;\r\n        width: 80%;\r\n        padding: 0px 22px;\r\n        box-sizing: border-box;\r\n        background-color: #fff\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-input__suffix {\r\n        right: -33px;\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-textarea__inner {\r\n        width: 93%;\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-select__caret el-input__icon el-icon-arrow-up {\r\n        width: 5px\r\n    }\r\n</style>\r\n\r\n"],"sourceRoot":"src/views/xtgl/myToolbar"}]}