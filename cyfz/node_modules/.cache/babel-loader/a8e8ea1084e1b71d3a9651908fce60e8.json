{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js!D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\login.vue","mtime":1568987312153},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"logining\",\n  data: function data() {\n    return {\n      loginForm: {\n        name: \"baiyu\",\n        password: \"12345678\"\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '账号不能为空',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '密码不能为空',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    sumitForm: function sumitForm() {\n      this.login();\n    },\n    login: function login() {\n      var _this = this;\n\n      var that = this;\n      var userName = that.loginForm.name;\n      var password = that.loginForm.password; // that.$router.replace('/');\n\n      this.$refs.loginForm.validate(function (valid) {\n        if (valid) {\n          _this.$axios({\n            method: 'post',\n            url: _this.$api.login.login,\n            data: {\n              userName: userName,\n              userPwd: password\n            }\n          }).then(function (res) {\n            window.console.log(res);\n\n            if (res.info != null) {\n              if (res.info.state) {\n                //登录错误情况\n                switch (res.info.state) {\n                  case \"1\":\n                    that.$message({\n                      type: \"error\",\n                      message: '账号状态异常，请联系管理员！'\n                    });\n                    break;\n\n                  case \"2\":\n                    that.$message({\n                      type: \"error\",\n                      message: '账号不存在，请重新输入！'\n                    });\n                    break;\n\n                  case \"3\":\n                    that.$message({\n                      type: \"error\",\n                      message: '登录错误次数超过过多，请稍后再试！'\n                    });\n                    break;\n\n                  case \"4\":\n                    that.$message({\n                      type: \"error\",\n                      message: '密码错误，请重新输入！'\n                    });\n                    break;\n\n                  default:\n                    break;\n                }\n\n                return false;\n              }\n\n              var refreshToken = res.info.refreshToken;\n              var token = res.info.accessToken; // axios.defaults.headers.common['Authorization'] = token;//请求token信息配置\n\n              localStorage.setItem(\"refreshToken\", refreshToken);\n              localStorage.setItem(\"Authorization\", token);\n              that.$axios({\n                method: 'post',\n                url: that.$api.login.getLoginUser,\n                data: {}\n              }).then(function (res) {\n                var orgName = res.info.orgName;\n                var userName = res.info.userName;\n                localStorage.setItem(\"orgName\", orgName);\n                localStorage.setItem(\"userName\", userName);\n\n                if (that.$route.query.redirect) {\n                  that.$router.replace(that.$route.query.redirect);\n                } else {\n                  that.$router.replace('/');\n                }\n              }).catch(function (error) {\n                window.console.log(error);\n              });\n            } else {\n              that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\n            }\n          }).catch(function (error) {\n            that.$alert(error.msg, \"系统异常，请联系管理员！\", {});\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"login-wrap\">\r\n        <el-container>\r\n            <el-header>\r\n                <div class=\"login-copyright\"></div>\r\n            </el-header>\r\n            <el-main>\r\n                <div class=\"login-bg\">\r\n                    <div class=\"login-panel\">\r\n                        <div class=\"login-panel-tip\">\r\n                            账号密码登录\r\n                        </div>\r\n                        <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\">\r\n                            <el-form-item prop=\"name\">\r\n                            <el-input\r\n                                    placeholder=\"请输入用户名\"\r\n                                    v-model.trim=\"loginForm.name\"\r\n                                    @keyup.enter.native=\"sumitForm\">\r\n                                <i slot=\"prefix\" class=\"el-input__icon el-icon-user-solid\"></i>\r\n                            </el-input>\r\n                            </el-form-item>\r\n                            <el-form-item prop=\"password\">\r\n                            <el-input\r\n                                    type=\"password\"\r\n                                    placeholder=\"请输入密码\"\r\n                                    v-model.trim=\"loginForm.password\"\r\n                                    @keyup.enter.native=\"sumitForm\">\r\n                                <i slot=\"prefix\" class=\"el-input__icon fa fa-lock\"></i>\r\n                            </el-input>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                        <div class=\"login-btn\" @click=\"login\"></div>\r\n                    </div>\r\n                </div>\r\n            </el-main>\r\n            <el-footer>\r\n                <div class=\"login-link\">\r\n                    <el-link disabled>版权所有:中国软件与技术服务股份有限公司</el-link>\r\n                    <br>\r\n                    <el-link disabled>京ICP备05050114号 400-160-1670</el-link>\r\n                </div>\r\n            </el-footer>\r\n        </el-container>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"logining\",\r\n        data(){\r\n            return{\r\n                loginForm:{\r\n                    name: \"baiyu\",\r\n                    password:\"12345678\",\r\n                },\r\n                rules: {\r\n                    name: [\r\n                        {required: true, message: '账号不能为空', trigger: 'blur'},\r\n                    ],\r\n                    password: [\r\n                        {required: true, message: '密码不能为空', trigger: 'blur'}\r\n                    ],\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            sumitForm: function () {\r\n                this.login();\r\n            },\r\n            login: function () {\r\n                const that = this;\r\n                let userName = that.loginForm.name;\r\n                let password = that.loginForm.password;\r\n                // that.$router.replace('/');\r\n                this.$refs.loginForm.validate((valid) => {\r\n                    if (valid) {\r\n                        this.$axios({\r\n                            method: 'post',\r\n                            url: this.$api.login.login,\r\n                            data: {\r\n                                userName: userName,\r\n                                userPwd: password\r\n                            }\r\n                        }).then(function (res) {\r\n                            window.console.log(res);\r\n                            if (res.info != null) {\r\n                                if(res.info.state) {//登录错误情况\r\n                                    switch (res.info.state) {\r\n                                        case \"1\" :\r\n                                            that.$message({\r\n                                                type:\"error\",\r\n                                                message: '账号状态异常，请联系管理员！'\r\n                                            });\r\n                                            break;\r\n                                        case \"2\" :\r\n                                            that.$message({\r\n                                                type:\"error\",\r\n                                                message: '账号不存在，请重新输入！'\r\n                                            });\r\n                                            break;\r\n                                        case \"3\" :\r\n                                            that.$message({\r\n                                                type:\"error\",\r\n                                                message: '登录错误次数超过过多，请稍后再试！'\r\n                                            });\r\n                                            break;\r\n                                        case \"4\" :\r\n                                            that.$message({\r\n                                                type:\"error\",\r\n                                                message: '密码错误，请重新输入！'\r\n                                            });\r\n                                            break;\r\n                                        default : break;\r\n                                    }\r\n                                    return false;\r\n                                }\r\n                                const refreshToken = res.info.refreshToken;\r\n                                const token = res.info.accessToken;\r\n                                // axios.defaults.headers.common['Authorization'] = token;//请求token信息配置\r\n                                localStorage.setItem(\"refreshToken\", refreshToken);\r\n                                localStorage.setItem(\"Authorization\", token);\r\n                                that.$axios({\r\n                                    method: 'post',\r\n                                    url: that.$api.login.getLoginUser,\r\n                                    data: {}\r\n                                }).then(function (res) {\r\n                                    let orgName = res.info.orgName;\r\n                                    let userName = res.info.userName;\r\n                                    localStorage.setItem(\"orgName\", orgName);\r\n                                    localStorage.setItem(\"userName\", userName);\r\n                                    if (that.$route.query.redirect) {\r\n                                        that.$router.replace(that.$route.query.redirect);\r\n                                    } else {\r\n                                        that.$router.replace('/');\r\n                                    }\r\n                                }).catch(function (error) {\r\n                                    window.console.log(error);\r\n                                });\r\n                            } else {\r\n                                that.$alert(res.msg,\"系统异常，请联系管理员！\",{});\r\n                            }\r\n                        }).catch(function (error) {\r\n                            that.$alert(error.msg,\"系统异常，请联系管理员！\",{});\r\n                        });\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    .login-wrap{\r\n        width: 100%;\r\n        .el-header{\r\n            padding: 0;\r\n            position: relative;\r\n        }\r\n        .el-main{\r\n            padding: 0;\r\n            .login-panel-tip{\r\n                /*margin-top: 20px;\r\n                margin-left: 90px;*/\r\n                width: 260px;\r\n                text-align: center;\r\n                position: absolute;\r\n                top: 20px;\r\n                right: 110px;\r\n                font-size: 18px;\r\n            }\r\n            .el-form{\r\n                width: 260px;\r\n                position: absolute;\r\n                top: 70px;\r\n                right: 110px;\r\n                .el-form-item{\r\n                    margin-bottom: 18px;\r\n                }\r\n            }\r\n        }\r\n        .el-footer{\r\n            text-align: center;\r\n            padding: 0;\r\n            .login-link{\r\n                margin: 10px auto;\r\n                .el-link.el-link--default.is-disabled{\r\n                    color:#606266;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .login-copyright{\r\n        width: 400px;\r\n        height: 60px;\r\n        background-image: url(../assets/login/login_copyright.png);\r\n        background-size: 89% 70%;\r\n        background-repeat: no-repeat;\r\n        position: absolute;\r\n        top: 15px;\r\n        left: 150px;\r\n    }\r\n\r\n    .login-bg{\r\n        position: relative;\r\n        width:100% ;\r\n        /*height:600px;*/\r\n        height:calc(100vh - 120px);\r\n        background-color: #fff;\r\n        background-image: url(../assets/login/login_bg.jpg);\r\n        background-repeat: no-repeat;\r\n        background-position:top left;\r\n        background-size:100% 100%;\r\n    }\r\n    .login-panel{\r\n        width: 400px;\r\n        height: 400px;\r\n        background-image: url(../assets/login/login_panel.png);\r\n        background-size: 80% 80%;\r\n        background-repeat: no-repeat;\r\n        position: absolute;\r\n        top: 14%;\r\n        right: 6%;\r\n        opacity: 0.8;\r\n    }\r\n\r\n    .login-btn{\r\n        width: 400px;\r\n        height: 60px;\r\n        background-image: url(../assets/login/login_btn.png);\r\n        background-size: 67% 77%;\r\n        background-repeat: no-repeat;\r\n        margin-left: 26px;\r\n        margin-top: 200px;\r\n    }\r\n\r\n    .login-btn:hover{\r\n        opacity: 0.6;\r\n    }\r\n\r\n\r\n</style>\r\n"],"sourceRoot":"src/views"}]}