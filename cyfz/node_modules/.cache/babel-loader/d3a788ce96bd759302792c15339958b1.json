{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js!D:\\vueWorkspace\\cyfz\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\vueWorkspace\\cyfz\\src\\lib\\util.js","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\lib\\util.js","mtime":1571737517831},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport Vue from 'vue';\nimport BMF from \"browser-md5-file\";\n/*\r\n* 表格配置参数\r\n* */\n\nvar tableConfig = {\n  needLoading: true,\n  //在表格加载数据时显示，默认不显示\n  pagination: {\n    currentPage: 1,\n    pageSize: 10,\n    position: 'right',\n    layout: 'total,prev, pager, next, jumper'\n  },\n  //分页：pagination值为空默认分页 ；pagination不为空自定义分页；不传，默认不分页\n  tableColumnEmpty: '暂无数据' // 列为空时显示的提示语，默认为'暂无数据'\n\n};\nVue.prototype.$$config = Object.assign({}, {\n  \"tableConfig\": tableConfig\n}); //定义变量\n\nvar bmf = new BMF();\nvar isOpen = false;\nvar $api = Vue.prototype.$api;\nvar uploadUrl = {\n  md5Check: $api.upload.reqUrl + $api.upload.md5CheckUpload,\n  //MD5校验\n  uploadDfs: $api.upload.reqUrl + $api.upload.uploadDfs,\n  //上传\n  preview: $api.upload.reqUrl + $api.upload.preview,\n  //预览\n  download: $api.upload.reqUrl + $api.upload.download //下载\n\n  /*downloadPackage:$api.upload.reqUrl+$api.upload.downloadPackage,\r\n    deleteUpLoad:$api.upload.reqUrl+$api.upload.deleteUpLoad,\r\n    downloadByMd5Path: $api.upload.reqUrl+$api.upload.downloadByMd5Path*/\n\n};\nvar upLoadParams = {\n  userId: \"222222\",\n  moduleName: \"CheckForFrontEnd\" //生成字符串\n\n};\n\nfunction uuid() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n    return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);\n  });\n} //对象数组去重\n\n\nfunction unique(arr) {\n  var unique = {};\n  arr.forEach(function (item) {\n    unique[JSON.stringify(item)] = item; //键名不会重复\n  });\n  arr = Object.keys(unique).map(function (u) {\n    //Object.keys()返回对象的所有键值组成的数组，map方法是一个遍历方法，返回遍历结果组成的数组.将unique对象的键名还原成对象数组\n    return JSON.parse(u);\n  });\n  return arr;\n} //正则验证\n\n\nvar pattern = {\n  phone: /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/,\n  email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n  idCard: /^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$/ //工具类\n\n};\nvar util = {\n  uuid: uuid,\n  unique: unique,\n  pattern: pattern\n};\nVue.prototype.$$util = util; // this.$$request().then(function (res) {})\n\nVue.prototype.$$request = function (param) {\n  var _that = this;\n\n  var promise = new Promise(function (resolve, reject) {\n    _that.$axios({\n      method: param.method || \"post\",\n      url: param.url || \"\",\n      data: param.data || {},\n      params: param.method == 'get' ? param.data : {},\n      headers: param.headers || {},\n      onUploadProgress: param.onUploadProgress || null\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n  return promise;\n};\n\nVue.prototype.msgAlert = function (msg, callbackMethod) {\n  var that = this;\n\n  if (!isOpen) {\n    isOpen = true;\n    that.$alert(msg, '信息提示', {\n      confirmButtonText: '确定',\n      callback: function callback(action) {\n        isOpen = false;\n        if (!$.isEmpty(callbackMethod)) callbackMethod(action);\n      }\n    });\n  }\n};\n\nVue.prototype.msgError = function (msg, callbackMethod) {\n  var that = this;\n\n  if (!isOpen) {\n    isOpen = true;\n    that.$alert(msg, '错误提示', {\n      confirmButtonText: '确定',\n      callback: function callback(action) {\n        isOpen = false;\n        if (!$.isEmpty(callbackMethod)) callbackMethod(action);\n      }\n    });\n  }\n};\n\nVue.prototype.selectOneWarn = function () {\n  this.$message({\n    type: 'warning',\n    message: '请先选择一个操作项'\n  });\n};\n\nVue.prototype.getItems = function (key, obj) {\n  if ($.isEmpty(key)) key = 'id';\n  var ids = [];\n  var obj = obj ? obj : this.selectItems;\n  obj.forEach(function (item) {\n    ids.push(item[key]);\n  });\n  return ids;\n};\n\nVue.prototype.deleteConfirm = function (url, data, result, msg) {\n  if (this.selectItems.length === 0) {\n    this.selectOneWarn();\n  } else {\n    this.msgConfirm(url, data, result, msg);\n  }\n};\n\nVue.prototype.showConfirm = function (msg, result, catchCallBack) {\n  var _this = this;\n\n  this.$confirm(msg, '提示', {\n    confirmButtonText: '确定',\n    cancelButtonText: '取消',\n    type: 'warning'\n  }).then(function () {\n    result();\n  }).catch(function () {\n    if ($.isEmpty(catchCallBack)) {\n      _this.$message({\n        type: 'info',\n        message: '已取消'\n      });\n    } else {\n      catchCallBack();\n    }\n  });\n};\n\nVue.prototype.msgConfirm = function (url, data, result) {\n  var msg = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '此操作将永久删除该信息, 是否继续?';\n\n  var _this = this;\n\n  this.showConfirm(msg, function () {\n    _this.simplePost(url, data, function (obj) {\n      if ($.isNotEmpty(result)) {\n        result(obj);\n      } else {\n        _this.search();\n      }\n\n      if (obj.code !== 0) return;\n\n      _this.$message({\n        type: 'info',\n        message: '操作成功'\n      });\n    });\n  });\n};\n\nVue.prototype.getCurrentDateStr = function (fmt) {\n  var date = new Date();\n  fmt = fmt || \"yyyy-MM-dd hh:mm:ss\";\n  var o = {\n    \"M+\": date.getMonth() + 1,\n    //月份\n    \"d+\": date.getDate(),\n    //日\n    \"h+\": date.getHours(),\n    //小时\n    \"m+\": date.getMinutes(),\n    //分\n    \"s+\": date.getSeconds(),\n    //秒\n    \"q+\": Math.floor((date.getMonth() + 3) / 3),\n    //季度\n    \"S\": date.getMilliseconds() //毫秒\n\n  };\n\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n  }\n\n  for (var k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n    }\n  }\n\n  return fmt;\n};\n\nVue.prototype.getNowFormatDate = function () {\n  var date = new Date();\n  var seperator1 = '-';\n  var year = date.getFullYear();\n  var month = date.getMonth() + 1;\n  var strDate = date.getDate();\n\n  if (month >= 1 && month <= 9) {\n    month = '0' + month;\n  }\n\n  if (strDate >= 0 && strDate <= 9) {\n    strDate = '0' + strDate;\n  }\n\n  var currentdate = year + seperator1 + month + seperator1 + strDate;\n  return currentdate;\n};\n\nVue.prototype.postConfirm = function (url, data, result, msg) {\n  if ($.isEmpty(msg)) msg = '确定此操作?';\n\n  var _this = this;\n\n  this.showConfirm(msg, function () {\n    _this.httpPost(url, data, function (obj) {\n      if ($.isNotEmpty(result)) {\n        result(obj);\n      } else {\n        _this.search();\n      }\n\n      _this.$message({\n        type: 'info',\n        message: '操作成功'\n      });\n    });\n  });\n};\n\nVue.prototype.copyObj = function (odlObj) {\n  //复制对象\n  var newobj = {};\n\n  for (var attr in odlObj) {\n    newobj[attr] = odlObj[attr];\n  }\n\n  return newobj;\n};\n\nVue.prototype.copyArray = function (odlArray) {\n  //复制数组\n  var newArray = [];\n\n  for (var i = 0; i < odlArray.length; i++) {\n    var obj = odlArray[i];\n    newArray.push(obj);\n  }\n\n  return newArray;\n};\n\nVue.prototype.attributeCount = function (obj) {\n  //获取对象属性数量\n  var count = 0;\n\n  for (var i in obj) {\n    count++;\n  }\n\n  return count;\n}; // 消息提示\n\n\nVue.prototype.showTips = function (params) {\n  this.$message({\n    type: params.type || 'success',\n    message: params.message || '操作成功',\n    showClose: params.showClose === false ? false : true,\n    duration: params.duration >= 0 ? params.duration : 3000\n  });\n}; // 获取md5\n\n\nVue.prototype.$$md5ByFile = function (param) {\n  var promise = new Promise(function (resolve, reject) {\n    bmf.md5(param.file, function (err, md5) {\n      if (err) {\n        reject(err);\n      } else if (md5) {\n        resolve({\n          md5: md5\n        });\n      }\n    });\n  });\n  return promise;\n}; //md5校验 param:{file,upLoadParams:{userId,moduleName}}\n\n\nVue.prototype.$$md5CheckByFile = function (param) {\n  var _this2 = this;\n\n  var promise = new Promise(function (resolve, reject) {\n    _this2.$$request({\n      method: \"get\",\n      url: uploadUrl.md5Check,\n      data: {\n        md5: param.md5,\n        fileSize: param.file.size,\n        userId: upLoadParams.userId,\n        moduleName: upLoadParams.moduleName,\n        fileSrcName: param.file.name\n      }\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n  return promise;\n}; //上传 param:{md5:\"\",file,progress:func(percent){},success:func(){},error:func(){}}\n\n\nVue.prototype.$$uploadFile = function (param) {\n  var _that = this;\n\n  var promise = new Promise(function (resolve, reject) {\n    var formData = new FormData();\n    formData.append(\"userId\", upLoadParams.userId);\n    formData.append(\"moduleName\", upLoadParams.moduleName);\n    formData.append(\"md5\", param.md5);\n    formData.append(\"file\", param.file);\n    formData.append(\"fileSize\", param.file.size);\n    formData.append(\"is_public\", '1');\n\n    _that.$axios({\n      method: \"post\",\n      url: uploadUrl.uploadDfs,\n      data: formData,\n      headers: {\n        \"Content-type\": \"multipart/form-data\"\n      },\n      onUploadProgress: function onUploadProgress(progressEvent) {\n        var percent = progressEvent.loaded / progressEvent.total * 100 | 0;\n        param.progress && param.progress(percent);\n      }\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n  return promise;\n};\n/*----白昱--封装上传下载---start*/\n//下载\n\n\nVue.prototype.$$download = function (param) {\n  var that = this;\n\n  var fileDownload = require(\"js-file-download\");\n\n  var promise = new Promise(function (resolve, reject) {\n    if (!!param.url) {\n      var fileName = param.name ? param.name : param.url.split(\"@\")[0] + '.docx';\n      that.$axios({\n        method: 'get',\n        url: uploadUrl.download + \"?md5Path=\" + param.url,\n        responseType: \"blob\",\n        data: {\n          md5Path: param.url\n        }\n      }).then(function (res) {\n        fileDownload(res, fileName);\n        resolve(res);\n      }).catch(function (error) {\n        reject(error);\n      });\n    } else {\n      reject('md5path不存在');\n    }\n  });\n  return promise;\n}; //批量下载，打包下载\n\n\nVue.prototype.$$downloadPackage = function (params) {\n  var that = this;\n\n  var fileDownload = require(\"js-file-download\");\n\n  var promise = new Promise(function (resolve, reject) {\n    var zipName = params.zipName ? params.zipName : 'download.zip';\n    that.$axios({\n      method: 'post',\n      responseType: 'blob',\n      timeout: 600000,\n      url: uploadUrl.downloadPackage,\n      data: params\n    }).then(function (res) {\n      fileDownload(res, zipName);\n      resolve();\n    }).catch(function (error) {\n      // console.log(error)\n      reject(error);\n    });\n  });\n  return promise;\n}; //移除文件\n\n\nVue.prototype.$$deleteUpLoad = function (params) {\n  var that = this;\n  var promise = new Promise(function (resolve, reject) {\n    that.$axios({\n      method: 'post',\n      url: uploadUrl.deleteUpLoad,\n      data: params\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n  return promise;\n};\n/*获取关联表单附件列表*/\n\n\nVue.prototype.$$queryFileList = function (param) {\n  var _this3 = this;\n\n  var _that = this;\n\n  var promise = new Promise(function (resolve, reject) {\n    _that.$axios({\n      method: 'post',\n      // url: '/CyfzFileCtrl/queryFileListByRelatedIdAndFileTypeDm',\n      url: _this3.$api.upload.queryFileList,\n      data: param\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n  return promise;\n};\n/*上传业务接口关联表*/\n\n\nVue.prototype.$$insertFileInfo = function (param) {\n  var _that = this;\n\n  var promise = new Promise(function (resolve, reject) {\n    _that.$axios({\n      method: 'post',\n      // url: '/CyfzFileCtrl/insertFileInfo',\n      url: _that.$api.upload.insertFileInfo,\n      data: param\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n  return promise;\n};\n/*批量上传业务接口关联表*/\n\n\nVue.prototype.$$insertFileInfoBatch = function (param) {\n  var _that = this;\n\n  var promise = new Promise(function (resolve, reject) {\n    _that.$axios({\n      method: 'post',\n      // url: '/CyfzFileCtrl/insertFileInfoBatch',\n      url: _that.$api.upload.insertFileInfoBatch,\n      data: param\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (err) {\n      reject(err);\n    });\n  });\n  return promise;\n};\n/*上传业务接口移除关联*/\n\n/*param {\"uuids\":\"13243,3124,34132\"}*/\n\n\nVue.prototype.$$delMultiFile = function (param) {\n  var _this4 = this;\n\n  var _that = this;\n\n  var promise = new Promise(function (resolve, reject) {\n    _that.$axios({\n      method: 'post',\n      // url: '/CyfzFileCtrl/updateMultiFileDelFlagByPK',\n      url: _this4.$api.upload.delMultiFile,\n      data: param\n    }).then(function (res) {\n      resolve(res);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n  return promise;\n};\n/*----白昱--封装上传下载----end*/\n//获取url param:{md5Path:\"\",success:func(){},error:func(){}}\n\n\nVue.prototype.$$getImgUrlByMd5path = function (param) {\n  this.$axios({\n    method: \"post\",\n    url: uploadUrl.download,\n    data: {\n      md5Path: param.md5Path,\n      access_token: localStorage.getItem(\"access_token\")\n    },\n    responseType: \"arraybuffer\"\n  }).then(function (res) {\n    var imgUrl = \"data:image/png;base64,\" + btoa(new Uint8Array(res).reduce(function (data, byte) {\n      return data + String.fromCharCode(byte);\n    }, \"\"));\n    return imgUrl;\n  }).catch(function (error) {\n    console.log(error);\n  });\n}; //路由跳转新页面且互不影响 {component:\"\",tabName:\"\",params:{}}\n\n\nVue.prototype.$$Push = function (param) {\n  var tabName = param.tabName || \"vue\" + Math.floor(Math.random() * 10000);\n  var component = {\n    extends: param.component,\n    name: tabName\n  };\n  this.$router.addRoutes([{\n    path: '/',\n    name: 'index',\n    //component:() => import(\"@/views/index\"),\n    children: [{\n      path: '/' + tabName + '/:moduleName',\n      name: tabName,\n      meta: {\n        tabname: tabName\n      },\n      component: component\n    }]\n  }]);\n  this.$router.push({\n    name: tabName,\n    params: param.params || {\n      moduleName: \"worktab_1\"\n    }\n  });\n}; //将base64转换为blob\n\n\nVue.prototype.$$base64toBlob = function (dataurl) {\n  var arr = dataurl.split(','),\n      mime = arr[0].match(/:(.*?);/)[1],\n      bstr = atob(arr[1]),\n      n = bstr.length,\n      u8arr = new Uint8Array(n);\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n\n  return new Blob([u8arr], {\n    type: mime\n  });\n}, //将blob转换为file\nVue.prototype.$$blobToFile = function (theBlob, fileName) {\n  theBlob.lastModifiedDate = new Date();\n  theBlob.name = fileName;\n  return theBlob;\n};",{"version":3,"sources":["D:\\vueWorkspace\\cyfz\\src\\lib\\util.js"],"names":["Vue","BMF","tableConfig","needLoading","pagination","currentPage","pageSize","position","layout","tableColumnEmpty","prototype","$$config","Object","assign","bmf","isOpen","$api","uploadUrl","md5Check","upload","reqUrl","md5CheckUpload","uploadDfs","preview","download","upLoadParams","userId","moduleName","uuid","replace","c","crypto","getRandomValues","Uint8Array","toString","unique","arr","forEach","item","JSON","stringify","keys","map","u","parse","pattern","phone","email","idCard","util","$$util","$$request","param","_that","promise","Promise","resolve","reject","$axios","method","url","data","params","headers","onUploadProgress","then","res","catch","error","msgAlert","msg","callbackMethod","that","$alert","confirmButtonText","callback","action","$","isEmpty","msgError","selectOneWarn","$message","type","message","getItems","key","obj","ids","selectItems","push","deleteConfirm","result","length","msgConfirm","showConfirm","catchCallBack","_this","$confirm","cancelButtonText","simplePost","isNotEmpty","search","code","getCurrentDateStr","fmt","date","Date","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","RegExp","$1","getFullYear","substr","k","getNowFormatDate","seperator1","year","month","strDate","currentdate","postConfirm","httpPost","copyObj","odlObj","newobj","attr","copyArray","odlArray","newArray","i","attributeCount","count","showTips","showClose","duration","$$md5ByFile","md5","file","err","$$md5CheckByFile","fileSize","size","fileSrcName","name","$$uploadFile","formData","FormData","append","progressEvent","percent","loaded","total","progress","$$download","fileDownload","require","fileName","split","responseType","md5Path","$$downloadPackage","zipName","timeout","downloadPackage","$$deleteUpLoad","deleteUpLoad","$$queryFileList","queryFileList","$$insertFileInfo","insertFileInfo","$$insertFileInfoBatch","insertFileInfoBatch","$$delMultiFile","delMultiFile","$$getImgUrlByMd5path","access_token","localStorage","getItem","imgUrl","btoa","reduce","byte","String","fromCharCode","console","log","$$Push","tabName","random","component","extends","$router","addRoutes","path","children","meta","tabname","$$base64toBlob","dataurl","mime","match","bstr","atob","n","u8arr","charCodeAt","Blob","$$blobToFile","theBlob","lastModifiedDate"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport BMF from \"browser-md5-file\";\r\n\r\n/*\r\n* 表格配置参数\r\n* */\r\nconst tableConfig = {\r\n    needLoading: true, //在表格加载数据时显示，默认不显示\r\n    pagination: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        position: 'right',\r\n        layout: 'total,prev, pager, next, jumper'\r\n    },  //分页：pagination值为空默认分页 ；pagination不为空自定义分页；不传，默认不分页\r\n    tableColumnEmpty: '暂无数据'// 列为空时显示的提示语，默认为'暂无数据'\r\n}\r\n\r\nVue.prototype.$$config = Object.assign({}, {\"tableConfig\": tableConfig});\r\n//定义变量\r\nconst bmf = new BMF();\r\nvar isOpen = false;\r\n\r\nconst $api = Vue.prototype.$api\r\nconst uploadUrl = {\r\n    md5Check: $api.upload.reqUrl + $api.upload.md5CheckUpload,  //MD5校验\r\n    uploadDfs: $api.upload.reqUrl + $api.upload.uploadDfs, //上传\r\n    preview: $api.upload.reqUrl + $api.upload.preview,      //预览\r\n    download: $api.upload.reqUrl + $api.upload.download,    //下载\r\n    /*downloadPackage:$api.upload.reqUrl+$api.upload.downloadPackage,\r\n      deleteUpLoad:$api.upload.reqUrl+$api.upload.deleteUpLoad,\r\n      downloadByMd5Path: $api.upload.reqUrl+$api.upload.downloadByMd5Path*/\r\n}\r\nconst upLoadParams = {\r\n    userId: \"222222\",\r\n    moduleName: \"CheckForFrontEnd\"\r\n}\r\n\r\n//生成字符串\r\nfunction uuid() {\r\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16));\r\n}\r\n\r\n//对象数组去重\r\nfunction unique(arr) {\r\n    var unique = {}\r\n    arr.forEach(function (item) {\r\n        unique[JSON.stringify(item)] = item //键名不会重复\r\n    })\r\n    arr = Object.keys(unique).map(function (u) {\r\n        //Object.keys()返回对象的所有键值组成的数组，map方法是一个遍历方法，返回遍历结果组成的数组.将unique对象的键名还原成对象数组\r\n        return JSON.parse(u)\r\n    })\r\n    return arr\r\n}\r\n\r\n//正则验证\r\nconst pattern = {\r\n    phone: /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/,\r\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\r\n    idCard: /^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$/\r\n}\r\n//工具类\r\nconst util = {\r\n    uuid: uuid,\r\n    unique: unique,\r\n    pattern: pattern\r\n}\r\nVue.prototype.$$util = util\r\n// this.$$request().then(function (res) {})\r\nVue.prototype.$$request = function (param) {\r\n    const _that = this\r\n    const promise = new Promise((resolve, reject) => {\r\n        _that.$axios({\r\n            method: param.method || \"post\",\r\n            url: param.url || \"\",\r\n            data: param.data || {},\r\n            params: param.method == 'get' ? param.data : {},\r\n            headers: param.headers || {},\r\n            onUploadProgress: param.onUploadProgress || null\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (error) {\r\n            reject(error)\r\n        })\r\n    })\r\n    return promise\r\n}\r\n\r\n\r\nVue.prototype.msgAlert = function (msg, callbackMethod) {\r\n    var that = this;\r\n    if (!isOpen) {\r\n        isOpen = true;\r\n        that.$alert(msg, '信息提示', {\r\n            confirmButtonText: '确定',\r\n            callback: function callback(action) {\r\n                isOpen = false;\r\n                if (!$.isEmpty(callbackMethod)) callbackMethod(action);\r\n            }\r\n        });\r\n    }\r\n};\r\nVue.prototype.msgError = function (msg, callbackMethod) {\r\n    var that = this;\r\n    if (!isOpen) {\r\n        isOpen = true;\r\n        that.$alert(msg, '错误提示', {\r\n            confirmButtonText: '确定',\r\n            callback: function callback(action) {\r\n                isOpen = false;\r\n                if (!$.isEmpty(callbackMethod)) callbackMethod(action);\r\n            }\r\n        });\r\n    }\r\n};\r\nVue.prototype.selectOneWarn = function () {\r\n    this.$message({type: 'warning', message: '请先选择一个操作项'});\r\n};\r\nVue.prototype.getItems = function (key, obj) {\r\n    if ($.isEmpty(key)) key = 'id';\r\n    var ids = [];\r\n    var obj = obj ? obj : this.selectItems;\r\n    obj.forEach(function (item) {\r\n        ids.push(item[key]);\r\n    });\r\n    return ids;\r\n};\r\nVue.prototype.deleteConfirm = function (url, data, result, msg) {\r\n    if (this.selectItems.length === 0) {\r\n        this.selectOneWarn();\r\n    } else {\r\n        this.msgConfirm(url, data, result, msg);\r\n    }\r\n};\r\nVue.prototype.showConfirm = function (msg, result, catchCallBack) {\r\n    var _this = this;\r\n    this.$confirm(msg, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n    })\r\n        .then(function () {\r\n            result();\r\n        })\r\n        .catch(function () {\r\n            if ($.isEmpty(catchCallBack)) {\r\n                _this.$message({\r\n                    type: 'info',\r\n                    message: '已取消'\r\n                });\r\n            } else {\r\n                catchCallBack();\r\n            }\r\n        });\r\n};\r\nVue.prototype.msgConfirm = function (url, data, result, msg = '此操作将永久删除该信息, 是否继续?') {\r\n    var _this = this;\r\n    this.showConfirm(msg, function () {\r\n        _this.simplePost(url, data, function (obj) {\r\n            if ($.isNotEmpty(result)) {\r\n                result(obj);\r\n            } else {\r\n                _this.search();\r\n            }\r\n            if (obj.code !== 0) return;\r\n            _this.$message({\r\n                type: 'info',\r\n                message: '操作成功'\r\n            });\r\n        });\r\n    });\r\n};\r\nVue.prototype.getCurrentDateStr = function (fmt) {\r\n    var date = new Date();\r\n    fmt = fmt || \"yyyy-MM-dd hh:mm:ss\";\r\n    var o = {\r\n        \"M+\": date.getMonth() + 1, //月份\r\n        \"d+\": date.getDate(), //日\r\n        \"h+\": date.getHours(), //小时\r\n        \"m+\": date.getMinutes(), //分\r\n        \"s+\": date.getSeconds(), //秒\r\n        \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\r\n        \"S\": date.getMilliseconds() //毫秒\r\n    };\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n    }\r\n    for (var k in o) {\r\n        if (new RegExp(\"(\" + k + \")\").test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n        }\r\n    }\r\n    return fmt;\r\n}\r\n\r\nVue.prototype.getNowFormatDate = function () {\r\n    var date = new Date();\r\n    var seperator1 = '-';\r\n    var year = date.getFullYear();\r\n    var month = date.getMonth() + 1;\r\n    var strDate = date.getDate();\r\n    if (month >= 1 && month <= 9) {\r\n        month = '0' + month;\r\n    }\r\n    if (strDate >= 0 && strDate <= 9) {\r\n        strDate = '0' + strDate;\r\n    }\r\n    var currentdate = year + seperator1 + month + seperator1 + strDate;\r\n    return currentdate;\r\n};\r\n\r\n\r\nVue.prototype.postConfirm = function (url, data, result, msg) {\r\n    if ($.isEmpty(msg)) msg = '确定此操作?';\r\n    var _this = this;\r\n    this.showConfirm(msg, function () {\r\n        _this.httpPost(url, data, function (obj) {\r\n            if ($.isNotEmpty(result)) {\r\n                result(obj);\r\n            } else {\r\n                _this.search();\r\n            }\r\n            _this.$message({\r\n                type: 'info',\r\n                message: '操作成功'\r\n            });\r\n        });\r\n    });\r\n};\r\n\r\nVue.prototype.copyObj = function (odlObj) {\r\n    //复制对象\r\n    var newobj = {};\r\n    for (var attr in odlObj) {\r\n        newobj[attr] = odlObj[attr];\r\n    }\r\n    return newobj;\r\n};\r\nVue.prototype.copyArray = function (odlArray) {\r\n    //复制数组\r\n    var newArray = [];\r\n    for (var i = 0; i < odlArray.length; i++) {\r\n        var obj = odlArray[i];\r\n        newArray.push(obj);\r\n    }\r\n    return newArray;\r\n};\r\nVue.prototype.attributeCount = function (obj) {\r\n    //获取对象属性数量\r\n    var count = 0;\r\n    for (var i in obj) {\r\n        count++;\r\n    }\r\n    return count;\r\n};\r\n\r\n\r\n// 消息提示\r\nVue.prototype.showTips = function (params) {\r\n    this.$message({\r\n        type: params.type || 'success',\r\n        message: params.message || '操作成功',\r\n        showClose: params.showClose === false ? false : true,\r\n        duration: (params.duration >= 0) ? params.duration : 3000\r\n    });\r\n};\r\n// 获取md5\r\nVue.prototype.$$md5ByFile = function (param) {\r\n    const promise = new Promise((resolve, reject) => {\r\n        bmf.md5(param.file, (err, md5) => {\r\n            if (err) {\r\n                reject(err)\r\n            } else if (md5) {\r\n                resolve({md5: md5})\r\n            }\r\n        })\r\n    })\r\n    return promise\r\n}\r\n\r\n//md5校验 param:{file,upLoadParams:{userId,moduleName}}\r\nVue.prototype.$$md5CheckByFile = function (param) {\r\n    const promise = new Promise((resolve, reject) => {\r\n        this.$$request({\r\n            method: \"get\",\r\n            url: uploadUrl.md5Check,\r\n            data: {\r\n                md5: param.md5,\r\n                fileSize: param.file.size,\r\n                userId: upLoadParams.userId,\r\n                moduleName: upLoadParams.moduleName,\r\n                fileSrcName: param.file.name,\r\n            }\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (error) {\r\n            reject(error)\r\n        })\r\n    })\r\n    return promise\r\n}\r\n\r\n//上传 param:{md5:\"\",file,progress:func(percent){},success:func(){},error:func(){}}\r\nVue.prototype.$$uploadFile = function (param) {\r\n    const _that = this\r\n    const promise = new Promise((resolve, reject) => {\r\n        let formData = new FormData()\r\n        formData.append(\"userId\", upLoadParams.userId)\r\n        formData.append(\"moduleName\", upLoadParams.moduleName)\r\n        formData.append(\"md5\", param.md5)\r\n        formData.append(\"file\", param.file)\r\n        formData.append(\"fileSize\", param.file.size,)\r\n        formData.append(\"is_public\", '1',)\r\n        _that.$axios({\r\n            method: \"post\",\r\n            url: uploadUrl.uploadDfs,\r\n            data: formData,\r\n            headers: {\r\n                \"Content-type\": \"multipart/form-data\"\r\n            },\r\n            onUploadProgress: progressEvent => {\r\n                let percent = ((progressEvent.loaded / progressEvent.total) * 100) | 0\r\n                param.progress && param.progress(percent)\r\n            }\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (error) {\r\n            reject(error)\r\n        })\r\n    })\r\n    return promise\r\n}\r\n/*----白昱--封装上传下载---start*/\r\n//下载\r\nVue.prototype.$$download = function (param) {\r\n    const that = this\r\n    let fileDownload = require(\"js-file-download\");\r\n    const promise = new Promise((resolve, reject) => {\r\n        if (!!param.url) {\r\n            let fileName = param.name ? param.name : param.url.split(\"@\")[0] + '.docx'\r\n            that.$axios({\r\n                method: 'get',\r\n                url: uploadUrl.download + \"?md5Path=\" + param.url,\r\n                responseType: \"blob\",\r\n                data: {\r\n                    md5Path: param.url,\r\n                }\r\n            }).then(function (res) {\r\n                fileDownload(res, fileName);\r\n                resolve(res);\r\n            }).catch(function (error) {\r\n                reject(error)\r\n            })\r\n        } else {\r\n            reject('md5path不存在')\r\n        }\r\n    })\r\n    return promise;\r\n}\r\n//批量下载，打包下载\r\nVue.prototype.$$downloadPackage = function (params) {\r\n    const that = this\r\n    let fileDownload = require(\"js-file-download\");\r\n    const promise = new Promise((resolve, reject) => {\r\n        let zipName = params.zipName ? params.zipName : 'download.zip';\r\n        that.$axios({\r\n            method: 'post',\r\n            responseType: 'blob',\r\n            timeout: 600000,\r\n            url: uploadUrl.downloadPackage,\r\n            data: params\r\n        }).then(function (res) {\r\n            fileDownload(res, zipName);\r\n            resolve()\r\n        }).catch(function (error) {\r\n            // console.log(error)\r\n            reject(error)\r\n        })\r\n    })\r\n    return promise;\r\n}\r\n//移除文件\r\nVue.prototype.$$deleteUpLoad = function (params) {\r\n    const that = this\r\n    const promise = new Promise((resolve, reject) => {\r\n        that.$axios({\r\n            method: 'post',\r\n            url: uploadUrl.deleteUpLoad,\r\n            data: params\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (error) {\r\n            reject(error)\r\n        })\r\n    })\r\n    return promise;\r\n}\r\n/*获取关联表单附件列表*/\r\nVue.prototype.$$queryFileList = function (param) {\r\n    const _that = this\r\n    const promise = new Promise((resolve, reject) => {\r\n        _that.$axios({\r\n            method: 'post',\r\n            // url: '/CyfzFileCtrl/queryFileListByRelatedIdAndFileTypeDm',\r\n            url:this.$api.upload.queryFileList,\r\n            data: param\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (error) {\r\n            reject(error)\r\n        })\r\n    })\r\n    return promise\r\n}\r\n/*上传业务接口关联表*/\r\nVue.prototype.$$insertFileInfo = function (param) {\r\n    const _that = this\r\n    const promise = new Promise((resolve, reject) => {\r\n        _that.$axios({\r\n            method: 'post',\r\n            // url: '/CyfzFileCtrl/insertFileInfo',\r\n            url:_that.$api.upload.insertFileInfo,\r\n            data: param\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (err) {\r\n            reject(err)\r\n        })\r\n    });\r\n    return promise\r\n}\r\n/*批量上传业务接口关联表*/\r\nVue.prototype.$$insertFileInfoBatch = function (param) {\r\n    const _that = this\r\n    const promise = new Promise((resolve, reject) => {\r\n        _that.$axios({\r\n            method: 'post',\r\n            // url: '/CyfzFileCtrl/insertFileInfoBatch',\r\n            url:_that.$api.upload.insertFileInfoBatch,\r\n            data: param\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (err) {\r\n            reject(err)\r\n        })\r\n    });\r\n    return promise\r\n}\r\n\r\n/*上传业务接口移除关联*/\r\n/*param {\"uuids\":\"13243,3124,34132\"}*/\r\nVue.prototype.$$delMultiFile = function (param) {\r\n    const _that = this\r\n    const promise = new Promise((resolve, reject) => {\r\n        _that.$axios({\r\n            method: 'post',\r\n            // url: '/CyfzFileCtrl/updateMultiFileDelFlagByPK',\r\n            url:this.$api.upload.delMultiFile,\r\n            data: param\r\n        }).then(function (res) {\r\n            resolve(res)\r\n        }).catch(function (error) {\r\n            reject(error)\r\n        })\r\n    })\r\n    return promise\r\n}\r\n\r\n/*----白昱--封装上传下载----end*/\r\n//获取url param:{md5Path:\"\",success:func(){},error:func(){}}\r\nVue.prototype.$$getImgUrlByMd5path = function (param) {\r\n    this.$axios({\r\n        method: \"post\",\r\n        url: uploadUrl.download,\r\n        data: {\r\n            md5Path: param.md5Path,\r\n            access_token: localStorage.getItem(\"access_token\")\r\n        },\r\n        responseType: \"arraybuffer\"\r\n    }).then(function (res) {\r\n        let imgUrl = \"data:image/png;base64,\" +\r\n            btoa(new Uint8Array(res).reduce((data, byte) => data + String.fromCharCode(byte), \"\"));\r\n        return imgUrl;\r\n    }).catch(function (error) {\r\n        console.log(error);\r\n    });\r\n}\r\n\r\n//路由跳转新页面且互不影响 {component:\"\",tabName:\"\",params:{}}\r\nVue.prototype.$$Push = function (param) {\r\n    let tabName = param.tabName || \"vue\" + Math.floor(Math.random() * 10000)\r\n    let component = {\r\n        extends: param.component,\r\n        name: tabName\r\n    }\r\n\r\n    this.$router.addRoutes([{\r\n        path: '/',\r\n        name: 'index',\r\n        //component:() => import(\"@/views/index\"),\r\n        children: [{\r\n            path: '/' + tabName + '/:moduleName',\r\n            name: tabName,\r\n            meta: {\r\n                tabname: tabName\r\n            },\r\n            component: component\r\n        }]\r\n    }])\r\n    this.$router.push({\r\n        name: tabName,\r\n        params: param.params || {\r\n            moduleName: \"worktab_1\",\r\n        }\r\n    })\r\n}\r\n\r\n\r\n//将base64转换为blob\r\nVue.prototype.$$base64toBlob = function (dataurl) {\r\n    var arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new Blob([u8arr], {type: mime});\r\n},\r\n//将blob转换为file\r\n    Vue.prototype.$$blobToFile = function (theBlob, fileName) {\r\n        theBlob.lastModifiedDate = new Date();\r\n        theBlob.name = fileName;\r\n        return theBlob;\r\n    }\r\n"]}]}