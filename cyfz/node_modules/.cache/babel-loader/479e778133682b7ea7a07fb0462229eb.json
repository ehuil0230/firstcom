{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js!D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\rcjpxgl\\rgznyfjgjs.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\rcjpxgl\\rgznyfjgjs.vue","mtime":1571466477561},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TableList from \"../../../components/grid/TableList\";\nexport default {\n  name: \"rgznyfjgjs\",\n  components: {\n    TableList: TableList\n  },\n  data: function data() {\n    return {\n      packageStatus: this.$packageStatus,\n      dialogFormVisible: false,\n      checkedData: [],\n      //tablelist数据传输\n\n      /*区分---内网*/\n      getDataWay: {\n        dataType: \"url\",\n        type: 'post',\n        data: this.$api.hyglApi.queryResearchOrg,\n        param: {\n          netType: this.$packageStatus === 'zwww' ? 'in' : 'ex'\n        }\n      },\n\n      /*区分---内网*/\n\n      /*getDataWay: {\n          dataType: \"url\",\n          type: 'post',\n          data: this.$api.hyglApi.queryResearchOrg,\n          param: {\n              netType: 'ex'\n          }\n      },*/\n      pagination: {\n        currentPage: 1,\n        pageSize: 10,\n        position: 'center',\n        pageSizes: [10, 50, 100],\n        //默认每页显示多少条\n        layout: 'sizes ,prev, pager, next, jumper'\n      },\n      //tablelist表单表头\n      columns: [{\n        label: '年度',\n        prop: 'givenYear',\n        showOverflowTooltip: true,\n        template: true\n      }, {\n        label: '企业名称',\n        prop: 'comName'\n      }, {\n        label: '企业建立研发机构数',\n        prop: 'researchOrgNum',\n        width: '18%'\n      }, {\n        label: '当年新建研发机构数',\n        prop: 'newOrgNum',\n        width: '18%'\n      }, {\n        label: '在境外建立研发机构数',\n        prop: 'exOrgNum',\n        width: '18%'\n      }, {\n        label: '研发机构场地总面积（单位/面积）',\n        prop: 'area',\n        width: '18%'\n      }],\n      //人工智能研发机构建设表\n      form: {\n        uuid: '',\n        //指定comid\n        //企业名称自动带出\n        comName: '',\n        //以下字段填报\n        givenYear: '',\n\n        /**企业建立研发机构数*/\n        researchOrgNum: '',\n\n        /**当年新增研发设备数*/\n        newOrgNum: '',\n\n        /**在境外建立研发机构数*/\n        exOrgNum: '',\n\n        /**研发机构场地总面积*/\n        area: '',\n\n        /**企业研发设备资产总额(万元）*/\n        equipAccounts: '',\n\n        /**研发机构人员*/\n        researcherNum: '',\n\n        /**当年新增研发设备数*/\n        newEquipNum: ''\n      },\n      //输入框验证\n      rules: {\n        givenYear: [{\n          required: true,\n          message: '请选择所属年度'\n        }],\n        researchOrgNum: [{\n          required: true,\n          message: '请输入企业建立研发机构数'\n        }, {\n          type: 'number',\n          message: '数量必须为数字值'\n        }],\n        newOrgNum: [{\n          required: true,\n          message: '请输入当年新建研发机构数'\n        }, {\n          type: 'number',\n          message: '数量必须为数字值'\n        }],\n        exOrgNum: [{\n          required: true,\n          message: '请输入在境外建立研发机构数'\n        }, {\n          type: 'number',\n          message: '数量必须为数字值'\n        }],\n        area: [{\n          required: true,\n          message: '请输入研发机构场地总面积'\n        }, {\n          type: 'number',\n          message: '面积必须为数字值'\n        }],\n        equipAccounts: [{\n          required: true,\n          message: '请输入企业研发设备资产总额数'\n        }, {\n          type: 'number',\n          message: '数量必须为数字值'\n        }],\n        researcherNum: [{\n          required: true,\n          message: '请输入研发机构人员数'\n        }, {\n          type: 'number',\n          message: '人数必须为数字值'\n        }],\n        newEquipNum: [{\n          required: true,\n          message: '请输入当年新增研发设备数'\n        }, {\n          type: 'number',\n          message: '数量必须为数字值'\n        }]\n      }\n    };\n  },\n  methods: {\n    handleClose: function handleClose() {\n      var _this = this;\n\n      this.form.givenYear = '', this.form.researchOrgNum = '', this.form.newOrgNum = '', this.form.exOrgNum = '', this.form.area = '', this.form.equipAccounts = '', this.form.researcherNum = '', this.form.newEquipNum = '', this.$nextTick(function () {\n        _this.$refs['form'].clearValidate();\n      });\n      this.checkedData = [];\n      this.dialogFormVisible = false;\n      this.$refs.table.loadData();\n    },\n    //获取列表详情\n    getDetail: function getDetail(data) {\n      if (this.packageStatus === 'hlw') {\n        return false;\n      } else {\n        var that = this;\n        that.form = data; //that.form.comName = res.info.comName\n\n        that.$set(that.form, 'givenYear', data.givenYear.toString());\n        that.dialogFormVisible = true;\n        /*return new Promise(((resolve, reject) => {*/\n\n        /*this.$$request({\n            method: 'post',\n            url: this.$api.hyglApi.getComName,\n            data: {\n                comid: data.comid,\n                givenYear: data.givenYear,\n            }\n        }).then(function (res) {\n            if (res.result === 1) {\n                that.form = data\n                that.form.comName = res.info.comName\n                that.$set(that.form, 'givenYear', data.givenYear.toString());\n                that.dialogFormVisible = true\n            } else {\n                that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\n            }\n        }).catch(function (error) {\n            that.$alert(error, \"系统异常，请联系管理员！\", {});\n        })*/\n      }\n    },\n    add: function add() {\n      var that = this;\n      this.$axios({\n        method: 'post',\n        url: this.$api.hyglApi.getComName,\n        data: {\n          comid: '',\n          givenYear: ''\n        }\n      }).then(function (res) {\n        that.form.comName = res.info.comName;\n        that.dialogFormVisible = true;\n      }).catch(function (error) {\n        that.$alert(error, \"系统异常，请联系管理员！\", {});\n        return false;\n      });\n    },\n    //保存按钮事件\n    submitForm: function submitForm(form) {\n      var _this2 = this;\n\n      var that = this;\n      this.$refs[form].validate(function (valid) {\n        if (valid) {\n          var req = that.form;\n\n          _this2.$axios({\n            method: 'post',\n            url: _this2.$api.hyglApi.saveReasearchOrg,\n            data: that.form\n          }).then(function (res) {\n            if (res.result === 1) {\n              that.$message({\n                message: '操作成功',\n                type: 'success'\n              });\n              that.checkedData = [];\n              that.dialogFormVisible = false;\n              that.$refs.table.loadData();\n            } else {\n              that.checkedData = [];\n              that.dialogFormVisible = false;\n              that.$refs.table.loadData();\n            }\n          });\n        } else {\n          that.checkedData = [];\n          that.$refs.table.loadData();\n          return false;\n        }\n      });\n    },\n    //修改\n    update: function update() {\n      var that = this;\n\n      if (this.checkedData.length > 1 || that.checkedData.length == 0) {\n        that.$alert('请选中一条数据进行修改', '提示', {\n          type: 'warning'\n        });\n      } else {\n        /*this.$axios({\n            method: 'post',\n            url: this.$api.hyglApi.getComName,\n            data: {\n                comid: this.checkedData.comName,\n                givenYear: this.checkedData.givenYear,\n            }\n        }).then(function (res) {\n            that.form.comName = res.info.comName\n        })*/\n        var checkData = this.checkedData[0];\n        this.form.comName = checkData.comName, this.form.uuid = checkData.uuid, this.$set(this.form, 'givenYear', checkData.givenYear.toString());\n        this.form.comName = checkData.comName, this.form.researchOrgNum = checkData.researchOrgNum, this.form.newOrgNum = checkData.newOrgNum, this.form.exOrgNum = checkData.exOrgNum, this.form.area = parseInt(checkData.area);\n        this.form.equipAccounts = parseInt(checkData.equipAccounts), this.form.researcherNum = checkData.researcherNum, this.form.newEquipNum = checkData.newEquipNum;\n        this.dialogFormVisible = true;\n      }\n    },\n    //删除\n    del: function del() {\n      var _this3 = this;\n\n      var that = this;\n\n      if (that.checkedData.length < 1) {\n        that.$alert('请选择至少一条数据进行删除！', '提示', {\n          type: 'warning'\n        });\n      } else {\n        that.$confirm('确认删除?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          var that = _this3;\n          var uuid = '';\n\n          for (var i = 0; i < _this3.checkedData.length; i++) {\n            uuid += _this3.checkedData[i].uuid + ',';\n          }\n\n          _this3.$axios({\n            method: 'post',\n            url: _this3.$api.hyglApi.deleteResearchOrgByUuid,\n            data: {\n              uuid: uuid\n            }\n          }).then(function (res) {\n            if (res.result == 1) {\n              that.$message({\n                message: '删除成功',\n                type: 'success'\n              });\n              that.checkedData = [];\n              that.$refs.table.loadData();\n            } else {\n              that.$message({\n                message: '删除失败',\n                type: 'error'\n              });\n              that.checkedData = [];\n            }\n          });\n        }).catch(function () {});\n      }\n    }\n  }\n};",{"version":3,"sources":["rgznyfjgjs.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"overflow-x: hidden\">\r\n        <div class=\"xbt\">\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"add('form')\" size=\"medium\" type=\"primary\">添加</el-button>\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"update\" size=\"medium\" type=\"primary\">修改</el-button>\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"del\" size=\"medium\" type=\"primary\">删除</el-button>\r\n        </div>\r\n        <div style=\"margin-top: 15px\">\r\n            <table-list :columns=\"columns\"\r\n                        :checkedData='checkedData'\r\n                        :getDataWay=\"getDataWay\"\r\n                        :pagination=\"pagination\"\r\n                        index\r\n                        ref=\"table\"\r\n                        selection>\r\n                <el-table-column label=\"年度\" slot=\"givenYear\" show-overflow-tooltip>\r\n                    <template slot-scope=\"scope\">\r\n                        <el-link :underline=\"false\" @click.stop=\"getDetail(scope.row)\" class=\"a-link\">\r\n                            {{scope.row.givenYear}}\r\n                        </el-link>\r\n                    </template>\r\n                </el-table-column>\r\n            </table-list>\r\n        </div>\r\n        <el-dialog\r\n                @open=\"openDialog\"\r\n                :close-on-click-modal=\"false\"\r\n                :visible.sync=\"dialogFormVisible\"\r\n                title=\"人工智能研发机构建设\"\r\n                v-dialogDrag\r\n                width=\"960px\"\r\n                @close=\"handleClose\"\r\n        >\r\n            <el-form :inline=\"true\" :model=\"form\" :rules=\"rules\" class=\"demo-form df\" label-width=\"180px\" ref=\"form\"\r\n                     size=\"mini\">\r\n                <el-form-item label=\"企业名称\">\r\n                    <el-input :disabled=\"true\" class=\"rc\" v-model=\"form.comName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"所属年度\" prop=\"givenYear\">\r\n                    <el-date-picker\r\n                            :disabled=\"packageStatus !== 'hlw'\"\r\n                            class=\"rc\"\r\n                            placeholder=\"选择年度\"\r\n                            type=\"year\"\r\n                            v-model=\"form.givenYear\"\r\n                            format=\"yyyy\"\r\n                            value-format=\"yyyy\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"企业建立研发机构数\" prop=\"researchOrgNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.researchOrgNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"当年新建研发机构数\" prop=\"newOrgNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.newOrgNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"在境外建立研发机构数\" prop=\"exOrgNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.exOrgNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"研发机构场地总面积\" prop=\"area\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" placeholder=\"单位平方米\"\r\n                              v-model.number=\"form.area\" maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"企业研发设备资产总额\" prop=\"equipAccounts\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" placeholder=\"单位万元\"\r\n                              v-model.number=\"form.equipAccounts\"\r\n                              maxlength=\"8\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"研发机构人员数\" prop=\"researcherNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.researcherNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"当年新增研发设备数\" prop=\"newEquipNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.newEquipNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"width: 100%;text-align: center\">\r\n                    <el-button v-if=\"packageStatus === 'hlw'\" class=\"btnc\" @click=\"submitForm('form')\" size=\"medium \"\r\n                               type=\"primary\">保存\r\n                    </el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import TableList from \"../../../components/grid/TableList\";\r\n\r\n    export default {\r\n        name: \"rgznyfjgjs\",\r\n        components: {TableList},\r\n        data() {\r\n            return {\r\n                packageStatus: this.$packageStatus,\r\n                dialogFormVisible: false,\r\n                checkedData: [],\r\n                //tablelist数据传输\r\n\r\n                /*区分---内网*/\r\n                getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryResearchOrg,\r\n                    param:{\r\n                        netType:this.$packageStatus==='zwww'?'in':'ex',\r\n                    },\r\n                },\r\n                /*区分---内网*/\r\n                /*getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryResearchOrg,\r\n                    param: {\r\n                        netType: 'ex'\r\n                    }\r\n                },*/\r\n                pagination: {\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                    position: 'center',\r\n                    pageSizes: [10, 50, 100],//默认每页显示多少条\r\n                    layout: 'sizes ,prev, pager, next, jumper'\r\n                },\r\n                //tablelist表单表头\r\n                columns: [\r\n                    {\r\n                        label: '年度',\r\n                        prop: 'givenYear',\r\n                        showOverflowTooltip: true,\r\n                        template: true\r\n                    },\r\n                    {\r\n                        label: '企业名称',\r\n                        prop: 'comName',\r\n                    },\r\n                    {\r\n                        label: '企业建立研发机构数',\r\n                        prop: 'researchOrgNum',\r\n                        width: '18%',\r\n                    },\r\n                    {\r\n                        label: '当年新建研发机构数',\r\n                        prop: 'newOrgNum',\r\n                        width: '18%',\r\n                    },\r\n                    {\r\n                        label: '在境外建立研发机构数',\r\n                        prop: 'exOrgNum',\r\n                        width: '18%',\r\n                    },\r\n                    {\r\n                        label: '研发机构场地总面积（单位/面积）',\r\n                        prop: 'area',\r\n                        width: '18%',\r\n                    },\r\n                ],\r\n                //人工智能研发机构建设表\r\n                form: {\r\n                    uuid: '',\r\n                    //指定comid\r\n                    //企业名称自动带出\r\n                    comName: '',\r\n                    //以下字段填报\r\n                    givenYear: '',\r\n                    /**企业建立研发机构数*/\r\n                    researchOrgNum: '',\r\n                    /**当年新增研发设备数*/\r\n                    newOrgNum: '',\r\n                    /**在境外建立研发机构数*/\r\n                    exOrgNum: '',\r\n                    /**研发机构场地总面积*/\r\n                    area: '',\r\n                    /**企业研发设备资产总额(万元）*/\r\n                    equipAccounts: '',\r\n                    /**研发机构人员*/\r\n                    researcherNum: '',\r\n                    /**当年新增研发设备数*/\r\n                    newEquipNum: ''\r\n                },\r\n                //输入框验证\r\n                rules: {\r\n                    givenYear: [\r\n                        {required: true, message: '请选择所属年度'},\r\n                    ],\r\n                    researchOrgNum: [\r\n                        {required: true, message: '请输入企业建立研发机构数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    newOrgNum: [\r\n                        {required: true, message: '请输入当年新建研发机构数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    exOrgNum: [\r\n                        {required: true, message: '请输入在境外建立研发机构数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    area: [\r\n                        {required: true, message: '请输入研发机构场地总面积'},\r\n                        {type: 'number', message: '面积必须为数字值'}\r\n                    ],\r\n                    equipAccounts: [\r\n                        {required: true, message: '请输入企业研发设备资产总额数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    researcherNum: [\r\n                        {required: true, message: '请输入研发机构人员数'},\r\n                        {type: 'number', message: '人数必须为数字值'}\r\n                    ],\r\n                    newEquipNum: [\r\n                        {required: true, message: '请输入当年新增研发设备数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            handleClose() {\r\n                    this.form.givenYear = '',\r\n                    this.form.researchOrgNum = '',\r\n                    this.form.newOrgNum = '',\r\n                    this.form.exOrgNum = '',\r\n                    this.form.area = '',\r\n                    this.form.equipAccounts = '',\r\n                    this.form.researcherNum = '',\r\n                    this.form.newEquipNum = '',\r\n                    this.$nextTick(() => {\r\n                        this.$refs['form'].clearValidate();\r\n                    })\r\n                this.checkedData = []\r\n                this.dialogFormVisible = false;\r\n                this.$refs.table.loadData()\r\n            },\r\n            //获取列表详情\r\n            getDetail(data) {\r\n                if (this.packageStatus === 'hlw') {\r\n                    return false\r\n                } else {\r\n                    const that = this\r\n                    that.form = data\r\n                    //that.form.comName = res.info.comName\r\n                    that.$set(that.form, 'givenYear', data.givenYear.toString());\r\n                    that.dialogFormVisible = true\r\n                    /*return new Promise(((resolve, reject) => {*/\r\n                    /*this.$$request({\r\n                        method: 'post',\r\n                        url: this.$api.hyglApi.getComName,\r\n                        data: {\r\n                            comid: data.comid,\r\n                            givenYear: data.givenYear,\r\n                        }\r\n                    }).then(function (res) {\r\n                        if (res.result === 1) {\r\n                            that.form = data\r\n                            that.form.comName = res.info.comName\r\n                            that.$set(that.form, 'givenYear', data.givenYear.toString());\r\n                            that.dialogFormVisible = true\r\n                        } else {\r\n                            that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        }\r\n                    }).catch(function (error) {\r\n                        that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    })*/\r\n                }\r\n            },\r\n            add() {\r\n                const that = this\r\n                this.$axios({\r\n                    method: 'post',\r\n                    url: this.$api.hyglApi.getComName,\r\n                    data: {\r\n                        comid: '',\r\n                        givenYear: '',\r\n                    }\r\n                }).then(function (res) {\r\n                    that.form.comName = res.info.comName\r\n                    that.dialogFormVisible = true\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n            },\r\n            //保存按钮事件\r\n            submitForm(form) {\r\n                let that = this;\r\n                this.$refs[form].validate((valid) => {\r\n                    if (valid) {\r\n                        let req = that.form;\r\n                        this.$axios({\r\n                            method: 'post',\r\n                            url: this.$api.hyglApi.saveReasearchOrg,\r\n                            data: that.form\r\n                        }).then(function (res) {\r\n                            if (res.result === 1) {\r\n                                that.$message({\r\n                                    message: '操作成功',\r\n                                    type: 'success'\r\n                                });\r\n                                that.checkedData = [];\r\n                                that.dialogFormVisible = false;\r\n                                that.$refs.table.loadData()\r\n                            } else {\r\n                                that.checkedData = [];\r\n                                that.dialogFormVisible = false;\r\n                                that.$refs.table.loadData()\r\n                            }\r\n                        })\r\n                    } else {\r\n                        that.checkedData = [];\r\n                        that.$refs.table.loadData()\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            //修改\r\n            update() {\r\n                let that = this;\r\n                if (this.checkedData.length > 1 || that.checkedData.length == 0) {\r\n                    that.$alert('请选中一条数据进行修改', '提示', {\r\n                        type: 'warning'\r\n                    })\r\n                } else {\r\n                    /*this.$axios({\r\n                        method: 'post',\r\n                        url: this.$api.hyglApi.getComName,\r\n                        data: {\r\n                            comid: this.checkedData.comName,\r\n                            givenYear: this.checkedData.givenYear,\r\n                        }\r\n                    }).then(function (res) {\r\n                        that.form.comName = res.info.comName\r\n                    })*/\r\n                    let checkData = this.checkedData[0];\r\n                    this.form.comName = checkData.comName,\r\n                    this.form.uuid = checkData.uuid,\r\n                    this.$set(this.form, 'givenYear', checkData.givenYear.toString())\r\n                    this.form.comName = checkData.comName,\r\n                    this.form.researchOrgNum = checkData.researchOrgNum,\r\n                    this.form.newOrgNum = checkData.newOrgNum,\r\n                    this.form.exOrgNum = checkData.exOrgNum,\r\n                    this.form.area = parseInt(checkData.area)\r\n                    this.form.equipAccounts = parseInt(checkData.equipAccounts),\r\n                    this.form.researcherNum = checkData.researcherNum,\r\n                    this.form.newEquipNum = checkData.newEquipNum\r\n                    this.dialogFormVisible = true\r\n                }\r\n            },\r\n            //删除\r\n            del() {\r\n                const that = this\r\n                if (that.checkedData.length < 1) {\r\n                    that.$alert('请选择至少一条数据进行删除！', '提示', {\r\n                        type: 'warning'\r\n                    })\r\n                } else {\r\n                    that.$confirm('确认删除?', '提示', {\r\n                        confirmButtonText: '确定',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                        let that = this;\r\n                        let uuid = '';\r\n                        for (let i = 0; i < this.checkedData.length; i++) {\r\n                            uuid += this.checkedData[i].uuid + ',';\r\n                        }\r\n                        this.$axios({\r\n                            method: 'post',\r\n                            url: this.$api.hyglApi.deleteResearchOrgByUuid,\r\n                            data: {\r\n                                uuid: uuid,\r\n                            }\r\n                        }).then(function (res) {\r\n                            if (res.result == 1) {\r\n                                that.$message({\r\n                                    message: '删除成功',\r\n                                    type: 'success'\r\n                                });\r\n                                that.checkedData = []\r\n                                that.$refs.table.loadData()\r\n                            } else {\r\n                                that.$message({\r\n                                    message: '删除失败',\r\n                                    type: 'error'\r\n                                });\r\n                                that.checkedData = []\r\n                            }\r\n                        })\r\n                    }).catch(function () {\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .bt {\r\n        margin-top: 30px;\r\n        height: 80px;\r\n        width: 100%;\r\n        text-align: center;\r\n        font-size: 30px\r\n    }\r\n\r\n    .xbt {\r\n        color: #3a8ee6;\r\n        height: auto;\r\n        width: 100%;\r\n        text-align: left;\r\n        font-size: 20px;\r\n        margin: 0px 20px 0px 20px;\r\n    }\r\n\r\n    .rc {\r\n        width: 250px;\r\n    }\r\n\r\n    .df {\r\n        padding-top: 20px\r\n    }\r\n\r\n    .btnc {\r\n        width: 150px;\r\n    }\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src/views/hygl/rcjpxgl"}]}