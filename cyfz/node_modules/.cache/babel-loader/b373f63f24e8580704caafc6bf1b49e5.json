{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js!D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\demo\\toolBar\\toolbarPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\demo\\toolBar\\toolbarPage.vue","mtime":1568987312143},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport toolbar from \"@/components/toolbar/toolbar\";\nimport tableList from '@/components/grid/TableList.vue';\nimport tableSet from '@/components/grid/TableSet.vue';\nexport default {\n  name: \"toolbarPage\",\n  components: {\n    toolbar: toolbar,\n    tableList: tableList,\n    tableSet: tableSet\n  },\n  data: function data() {\n    return {\n      setVisible: false,\n      tableSet: {\n        set: {\n          \"tableSize\": \"大\",\n          \"caption\": \"测试\",\n          \"tableScale\": 100\n        }\n      },\n      dialogVisible: false,\n      toolbarItem: [{\n        type: \"primary\",\n        title: \"刷新\",\n        icon: \"el-icon-refresh\",\n        disabled: false,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"编辑\",\n        icon: \"el-icon-edit-outline\",\n        disabled: true,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"列表设置\",\n        icon: \"el-icon-s-grid\",\n        disabled: false,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"刷新\",\n        icon: \"el-icon-arrow-left\",\n        disabled: true,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"刷新列表\",\n        icon: \"el-icon-arrow-left\",\n        disabled: true,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"刷新\",\n        icon: \"el-icon-arrow-left\",\n        disabled: true,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"刷新列表\",\n        icon: \"el-icon-arrow-left\",\n        disabled: false,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"刷新\",\n        icon: \"el-icon-arrow-left\",\n        disabled: false,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"刷新列表\",\n        icon: \"el-icon-arrow-left\",\n        disabled: false,\n        click: \"refresh\"\n      }, {\n        type: \"primary\",\n        title: \"刷新\",\n        icon: \"el-icon-arrow-left\",\n        disabled: false,\n        click: \"refresh\"\n      }],\n      getDataWay: {\n        dataType: \"url\",\n        firstRequest: false,\n        type: \"get\",\n        data: '/mockData/threeMeetingsOneClass/data.json',\n        param: {}\n      },\n      // 通过url方式\n      columns: [// {\n        //     label: '会议名称',\n        //     prop: 'name',\n        //     width: '180',\n        //     showOverflowTooltip:true,\n        //     template: true\n        // }\n      ],\n      pagination: {\n        currentPage: 1,\n        pageSize: 10,\n        position: 'right',\n        pageSizes: [10, 50, 100],\n        //默认每页显示多少条\n        layout: 'sizes ,prev, pager, next, jumper'\n      },\n      tableScale: 100,\n      columnsData: [] // 显示需要设置的表格列\n\n    };\n  },\n  created: function created() {\n    var param = {};\n\n    var _this = this;\n\n    this.$axios({\n      method: 'get',\n      url: _this.getDataWay.data,\n      data: param\n    }).then(function (data) {\n      if (data && data.list) {\n        //初始化数据格式\n        // this.dealWithData(setJson)\n        _this.$refs.table.tableData = data.list;\n        _this.columns = _this.filterColumnByShow(data.columnsData);\n        _this.pagination.pageSize = data.tableSet.pageSize;\n        data.tableSet.pageSizes = _this.pagination.pageSizes;\n        _this.tableSet = {\n          columnsData: data.columnsData,\n          set: data.tableSet\n        };\n        _this.loading = false;\n      } else {//console.info(data.msg)\n      }\n    }).then(function () {\n      _this.selectData();\n    }).catch(function (error) {});\n  },\n  mounted: function mounted() {// this.columns = JSON.parse(localStorage.getItem(\"customColumn\"))\n    // this.$refs.table.tableData=[]\n    //this.getTableData()\n    //this.$refs.table.setTableHeight(600) //传给表格高度\n  },\n  methods: {\n    filterColumnByShow: function filterColumnByShow() {\n      var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var showList = [];\n      list.forEach(function (item) {\n        if (item.show.toString() === 'true') {\n          showList.push(item);\n        }\n      });\n      return showList;\n    },\n    modifySet: function modifySet(obj) {\n      console.log(obj);\n      this.columns = this.filterColumnByShow(obj.columnsData);\n      this.tableSet = obj;\n    },\n    getTableData: function getTableData() {// 发送请求获取表格所有数据包括：列展示与不展示和表格配置信息\n    },\n    columnChange: function columnChange(obj) {// localStorage.setItem('customColumn',JSON.stringify(obj))\n    },\n    showDialog: function showDialog() {\n      this.dialogVisible = true;\n      this.handleSelectionChange(this.columnsData);\n    },\n    toolbarClick: function toolbarClick(item, event) {\n      if (item.title == '列表设置') {\n        //this.dialogVisible = true\n        this.setVisible = true;\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      // 获取选中的列\n      var temp = [];\n      this.columnsData.forEach(function (item) {\n        if (JSON.stringify(val).indexOf(JSON.stringify(item)) > 0) {\n          temp.push(item);\n        }\n      });\n      this.multipleSelection = temp;\n    },\n    setBtn: function setBtn() {\n      // 表格设置项\n      this.dialogVisible = false;\n      var setJson = {}; //需要的json串\n\n      if (!!this.multipleSelection && this.multipleSelection.length > 0) {\n        setJson.columns = this.multipleSelection; //显示列\n      }\n\n      setJson.fontSize = this.fontSize; //表格字体大小设置\n\n      setJson.size = this.pSize; //默认每页显示多少条\n\n      setJson.tableName = this.tableName;\n      setJson.tableWidthScale = this.tableWidthScale;\n      this.dealWithData(setJson);\n    },\n    // 处理数据\n    dealWithData: function dealWithData(obj) {\n      if (!!obj.columns && obj.columns.length > 0) {\n        this.columns = obj.columns;\n      }\n\n      this.chooseSize = obj.fontSize;\n      this.pagination.pageSize = obj.size;\n      this.caption = obj.tableName;\n      this.tableScale = parseInt(obj.tableWidthScale);\n    },\n    objectSpanMethod: function objectSpanMethod(_ref) {\n      var row = _ref.row,\n          column = _ref.column,\n          rowIndex = _ref.rowIndex,\n          columnIndex = _ref.columnIndex;\n\n      if (columnIndex === 2) {\n        if (rowIndex % 2 === 0) {\n          return {\n            rowspan: 2,\n            colspan: 1\n          };\n        } else {\n          return {\n            rowspan: 0,\n            colspan: 0\n          };\n        }\n      }\n    }\n  },\n  watch: {\n    '$store.state.screenWidth': function $storeStateScreenWidth(newValue, oldValue) {\n      this.clientWidth = this.$el.clientWidth; //this.$refs.table\n    },\n    '$store.state.screenHeight': function $storeStateScreenHeight(newValue, oldValue) {\n      //let div1H = this.$refs.div1.offsetHeight\n      var div2H = parseInt(this.$refs.div2.offsetHeight);\n      var clientHeight = this.$store.state.contentHeight;\n      console.info(div2H, clientHeight, clientHeight - div2H);\n      this.$refs.table.setTableHeight(clientHeight - div2H);\n    }\n  }\n};",{"version":3,"sources":["toolbarPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <toolbar ref=\"div1\" position=\"right\" style=\"margin: 10px ;\" :toolbarItem=\"toolbarItem\" @toolbarClick=\"toolbarClick\"></toolbar>\r\n        <div style=\"margin-right: 100px\">\r\n            <tableList ref=\"table\"\r\n                       style=\"border-top: none;\"\r\n                       :getDataWay=\"getDataWay\"\r\n                       :columns=\"columns\"\r\n                       :tableSize=\"tableSet.set.tableSize\"\r\n                       selection\r\n                       @columnChange= 'columnChange'\r\n                       :caption=\"tableSet.set.caption\"\r\n                       :tableScale=\"tableSet.set.tableScale\"\r\n                       :spanMethod=\"objectSpanMethod\"\r\n                       \r\n            >\r\n                <el-table-column label=\"会议名称\" slot=\"name\" show-overflow-tooltip>\r\n                    <template slot-scope=\"scope\">\r\n                        <a href=\"#\" class=\"a-link\">\r\n                            {{scope.row.name}}\r\n                        </a>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" slot=\"opts\" width=\"90\">\r\n                    <template v-slot=\"scope\">\r\n                        <el-dropdown>\r\n                        <span class=\"el-dropdown-link\">\r\n                            操作\r\n                        </span>\r\n                            <el-dropdown-menu slot=\"dropdown\">\r\n                                <el-dropdown-item><span @click=\"look(scope.row)\">查看</span></el-dropdown-item>\r\n                                <el-dropdown-item>编辑</el-dropdown-item>\r\n                                <el-dropdown-item>删除</el-dropdown-item>\r\n                                <el-dropdown-item><router-link :to=\"{name:'participants', params:{moduleName:'worktab_1',meetingId:'123'}}\">会议人员</router-link></el-dropdown-item>\r\n                                <el-dropdown-item><span @click=\"write(scope.row)\">撰写会议纪要</span></el-dropdown-item>\r\n                            </el-dropdown-menu>\r\n                        </el-dropdown>\r\n                    </template>\r\n                </el-table-column>\r\n            </tableList>\r\n        </div>\r\n        <div ref=\"div2\" style=\"height:200px;border:1px solid #ccc;padding: 10px;\"></div>\r\n        <tableSet v-if=\"setVisible\" :setVisible.sync=\"setVisible\" :tableSet=\"tableSet\" @modifySet=\"modifySet\"></tableSet>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import toolbar from \"@/components/toolbar/toolbar\"\r\n    import tableList from '@/components/grid/TableList.vue';\r\n    import tableSet from '@/components/grid/TableSet.vue';\r\n\r\n\r\n    export default {\r\n        name: \"toolbarPage\",\r\n        components: {\r\n            toolbar,\r\n            tableList,\r\n            tableSet\r\n        },\r\n        data: () => {\r\n            return {\r\n                setVisible:false,\r\n                tableSet:{set:{ \"tableSize\": \"大\",\r\n                        \"caption\": \"测试\",\r\n                        \"tableScale\": 100,}},\r\n                dialogVisible: false,\r\n                toolbarItem:[\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新\",\r\n                        icon:\"el-icon-refresh\",\r\n                        disabled:false,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"编辑\",\r\n                        icon:\"el-icon-edit-outline\",\r\n                        disabled:true,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"列表设置\",\r\n                        icon:\"el-icon-s-grid\",\r\n                        disabled:false,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新\",\r\n                        icon:\"el-icon-arrow-left\",\r\n                        disabled:true,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新列表\",\r\n                        icon:\"el-icon-arrow-left\",\r\n                        disabled:true,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新\",\r\n                        icon:\"el-icon-arrow-left\",\r\n                        disabled:true,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新列表\",\r\n                        icon:\"el-icon-arrow-left\",\r\n                        disabled:false,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新\",\r\n                        icon:\"el-icon-arrow-left\",\r\n                        disabled:false,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新列表\",\r\n                        icon:\"el-icon-arrow-left\",\r\n                        disabled:false,\r\n                        click:\"refresh\"\r\n                    },\r\n                    {\r\n                        type:\"primary\",\r\n                        title:\"刷新\",\r\n                        icon:\"el-icon-arrow-left\",\r\n                        disabled:false,\r\n                        click:\"refresh\"\r\n                    }\r\n                ],\r\n                getDataWay:{dataType:\"url\",firstRequest:false, type:\"get\",data:'/mockData/threeMeetingsOneClass/data.json',param:{}}, // 通过url方式\r\n                columns: [\r\n                    // {\r\n                    //     label: '会议名称',\r\n                    //     prop: 'name',\r\n                    //     width: '180',\r\n                    //     showOverflowTooltip:true,\r\n                    //     template: true\r\n                    // }\r\n                ],\r\n\r\n                pagination: {\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                    position: 'right',\r\n                    pageSizes:[10,50,100],//默认每页显示多少条\r\n                    layout: 'sizes ,prev, pager, next, jumper'\r\n                },\r\n\r\n                tableScale:100,\r\n                columnsData:[], // 显示需要设置的表格列\r\n            }\r\n        },\r\n        created(){\r\n            let param={}\r\n            let _this=this\r\n            this.$axios({\r\n                method: 'get',\r\n                url: _this.getDataWay.data,\r\n                data: param\r\n            }).then(function (data) {\r\n                if (data && data.list) {\r\n                    //初始化数据格式\r\n                    // this.dealWithData(setJson)\r\n                    _this.$refs.table.tableData = data.list\r\n\r\n                    _this.columns =  _this.filterColumnByShow(data.columnsData)\r\n                    _this.pagination.pageSize = data.tableSet.pageSize\r\n                    data.tableSet.pageSizes = _this.pagination.pageSizes\r\n                    _this.tableSet = {columnsData:data.columnsData,set:data.tableSet}\r\n                    _this.loading=false\r\n                } else {\r\n                    //console.info(data.msg)\r\n                }\r\n            }).then(()=>{\r\n                _this.selectData()\r\n            }).catch(function (error) {\r\n            });\r\n        },\r\n        mounted() {\r\n            // this.columns = JSON.parse(localStorage.getItem(\"customColumn\"))\r\n            // this.$refs.table.tableData=[]\r\n            //this.getTableData()\r\n            //this.$refs.table.setTableHeight(600) //传给表格高度\r\n        },\r\n        methods: {\r\n            filterColumnByShow(list = []){\r\n                let showList = []\r\n                list.forEach(item=>{\r\n                    if(item.show.toString() === 'true'){\r\n                        showList.push(item)\r\n                    }\r\n                })\r\n                return showList\r\n            },\r\n            modifySet(obj){\r\n                console.log(obj);\r\n                this.columns =  this.filterColumnByShow(obj.columnsData)\r\n                this.tableSet = obj\r\n            },\r\n            getTableData:function(){ // 发送请求获取表格所有数据包括：列展示与不展示和表格配置信息\r\n\r\n            },\r\n            columnChange(obj){\r\n                // localStorage.setItem('customColumn',JSON.stringify(obj))\r\n            },\r\n            showDialog() {\r\n                this.dialogVisible = true\r\n                this.handleSelectionChange(this.columnsData)\r\n            },\r\n            toolbarClick(item,event){\r\n                if(item.title=='列表设置'){\r\n                    //this.dialogVisible = true\r\n\r\n                    this.setVisible = true\r\n                }\r\n            },\r\n            handleSelectionChange(val) { // 获取选中的列\r\n                let temp = [];\r\n                this.columnsData.forEach((item)=>{\r\n                    if(JSON.stringify(val).indexOf(JSON.stringify(item))>0){\r\n                        temp.push(item)\r\n                    }\r\n                })\r\n                this.multipleSelection = temp;\r\n            },\r\n            setBtn:function(){ // 表格设置项\r\n                this.dialogVisible = false\r\n                let setJson={}//需要的json串\r\n                if(!!this.multipleSelection&&this.multipleSelection.length>0){\r\n                    setJson.columns=this.multipleSelection //显示列\r\n                }\r\n                setJson.fontSize=this.fontSize //表格字体大小设置\r\n                setJson.size= this.pSize //默认每页显示多少条\r\n                setJson.tableName= this.tableName\r\n                setJson.tableWidthScale= this.tableWidthScale\r\n                this.dealWithData(setJson)\r\n            },\r\n            // 处理数据\r\n            dealWithData:function(obj){\r\n                if(!!obj.columns&&obj.columns.length>0) {\r\n                    this.columns = obj.columns\r\n                }\r\n                this.chooseSize=obj.fontSize\r\n                this.pagination.pageSize= obj.size\r\n                this.caption=obj.tableName\r\n                this.tableScale= parseInt(obj.tableWidthScale)\r\n            },\r\n            objectSpanMethod({ row, column, rowIndex, columnIndex }) {\r\n                if (columnIndex === 2) {\r\n                    if (rowIndex % 2 === 0) {\r\n                        return {\r\n                            rowspan: 2,\r\n                            colspan: 1\r\n                        };\r\n                    } else {\r\n                        return {\r\n                            rowspan: 0,\r\n                            colspan: 0\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            '$store.state.screenWidth'(newValue, oldValue) {\r\n                this.clientWidth = this.$el.clientWidth\r\n                //this.$refs.table\r\n            },\r\n            '$store.state.screenHeight'(newValue, oldValue) {\r\n                //let div1H = this.$refs.div1.offsetHeight\r\n                let div2H = parseInt(this.$refs.div2.offsetHeight)\r\n                let clientHeight = this.$store.state.contentHeight\r\n                console.info(div2H,clientHeight,clientHeight - div2H)\r\n                this.$refs.table.setTableHeight(clientHeight - div2H)\r\n\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .form-style,.el-dialog__body {\r\n        float: left;\r\n    }\r\n    .padd20{\r\n        padding: 20px 0;\r\n    }\r\n</style>"],"sourceRoot":"src/views/demo/toolBar"}]}