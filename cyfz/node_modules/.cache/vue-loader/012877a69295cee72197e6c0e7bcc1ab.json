{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\cyfx\\zscqfx\\zscqfx.vue?vue&type=style&index=0&id=7b1b5f3c&lang=less&scoped=true&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\cyfx\\zscqfx\\zscqfx.vue","mtime":1570845560753},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#zscqfx {\n    width: 100%;\n    background-color: @bgGray;\n    overflow: hidden;\n}\n\n.zscqfx_sm {\n    width: 95%;\n    margin: 0 auto;\n}\n\n.zdfxzb_title {\n    width: 100%;\n    height: 30px;\n    text-align: left;\n    line-height: 30px;\n    border-bottom: 2px solid black;\n}\n\n.zdfxzb_charts {\n    width: 100%;\n    /*height: 400px;*/\n    background-color: @bgWhite;\n    margin-bottom: 10px;\n    padding-top: 20px;\n}\n\n.zdfxzb_charts {\n    width: 100%;\n    /*height: 400px;*/\n    background-color: @bgWhite;\n    margin-bottom: 10px;\n    padding-top: 20px;\n}\n\n.shenqing {\n    width: 100%;\n    height: 320px;\n    /*margin-top: 4px;*/\n    background-color: @bgWhite;\n    border-radius: 5px;\n}\n\nspan {\n    font-size: 16px;\n    font-weight: bold;\n}\n",{"version":3,"sources":["zscqfx.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"zscqfx.vue","sourceRoot":"src/views/cyfx/zscqfx","sourcesContent":["<template>\r\n    <div id=\"zscqfx\">\r\n        <div class=\"zscqfx_sm\">\r\n            <div class=\"zdfxzb_title\">\r\n                <span></span>\r\n                <span>知识产权量</span>\r\n            </div>\r\n            <div class=\"zdfxzb_charts\">\r\n                <div id=\"main_zhishichanquan\" style=\"width: 100%;height:320px;\"></div>\r\n            </div>\r\n            <div class=\"zdfxzb_title\" style=\"width: 100%\">\r\n                <span></span>\r\n                <span>知识申报量</span>\r\n            </div>\r\n            <div style=\"width: 100%;height: 35px;background-color: #fff\">\r\n                <div style=\"width: 150px;float: right;top: 50px\">\r\n                    <el-date-picker style=\"width: 150px\"\r\n                                    v-model=\"yearData\"\r\n                                    format=\"yyyy\"\r\n                                    value-format=\"yyyy\"\r\n                                    type=\"year\"\r\n                                    placeholder=\"选择年份\">\r\n                    </el-date-picker>\r\n                </div>\r\n            </div>\r\n            <div class=\"shenqing\" style=\"width: 100%\">\r\n                <div style=\"width: 100%;height:300px\">\r\n                    <Histogram style=\"width: 100%; height: 100%\"\r\n                               :HistogramData=\"histogramlistData\">\r\n                    </Histogram>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // 引入echarts\r\n    import echarts from 'echarts'\r\n    import Histogram from \"@/components/echarts/Histogram\";\r\n\r\n    export default {\r\n        name: \"zscqfx\",\r\n        components: {\r\n            Histogram\r\n        },\r\n        data() {//数据\r\n            return {\r\n                yearData: (new Date().getFullYear() - 1).toString(),\r\n                year: [],//展示项目申报柱形图年份\r\n                datalist: [],\r\n                histogramlistData: {// 知识申报图表接受数据\r\n                    color: ['#70B8FF'],\r\n                    name: '产权申报',\r\n                    showNumber: true,\r\n                    yName: '（数量）',\r\n                    xName: '（地区）',\r\n                    data: [],\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getZscqData();\r\n            this.getHistogramData();\r\n        },\r\n        methods: {\r\n            getHistogramData() {\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.cyfxApi.queryIntellectualPropertyGroupByProByYear,\r\n                    data: {\r\n                        givenYear: this.yearData\r\n                    }\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        that.histogramlistData.data = [];\r\n                        for (let j = 0; j < res.info.data.length; j++) { //4\r\n                            let obj = {\r\n                                name: '',\r\n                                value: '',\r\n                            }\r\n                            obj.name = res.info.data[j].province;\r\n                            obj.value = res.info.data[j].intellectualPropertyNum;\r\n                            if (j < 10) {\r\n                                that.histogramlistData.data.push(obj);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        return false;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                })\r\n            },\r\n            //获取第一个图数据\r\n            getZscqData() {\r\n                let that = this;\r\n                // 获取上面标准量柱状图数据\r\n                this.$$request({\r\n                    url: this.$api.cyfxApi.queryIntellectualPropertyGroupByYear,\r\n                    data: {}\r\n                }).then(function (res) {\r\n\r\n                    if (res.result === 1) {\r\n                        let showData = ['一类知识产权数', '二类知识产权数', '知识产权总数'];\r\n                        for (let i = 0; i < res.info.data.length; i++) {\r\n                            that.year.push(res.info.data[i].year);\r\n                        }\r\n                        for (let j = 0; j < showData.length; j++) { //4\r\n                            let obj = {\r\n                                name: '',\r\n                                type: 'bar',\r\n                                data: [],\r\n                                label: {\r\n                                    normal: {\r\n                                        show: true, //显示数字\r\n                                        position: 'top' //这里可以自己选择位置\r\n                                    }\r\n                                },\r\n                            }\r\n                            obj.name = showData[j].valueOf();\r\n                            that.datalist.push(obj);\r\n                        }\r\n                        for (let j = 0; j < that.year.length; j++) {\r\n                            that.datalist[0].data.push(res.info.data[j].primaryPropertyNum);\r\n                            that.datalist[1].data.push(res.info.data[j].secondaryPropertyNum);\r\n                            that.datalist[2].data.push(parseInt(res.info.data[j].primaryPropertyNum) + parseInt(res.info.data[j].secondaryPropertyNum));\r\n                        }\r\n                    } else {\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        return false;\r\n                    }\r\n                }).then(function () {\r\n                    that.drawLinezhishichanquan();\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                });\r\n            },\r\n            // 绘制项目申请图表\r\n            drawLinezhishichanquan() {\r\n                // 基于准备好的dom，初始化echarts实例\r\n                let $id = document.getElementById('main_zhishichanquan');\r\n                if(!!$id){\r\n                    let myChartmain_zhishichanquan = echarts.init($id);\r\n                    myChartmain_zhishichanquan.setOption({\r\n                        color: ['#6cacaf', '#e4a529', '#a1cb37'],\r\n                        tooltip: {\r\n                            trigger: 'axis',\r\n                            axisPointer: {\r\n                                type: 'cross',\r\n                                crossStyle: {\r\n                                    color: '#999'\r\n                                }\r\n                            }\r\n                        },\r\n                        toolbox: {\r\n                            feature: {\r\n                                magicType: {\r\n                                    show: true,\r\n                                    type: ['line', 'bar']\r\n                                },\r\n                                saveAsImage: {\r\n                                    show: true\r\n                                }\r\n                            }\r\n                        },\r\n                        legend: {\r\n                            data: this.showData //['一类项目申请量','二类项目申请量','项目申请总量','所占比例']  接口图例数据\r\n                        },\r\n                        xAxis: [{\r\n                            type: 'category',\r\n                            data: this.year, //['2015','2016','2017','2018','2019'],接口x轴数据\r\n                            axisPointer: {\r\n                                type: 'shadow'\r\n                            }\r\n                        }],\r\n                        yAxis: [{\r\n                            type: 'value',\r\n                            name: '（数量）',\r\n                            axisLabel: {\r\n                                formatter: '{value} 个'\r\n                            }\r\n                        },\r\n                            {\r\n                                type: 'value',\r\n                                name: '（所占比例）',\r\n                                min: 0,\r\n                                max: 100,\r\n                                interval: 10,\r\n                                axisLabel: {\r\n                                    formatter: '{value} %'\r\n                                }\r\n                            }\r\n                        ],\r\n                        series: this.datalist,//接口柱状图数据\r\n                    })\r\n                }\r\n            },\r\n        },\r\n        watch: {\r\n            yearData: function (val) {\r\n                this.yearData = val;\r\n                this.getHistogramData();\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    #zscqfx {\r\n        width: 100%;\r\n        background-color: @bgGray;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .zscqfx_sm {\r\n        width: 95%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .zdfxzb_title {\r\n        width: 100%;\r\n        height: 30px;\r\n        text-align: left;\r\n        line-height: 30px;\r\n        border-bottom: 2px solid black;\r\n    }\r\n\r\n    .zdfxzb_charts {\r\n        width: 100%;\r\n        /*height: 400px;*/\r\n        background-color: @bgWhite;\r\n        margin-bottom: 10px;\r\n        padding-top: 20px;\r\n    }\r\n\r\n    .zdfxzb_charts {\r\n        width: 100%;\r\n        /*height: 400px;*/\r\n        background-color: @bgWhite;\r\n        margin-bottom: 10px;\r\n        padding-top: 20px;\r\n    }\r\n\r\n    .shenqing {\r\n        width: 100%;\r\n        height: 320px;\r\n        /*margin-top: 4px;*/\r\n        background-color: @bgWhite;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    span {\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n    }\r\n</style>\r\n"]}]}