{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\informationManagement\\InformationReporting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\informationManagement\\InformationReporting.vue","mtime":1571737549086},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport tableList from '@/components/grid/TableList.vue';\n\nexport default {\n    name: \"InformationReporting\",\n    components: {\n        tableList\n    },\n    data() {\n        return {\n            uuids:'',\n            givenYear:'',\n            comid:'',\n            packageStatus:this.$packageStatus,\n            checkedData: [],\n            //页签切换\n            activeName: 'first',\n            //年报分页\n            pagination: {\n                currentPage: 1,\n                pageSize: 10,\n                pageSizes: [5, 10, 20, 50],//默认每页显示多少条\n                position: 'center',\n                layout: 'sizes ,total,prev, pager, next, jumper'\n            },\n            //年报产品分页\n            pagination1: {\n                currentPage: 1,\n                pageSize: 5,\n                pageSizes: [5, 10, 20],//默认每页显示多少条\n                position: 'center',\n                layout: 'sizes ,total,prev, pager, next, jumper'\n            },\n            //获取年报列表 内外网\n            getDataWay: {\n                dataType: \"url\",\n                type: 'post',\n                data: this.$api.hyglApi.queryComInfo,\n                param: {\n                    givenYear: (new Date().getFullYear()-1).toString(),\n                    netType: this.$packageStatus==='zwww'?'in':'ex',\n                }\n            },\n            //获取产品列表\n            getDataWayInfo: {\n                dataType: \"url\",\n                type: 'post',\n                data: this.$api.hyglApi.queryClaimProduct,\n                param: {\n                    givenYear: '',\n                    flag: 'year',\n                    uuids: '',\n                    comid:'',\n                }\n            },\n            //获取勾选的数据\n            //新增报表dialog\n            dialogFormVisible: false,\n            //新增产品dialog\n            dialogprojectFormVisible: false,\n            //产品列表列名\n            columnsinfo: [\n                {\n                    label: ' 产品名称',\n                    prop: 'productName',\n                }, {\n                    label: '操作',\n                    prop: 'opts',\n                    template: true //添加模板，一般处理操作列(注意：tempate、formatter不能同时使用)\n                }\n            ],\n            //年报列表列名\n            columns: [\n                {\n                    label: ' 年份',\n                    prop: 'givenYear',\n                    template: true,\n                    width: '60',\n                },\n                {\n                    label: ' 企业名称',\n                    prop: 'comName',\n                    width: '80',\n                },\n                {\n                    label: ' 企业税收(万元)',\n                    prop: 'taxRevenue',\n                    width: '80',\n                },\n                {\n                    label: ' 企业利润(万元)',\n                    prop: 'majorProfit',\n                    width: '80',\n                },\n                {\n                    label: ' 企业总收入(万元)',\n                    prop: 'income',\n                    width: '95',\n                }, {\n                    label: ' 人工智能产品销售收入(万元)',\n                    prop: 'aiIncome',\n                    width: '95',\n                }, {\n                    label: ' 出口额(万元)',\n                    prop: 'exportsAccounts',\n                    width: '70',\n                }, {\n                    label: ' 研发经费(万元)',\n                    prop: 'researchCost',\n                    width: '80',\n                }, {\n                    label: ' 科研人数',\n                    prop: 'technicalEmployeeNum',\n                    width: '80',\n                }, {\n                    label: ' 知识产权数',\n                    prop: 'propertyTotalNum',\n                    width: '95',\n                }, {\n                    label: ' 标准数量',\n                    prop: 'standardNum',\n                },\n            ],\n            //企业信息数据项\n            form: {\n                uuid:'',\n                legalPersonName: \"\",\n                certNo: \"\",\n                age: \"\",\n                technicalTitle: \"\",\n                educationDm: \"\",\n                email: \"\",\n                phone: \"\",\n                graduationSchool: \"\",\n                resume: \"\",\n                comName: \"\",\n                mergerNum: \"\",\n                financeNum: \"\",\n                ventureNum: \"\",\n                standardNum: \"\",\n                industryDm: \"\",\n                freshPropertyNum: \"\",\n                primaryPropertyNum: \"\",\n                secondaryPropertyNum: \"\",\n                onjobEmployeeNum: \"\",\n                ptjobEmployeeNum: \"\",\n                employeeNum: \"\",\n                onjobTechNum: \"\",\n                tempEmployeeNum: \"\",\n                technicalEmployeeNum: \"\",\n                ptjobTechNum: \"\",\n                freshmanNum: \"\",\n                provinceDm: \"\",\n                researchOrgNum: \"\",\n                graduatesNum: \"\",\n                recentProductInfo: \"\",\n                givenYear: \"\",\n                tempTechNum: \"\",\n                freshStandardNum: \"\",\n                isPilotArea: \"1\",\n            },\n            //财务数据项\n            form1: {\n                uuid:'',\n                income: \"\",\n                majorIncome: \"\",\n                majorCost: \"\",\n                majorProfit: \"\",\n                sellingCost: \"\",\n                manageCost: \"\",\n                taxRevenue: \"\",\n                taxDrawback: \"\",\n                debts: \"\",\n                currentAssets: \"\",\n                totalAssets: \"\",\n                fixedAssets: \"\",\n                totalDepreciation: \"\",\n                currentYearDepreciation: \"\",\n                yearEndBalance: \"\",\n                fixedInvestments: \"\",\n                researchCost: \"\",\n                yearInitBalance: \"\",\n            },\n            //第三页财务数据项\n            form2: {\n                exportsAccounts: \"\",\n            },\n            //产品数据项\n            productForm: {\n                uuid:'',\n                productName: \"\",\n                majorDirectionDm: \"\",\n                claimDirectionDm: \"\",\n                areaDirectionDm: \"\",\n                conclusion: \"\",\n                productSellingRevenue: \"\",\n            },\n            //校验规则\n            rules: {\n                legalPersonName: [\n                    {\n                        required: true,\n                        message: '法人姓名不能为空',\n                    },\n                    {\n                        min: 1,\n                        max: 25,\n                        message: '长度在1到25个字符'\n                    }\n                ],\n                certNo: [\n                    {\n                        required: true,\n                        message: '身份证号码格式不正确',\n                        pattern: '(^\\\\d{8}(0\\\\d|10|11|12)([0-2]\\\\d|30|31)\\\\d{3}$)|(^\\\\d{6}(18|19|20)\\\\d{2}(0\\\\d|10|11|12)([0-2]\\\\d|30|31)\\\\d{3}(\\\\d|X|x)$)'\n                    }\n                ],\n                age: [\n                    {required: true, message: '年龄不能为空'},\n                    {type: 'number', message: '年龄必须为数字值'},\n                    {pattern:/^\\d{2,3}$/, message: '长度在2到3个字符'}\n                ],\n                technicalTitle: [\n                    {\n                        required: true,\n                        message: '职称不能为空',\n                    },\n                    {\n                        min:1,\n                        max:25,\n                        message: '长度在1到25个字符'\n                    }\n                ],\n                educationDm: [\n                    {\n                        required: true,\n                        message: '教育情况不能为空',\n                    },\n                ],\n                email: [\n                    {\n                        required: true,\n                        message: '邮箱格式不正确',\n                        pattern: '(^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+)'\n                    }\n                ],\n                phone: [\n                    {\n                        required: true,\n                        message: '联系电话格式不正确',\n                        pattern: '(^((\\\\+|00)86)?1[3-9]\\\\d{9}$)|(^(\\\\d{3}(-)?\\\\d{8}|\\\\d{4}(-)?\\\\d{7})$)'\n                    }\n                ],\n                graduationSchool: [\n                    {\n                        required: true,\n                        message: '毕业学校不能为空',\n                    },\n                    {\n                        min:1,\n                        max:25,\n                        message: '长度在1到25个字符'\n                    }\n                ],\n                resume: [\n                    {\n                        required: true,\n                        message: '工作简历不能为空',\n                    },\n                    {\n                        min:1,\n                        max:1000,\n                        message: '长度在1到1000个字符'\n                    }\n                ],\n                comName: [\n                    {\n                        required: true,\n                        message: '企业名称不能为空',\n                    },\n                    {\n                        min:1,\n                        max:50,\n                        message: '长度在1到50个字符'\n                    }\n                ],\n            },\n            //判断是否可以新建状态码\n            isCreated: 0 ,\n            //重点方向下拉选数据\n            zdList:[],\n            //揭榜方向下拉选数据\n            jbList:[],\n            //领域方向下拉选数据\n            lyList:[],\n            // 字典表数据\n            provinces: [],\n            //教育情况字典表数据\n            eduList:[],\n            industryList:[],\n            state:'Y', //是否可点击状态码\n            isNotNew:'N',//判断是否新建按钮标识\n            isNotProductUpdate:'N',//判断是否是产品编辑按钮标识\n            //只能选择今年及今年以前的年份\n            pickerOptions:{\n                disabledDate(time) {\n                    return time.getTime() > Date.now()-8.64e7;\n                },\n            },\n        };\n    },\n    methods: {\n        //新建年报打开dialog\n        add: function () {\n            this.activeName = 'first';\n            this.state = 'Y';\n            this.isNotNew = 'Y';\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.getComSelfcommentByAnnualId,\n                data: {}\n            }).then(function (res) {\n                if (res.result === 1) {\n                    if(res.info){\n                        if(res.info.state===1){\n                            that.dialogFormVisible = true;\n                            that.uuids = '';\n                            that.form = {\n                                uuid:'',\n                                legalPersonName: \"\",\n                                certNo: \"\",\n                                age: \"\",\n                                technicalTitle: \"\",\n                                educationDm: \"\",\n                                email: \"\",\n                                phone: \"\",\n                                graduationSchool: \"\",\n                                resume: \"\",\n                                comName: \"\",\n                                mergerNum: \"\",\n                                financeNum: \"\",\n                                ventureNum: \"\",\n                                standardNum: \"\",\n                                industryDm: \"\",\n                                freshPropertyNum: \"\",\n                                primaryPropertyNum: \"\",\n                                secondaryPropertyNum: \"\",\n                                onjobEmployeeNum: \"\",\n                                ptjobEmployeeNum: \"\",\n                                employeeNum: \"\",\n                                onjobTechNum: \"\",\n                                tempEmployeeNum: \"\",\n                                technicalEmployeeNum: \"\",\n                                ptjobTechNum: \"\",\n                                freshmanNum: \"\",\n                                provinceDm: \"\",\n                                researchOrgNum: \"\",\n                                graduatesNum: \"\",\n                                recentProductInfo: \"\",\n                                givenYear: \"\",\n                                tempTechNum: \"\",\n                                freshStandardNum: \"\",\n                                isPilotArea: \"Y\",\n                            }\n                            that.form1 = {\n                                uuid:'',\n                                income: \"\",\n                                majorIncome: \"\",\n                                majorCost: \"\",\n                                majorProfit: \"\",\n                                sellingCost: \"\",\n                                manageCost: \"\",\n                                taxRevenue: \"\",\n                                taxDrawback: \"\",\n                                debts: \"\",\n                                currentAssets: \"\",\n                                totalAssets: \"\",\n                                fixedAssets: \"\",\n                                totalDepreciation: \"\",\n                                currentYearDepreciation: \"\",\n                                yearEndBalance: \"\",\n                                fixedInvestments: \"\",\n                                researchCost: \"\",\n                                yearInitBalance: \"\",\n                            }\n                            that.form2 = {\n                                exportsAccounts: \"\",\n                            }\n                            that.getName();\n                        }else {\n                            that.$message({\n                                message: '请先保存并提交自评表',\n                                type: 'error'\n                            });\n                            return;\n                        }\n                    }else {\n                        that.$message({\n                            message: '请先保存并提交自评表',\n                            type: 'error'\n                        });\n                        return;\n                    }\n                }else{\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\n                    return false;\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n                return false;\n            })\n        },\n        //获取企业名称\n        getName(){\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.getComName,\n                data: {}\n            }).then(function (res) {\n                if (res.result === 1) {\n                    if(res.info.comName){\n                        that.$set(that.form,'comName',res.info.comName)\n                    }else {\n                        that.form.comName = '';\n                    }\n                }else{\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\n                    return false;\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n                return false;\n            })\n        },\n        //修改\n        update() {\n            if (this.checkedData.length > 1 || this.checkedData.length == 0) {\n                this.$alert(\"请选择一条数据进行修改！\", \"提示\", {\n                    type: 'warning'\n                })\n            } else {\n                this.getQyxx(this.checkedData[0]);\n                this.getQycw(this.checkedData[0]);\n                this.getClickstate(this.checkedData[0]);\n                this.activeName = 'first';\n                this.dialogFormVisible = true;\n                this.uuids = this.checkedData[0].uuids;\n                this.givenYear = this.checkedData[0].givenYear;\n                this.comid = this.checkedData[0].comid;\n                this.isNotNew = 'N';\n            }\n        },\n        //打开产品添加dialog\n        addProduct(){\n            if(this.form.uuid){\n                this.getZdList();\n                this.dialogprojectFormVisible = true;\n                this.productForm = {\n                        uuid:'',\n                        productName: \"\",\n                        majorDirectionDm: \"\",\n                        claimDirectionDm: \"\",\n                        areaDirectionDm: \"\",\n                        conclusion: \"\",\n                        productSellingRevenue: \"\",\n                }\n                this.isNotProductUpdate = 'N';\n            }else{\n                this.$message({\n                    message: '请先保存企业信息',\n                    type: 'error'\n                });\n            }\n        },\n        //提交表单1\n        async submitForm1(){\n            let flag = false;\n            let that = this;\n            await this.$$request({\n                url: this.$api.hyglApi.saveComInfo,\n                data:Object.assign(this.form, {\n                    \"state\": \"-1\",\n                })\n            }).then(function (res) {\n                if (res.result === 1) {\n                    flag = true;\n                    that.$set(that.form,'uuid',res.info.uuid);\n                }else{\n                    return false;\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n                return false;\n            })\n            return flag;\n        },\n        //提交表单2\n        async submitForm2() {\n            let flag = false;\n            let that = this;\n            await this.$$request({\n                url: this.$api.hyglApi.saveComFinance,\n                data: Object.assign(this.form1, {\n                    \"givenYear\": this.form.givenYear,\n                    \"exportsAccounts\": this.form2.exportsAccounts,\n                    \"uuids\": this.uuids,\n                })\n            }).then(function (res) {\n                if (res.result === 1) {\n                    that.$set(that.form1,'uuid',res.info.uuid);\n                    flag = true;\n                } else {\n                    return false;\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n                return false;\n            })\n            return flag;\n        },\n        //提交改变状态\n        async changeStatus(){\n            let that = this;\n            let flag = false;\n            await this.$$request({\n                url: this.$api.hyglApi.saveSubmitInfo,\n                data: {\n                    state : '0',\n                    approvalDm : '020002',\n                    title : this.form.comName+this.form.givenYear+'年报',\n                    givenYear : this.form.givenYear,\n                    isMonthly: '0'\n                }\n            }).then(function (res) {\n                if (res.result === 1) {\n                    that.$refs.table.loadData();\n                    flag = true;\n                }else{\n                    return false;\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n                return false;\n            })\n            return flag;\n        },\n        //企业信息填报下一步\n        formnext: function () {\n            this.activeName = 'second';\n        },\n        //财务填报下一步\n        form1next: function () {\n            this.activeName = 'third';\n        },\n        //企业信息填报保存\n        onSubmitform: function (formName) {\n            let that = this;\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.$$request({\n                        url: this.$api.hyglApi.saveComInfo,\n                        data: this.form\n                    }).then(function (res) {\n                        if (res.result === 1) {\n                            that.$message({\n                                message: '保存成功',\n                                type: 'success'\n                            });\n                            that.form.uuid = res.info.uuid;\n                            that.$refs.table.loadData();\n                        }else{\n                            that.$message({\n                                message: '保存失败',\n                                type: 'error'\n                            });\n                        }\n                    }).catch(function (error) {\n                        that.$alert(error, \"系统异常，请联系管理员！\", {});\n                    })\n                }\n            });\n        },\n        //财务填报保存\n        onSubmitform1: function (formName) {\n            let that = this;\n            if(this.form.givenYear){\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        this.$$request({\n                            url: this.$api.hyglApi.saveComFinance,\n                            data: Object.assign(this.form1, {\n                                \"givenYear\": this.form.givenYear\n                            })\n                        }).then(function (res) {\n                            if (res.result === 1) {\n                                that.$message({\n                                    message: '保存成功',\n                                    type: 'success'\n                                });\n                                that.form1.uuid = res.info.uuid;\n                                that.$refs.table.loadData();\n                            }else{\n                                that.$message({\n                                    message: '保存失败',\n                                    type: 'error'\n                                });\n                            }\n                        }).catch(function (error) {\n                            that.$alert(error, \"系统异常，请联系管理员！\", {});\n                        })\n\n                    }\n                });\n            }else{\n                this.$message({\n                    message: '请先保存企业信息',\n                    type: 'error'\n                });\n            }\n        },\n        //展示年报\n        show: function (row) {\n            this.getQyxx(row);\n            this.getQycw(row);\n            this.getClickstate(row);\n            this.activeName = 'first';\n            this.uuids = row.uuids;\n            this.givenYear = row.givenYear;\n            this.comid = row.comid;\n            this.dialogFormVisible = true;\n            this.isNotNew = 'N';\n        },\n        //查看企业信息\n        getQyxx(row){\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.getComInfoByComIdYear,\n                data: {\n                    givenYear: row.givenYear,\n                    comid: row.comid,\n                }\n            }).then(function (res) {\n                if(res.result === 1){\n                    if(res.info){\n                        that.form = {\n                            uuid: res.info.uuid,\n                            legalPersonName: res.info.legalPersonName,\n                            certNo: res.info.certNo,\n                            age: res.info.age,\n                            technicalTitle: res.info.technicalTitle,\n                            educationDm: res.info.educationDm,\n                            email: res.info.email,\n                            phone: res.info.phone,\n                            graduationSchool: res.info.graduationSchool,\n                            resume: res.info.resume,\n                            comName: res.info.comName,\n                            mergerNum: res.info.mergerNum,\n                            financeNum: res.info.financeNum,\n                            ventureNum: res.info.ventureNum,\n                            standardNum: res.info.standardNum,\n                            industryDm: res.info.industryDm,\n                            freshPropertyNum: res.info.freshPropertyNum,\n                            primaryPropertyNum: res.info.primaryPropertyNum,\n                            secondaryPropertyNum: res.info.secondaryPropertyNum,\n                            onjobEmployeeNum: res.info.onjobEmployeeNum,\n                            ptjobEmployeeNum: res.info.ptjobEmployeeNum,\n                            employeeNum: res.info.employeeNum,\n                            onjobTechNum: res.info.onjobTechNum,\n                            tempEmployeeNum: res.info.tempEmployeeNum,\n                            technicalEmployeeNum: res.info.technicalEmployeeNum,\n                            ptjobTechNum: res.info.ptjobTechNum,\n                            freshmanNum: res.info.freshmanNum,\n                            provinceDm: res.info.provinceDm,\n                            researchOrgNum: res.info.researchOrgNum,\n                            graduatesNum: res.info.graduatesNum,\n                            recentProductInfo: res.info.recentProductInfo,\n                            givenYear: res.info.givenYear.toString(),\n                            tempTechNum: res.info.tempTechNum,\n                            freshStandardNum: res.info.freshStandardNum,\n                            isPilotArea: res.info.isPilotArea,\n                        };\n                    }\n                }else{\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n            })\n        },\n        //查看企业财务\n        getQycw(row){\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.getComFinanceByAnnualId,\n                data: {\n                    givenYear: row.givenYear,\n                    comid: row.comid,\n                }\n            }).then(function (res) {\n                if(res.result === 1){\n                    if(res.info){\n                        that.form1 = {\n                            uuid: res.info.uuid,\n                            income: res.info.income,\n                            majorIncome: res.info.majorIncome,\n                            majorCost: res.info.majorCost,\n                            majorProfit: res.info.majorProfit,\n                            sellingCost: res.info.sellingCost,\n                            manageCost: res.info.manageCost,\n                            taxRevenue: res.info.taxRevenue,\n                            taxDrawback: res.info.taxDrawback,\n                            debts: res.info.debts,\n                            currentAssets: res.info.currentAssets,\n                            totalAssets: res.info.totalAssets,\n                            fixedAssets: res.info.fixedAssets,\n                            totalDepreciation: res.info.totalDepreciation,\n                            currentYearDepreciation: res.info.currentYearDepreciation,\n                            yearEndBalance: res.info.yearEndBalance,\n                            fixedInvestments: res.info.fixedInvestments,\n                            researchCost: res.info.researchCost,\n                            yearInitBalance: res.info.yearInitBalance,\n                        };\n                        that.form2.exportsAccounts = res.info.exportsAccounts;\n                    }else{\n                        that.form2.exportsAccounts = '';\n                    }\n                }else{\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n            })\n        },\n        //获取点击状态\n        getClickstate(row){\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.getComInfoState,\n                data: {\n                    givenYear: row.givenYear,\n                    comid: row.comid,\n                }\n            }).then(function (res) {\n                if(res.result === 1){\n                    that.state = res.info;\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n            })\n        },\n        //产品查看\n        See: function (row) {\n            this.dialogprojectFormVisible = true;\n            this.productForm.uuid =  row.uuid;\n            this.productForm.productName = row.productName;\n            this.productForm.conclusion = row.conclusion;\n            this.productForm.productSellingRevenue = row.productSellingRevenue;\n            this.$set(this.productForm,'majorDirectionDm',row.majorDirectionDm);\n            this.$set(this.productForm,'claimDirectionDm',row.claimDirectionDm);\n            this.$set(this.productForm,'areaDirectionDm',row.areaDirectionDm);\n            this.isNotProductUpdate = 'Y';\n            this.getZdList();\n        },\n        //产品添加\n        productFormonSunbmit: function (formName) {\n            let that = this;\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.$$request({\n                        url: this.$api.hyglApi.saveClaimProduct,\n                        data: Object.assign(this.productForm, {\n                            \"isMonthly\": \"0\"\n                        })\n                    }).then(function (res) {\n                        if (res.result === 1) {\n                            that.$message({\n                                message: '保存成功',\n                                type: 'success'\n                            });\n                            if(that.uuids){\n                                that.uuids += ','+ res.info.uuid;\n                            }else{\n                                that.uuids = res.info.uuid;\n                            }\n                            that.dialogprojectFormVisible = false;\n                            that.$refs['productForm'].resetFields();\n                        }else{\n                            that.$message({\n                                message: '保存失败',\n                                type: 'error'\n                            });\n                        }\n                    }).catch(function (error) {\n                        that.$alert(error, \"系统异常，请联系管理员！\", {});\n                    })\n                }\n            });\n        },\n        //产品重置\n        resetproductForm: function (formName) {\n            this.$refs[formName].resetFields();\n            this.productForm.majorDirectionDm = '';\n            this.productForm.claimDirectionDm = '';\n            this.productForm.areaDirectionDm = '';\n        },\n        //产品页面保存\n        onSubmit: function (formName) {\n            if(this.form1.uuid){\n                let that = this;\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        this.$$request({\n                            url: this.$api.hyglApi.saveComFinance,\n                            data: {\n                                uuid:this.form1.uuid,\n                                exportsAccounts: this.form2.exportsAccounts,\n                                givenYear: this.form.givenYear,\n                                uuids: this.uuids,\n                            }\n                        }).then(function (res) {\n                            if (res.result === 1) {\n                                that.$message({\n                                    message: '保存成功',\n                                    type: 'success'\n                                });\n                                that.$set(that.form1,'uuid',res.info.uuid);\n                                that.$refs.table.loadData();\n                            }else{\n                                that.$message({\n                                    message: '保存失败',\n                                    type: 'error'\n                                });\n                            }\n                        }).catch(function (error) {\n                            that.$alert(error, \"系统异常，请联系管理员！\", {});\n                        })\n                    }\n                });\n            }else {\n                this.$message({\n                    message: '请先保存财务指标年报',\n                    type: 'error'\n                });\n            }\n        },\n        //产品删除\n        del: function (row) {\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.deleteClaimProductByUuid,\n                data: {\n                    uuid: row.uuid,\n                }\n            }).then(function (res) {\n                if (res.result == 1) {\n                    that.$message({\n                        message: '删除成功',\n                        type: 'success'\n                    });\n                    let arr = that.uuids.split(\",\");\n                    arr.splice(arr.indexOf(row.uuid),1);\n                    that.uuids = arr.join(',');\n                } else {\n                    that.$message({\n                        message: '删除失败',\n                        type: 'error'\n                    });\n                }\n            }).then(function () {\n                that.$refs.tableInfo.loadData()\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n            })\n        },\n        //提交\n        submitForm: function () {\n            let that = this;\n            this.valid('form').then((valid) => {\n                this.valid('form1').then((valid) => { //form2\n                    this.valid('form2').then((valid) => {\n                        if(this.submitForm1()){ //form1\n                            if(this.submitForm2()){\n                                if(this.changeStatus()) {\n                                    that.$message({\n                                        message: '提交成功',\n                                        type: 'success'\n                                    });\n                                    that.dialogFormVisible = false;\n                                }else {\n                                    that.$message({\n                                        message: '提交失败',\n                                        type: 'error'\n                                    });\n                                }\n                            }else {\n                                that.$message({\n                                    message: '提交财务指标失败',\n                                    type: 'error'\n                                });\n                            }\n                        }else {\n                            that.$message({\n                                message: '提交企业信息失败',\n                                type: 'error'\n                            });\n                        }\n                    },(valid) => {\n                        that.$message({\n                            type: \"warning\",\n                            duration: 1000,\n                            message: \"请填写出口额\"\n                        })\n                    })\n                },(valid) => {\n                    that.$message({\n                        type: \"warning\",\n                        duration: 1000,\n                        message: \"请填写财务指标必填信息\"\n                    })\n                })\n            }, (valid) => {//表单校验失败\n                that.$message({\n                    type: \"warning\",\n                    duration: 1000,\n                    message: \"请填写企业信息必填信息\"\n                })\n            });\n        },\n        //校验\n        valid(formName) {\n            return this.$refs[formName].validate();\n        },\n        //查询重点方向\n        getZdList(){\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.queryTableFromRedisByTableName,\n                data: {\n                    tableName:'DM_MAJOR_DIRECTION',\n                }\n            }).then(function (res) {\n                if(res.result === 1){\n                    that.zdList = res.info;\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n            })\n        },\n        //关闭dialog\n        closeDialog: function () {},\n        //获取省份\n        getProvince(){\n            let that = this;\n            // 请求省份码表\n            this.$$request({\n                url: this.$api.getCodeData,\n                data: {\n                    tableName : \"DM_PROVINCE\"\n                }\n            }).then(function (res) {\n                if (res.result === 1) {\n                    that.provinces = res.info;\n                }else {\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\n                    return false\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {})\n                return false\n            })\n        },\n        //获取教育情况\n        getEducation(){\n            let that = this;\n            // 请求省份码表\n            this.$$request({\n                url: this.$api.getCodeData,\n                data: {\n                    tableName : \"DM_EDUCATION\"\n                }\n            }).then(function (res) {\n                if (res.result === 1) {\n                    that.eduList = res.info;\n                }else {\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\n                    return false\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {})\n                return false\n            })\n        },\n        //获取所属行业码表\n        getIndustry(){\n            let that = this;\n            // 请求省份码表\n            this.$$request({\n                url: this.$api.getCodeData,\n                data: {\n                    tableName : \"DM_INDUSTRY\"\n                }\n            }).then(function (res) {\n                if (res.result === 1) {\n                    that.industryList = res.info;\n                }else {\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\n                    return false\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {})\n                return false\n            })\n        },\n        //所属年份改变事件\n        givenYearChange(val){\n            let that = this;\n            this.$$request({\n                url: this.$api.hyglApi.getComInfoYearStatus,\n                data: {\n                    uuid:this.form.uuid,\n                    givenYear: val,\n                }\n            }).then(function (res) {\n                if (res.result === 1) {\n                    if(res.info) {\n                        if(res.info==='N') {\n                            that.form.givenYear = '';\n                            that.$message({\n                                message: val+'年不可使用，请重新选择',\n                                type: 'error'\n                            });\n                        }\n                    }\n                }else {\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\n                    return false\n                }\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {})\n                return false\n            })\n        },\n    },\n    created() {\n        this.getProvince();\n        this.getEducation();\n        this.getIndustry();\n//         this.$$request({\n//             url: this.$api.hyglApi.getCreatedStatus,\n//             data: {}\n//         }).then(function (res) {\n//             if(res.result === 1){\n//                 that.isCreated = res.info.isCreated;\n//             }\n//         }).catch(function (error) {\n//             that.$alert(error, \"系统异常，请联系管理员！\", {});\n//         })\n    },\n    watch:{\n        'productForm.majorDirectionDm':function (val,oldVal) {\n            let that = this;\n            if(val !== oldVal){\n                if(this.isNotNew === 'Y'){//新建进来\n                    if(this.isNotProductUpdate === 'N'){\n                        this.productForm.claimDirectionDm = \"\";\n                        this.productForm.areaDirectionDm = \"\";\n                    }\n                }else{\n                    if(this.state === 'Y'){//未提交\n                        if(this.isNotProductUpdate === 'N'){\n                            this.productForm.claimDirectionDm = \"\";\n                            this.productForm.areaDirectionDm = \"\";\n                        }\n                    }\n                }\n                this.lyList = [];\n                if(val !== ''){\n                    this.$$request({\n                        url: this.$api.hyglApi.querySubSelcetListByTableNameAndParentCode,\n                        data: {\n                            tableName:\"DM_CLAIM_DIRECTION\",\n                            parentCode: val\n                        }\n                    }).then(function (res) {\n                        if(res.result === 1){\n                            that.jbList = res.info;\n                        }\n                    }).catch(function (error) {\n                        that.$alert(error, \"系统异常，请联系管理员！\", {});\n                    })\n                }else{\n                    this.jbList = [];\n                }\n            }\n        },\n\n        'productForm.claimDirectionDm':function (val,old) {\n            let that = this;\n            if(val !== old){\n                if(this.isNotNew === 'Y'){//新建进来\n                    if(this.isNotProductUpdate === 'N'){\n                        this.productForm.areaDirectionDm = \"\";\n                    }\n                }else{\n                    if(this.state === 'Y'){//未提交\n                        if(this.isNotProductUpdate === 'N') {\n                            this.productForm.areaDirectionDm = \"\";\n                        }\n                    }\n                }\n                if(val !== ''){\n                    this.$$request({\n                        url: this.$api.hyglApi.querySubSelcetListByTableNameAndParentCode,\n                        data: {\n                            tableName:\"DM_AREA_DIRECTION\",\n                            parentCode: val\n                        }\n                    }).then(function (res) {\n                        if(res.result === 1){\n                            that.lyList = res.info;\n                        }\n                    }).catch(function (error) {\n                        that.$alert(error, \"系统异常，请联系管理员！\", {});\n                    })\n                }else{\n                    this.lyList = [];\n                }\n            }\n        },\n        uuids:function (newVal,oldVal) {\n            if(newVal!=oldVal){\n                this.$set(this.getDataWayInfo,'param',{\n                    uuids:this.uuids,\n                    givenYear: this.givenYear,\n                    flag: 'temp',\n                    comid: this.comid,\n                });\n                if(this.$refs.tableInfo) {\n                    this.$refs.tableInfo.loadData();\n                }\n            }\n        },\n    }\n}\n",{"version":3,"sources":["InformationReporting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAokBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InformationReporting.vue","sourceRoot":"src/views/hygl/informationManagement","sourcesContent":["<!--信息填报-->\r\n<template>\r\n    <div class=\"xxtbone\">\r\n        <div style=\"padding: 10px 20px\"><!--  -->\r\n            <el-button v-if=\"packageStatus === 'hlw'\" type=\"primary\" size=\"small\" :disabled=\"isCreated===1\" @click=\"add\" icon=\"el-icon-edit-outline\">新建</el-button>\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"update\" size=\"small\" type=\"primary\" icon=\"el-icon-edit\">修改</el-button>\r\n        </div>\r\n        <tableList\r\n                ref=\"table\"\r\n                :getDataWay=\"getDataWay\"\r\n                index\r\n                :columns=\"columns\"\r\n                :pagination=\"pagination\"\r\n                :checkedData='checkedData'\r\n                selection><!--v-bind:selection=\"packageStatus === 'hlw'?true:false\"-->\r\n            <el-table-column label=\"年份\" :width=\"55\" slot=\"givenYear\" show-overflow-tooltip>\r\n                <template slot-scope=\"scope\">\r\n                    <el-link :underline=\"true\" @click.stop=\"show(scope.row)\" class=\"a-link\">\r\n                        {{scope.row.givenYear}}\r\n                    </el-link>\r\n                </template>\r\n            </el-table-column>\r\n        </tableList>\r\n        <el-dialog v-if=\"dialogFormVisible\"\r\n                   title=\"信息填报\"\r\n                   :visible.sync=\"dialogFormVisible\"\r\n                   width=\"1100px\"\r\n                   :close-on-click-modal=\"false\">\r\n            <el-tabs v-model=\"activeName\" type=\"card\">\r\n                <el-tab-pane label=\"企业信息填报\" name=\"first\">\r\n                    <div>\r\n                        <el-divider content-position=\"left\">法人信息</el-divider>\r\n                        <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"170px\">\r\n                            <template class=\"sizes\">\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"法人代表姓名\" class=\"form-item\" prop=\"legalPersonName\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.legalPersonName\" class=\"inputwidth\" size=\"small\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"身份证号码\" class=\"form-item\" prop=\"certNo\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.certNo\" class=\"inputwidth\" size=\"small\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"年龄\" class=\"form-item\" prop=\"age\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.age\" class=\"inputwidth\" size=\"small\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"职称\" class=\"form-item\" prop=\"technicalTitle\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.technicalTitle\" class=\"inputwidth\" size=\"small\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"教育情况\" class=\"form-item\" prop=\"educationDm\">\r\n                                        <el-select class=\"inputwidth\"\r\n                                                   :disabled=\"state=== 'N'\"\r\n                                                   size=\"small\"\r\n                                                   v-model=\"form.educationDm\"\r\n                                                   placeholder=\"请选择教育情况\">\r\n                                            <el-option\r\n                                                    v-for=\"item in eduList\"\r\n                                                    :key=\"item.CODE\"\r\n                                                    :label=\"item.CAPTION\"\r\n                                                    :value=\"item.CODE\">\r\n                                            </el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"电子邮箱\" class=\"form-item\" prop=\"email\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.email\" class=\"inputwidth\" size=\"small\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"联系电话\" class=\"form-item\" prop=\"phone\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.phone\" clearable size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"毕业学校\" class=\"form-item\" prop=\"graduationSchool\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.graduationSchool\" clearable size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"工作简历\" class=\"form-item\" prop=\"resume\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.resume\" type=\"textarea\" :rows=\"3\"\r\n                                                  class=\"textwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <el-divider content-position=\"left\">企业信息</el-divider>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"企业名称\" class=\"form-item\" prop=\"comName\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.comName\" clearable size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"并购金额(万元)\" class=\"form-item\" prop=\"mergerNum\"\r\n                                                  :rules=\"[{ required: true,message: '并购金额不能为空'},\r\n                                                  { type: 'number', message: '并购金额必须为数字值'},\r\n                                                  {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.mergerNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"融资金额(万元)\" class=\"form-item\" prop=\"financeNum\"\r\n                                                  :rules=\"[{ required: true,message: '融资金额不能为空'},\r\n                                                  { type: 'number', message: '融资金额必须为数字值'},\r\n                                                  {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.financeNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"风险投资金额(万元)\" class=\"form-item\" prop=\"ventureNum\"\r\n                                                  :rules=\"[{ required: true,message: '风险投资金额不能为空'},\r\n                                                  { type: 'number', message: '风险投资金额必须为数字值'},\r\n                                                  {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.ventureNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"一类知识产权数量\" class=\"form-item\" prop=\"primaryPropertyNum\"\r\n                                                  :rules=\"[{ required: true,message: '一类知识产权数量不能为空'},\r\n                                                  { type: 'number', message: '一类知识产权数量必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.primaryPropertyNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"二类知识产权数量\" class=\"form-item\" prop=\"secondaryPropertyNum\"\r\n                                                  :rules=\"[{ required: true,message: '二类知识产权数量不能为空'},\r\n                                                  { type: 'number', message: '二类知识产权数量必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.secondaryPropertyNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"本年新增知识产权数量\" class=\"form-item\" prop=\"freshPropertyNum\"\r\n                                                  :rules=\"[{ required: true,message: '新增知识产权数量不能为空'},\r\n                                                  { type: 'number', message: '新增知识产权数量必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.freshPropertyNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"企业职工总数\" class=\"form-item\" prop=\"employeeNum\"\r\n                                                  :rules=\"[{ required: true,message: '企业职工总数不能为空'},\r\n                                                  { type: 'number', message: '企业职工总数必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.employeeNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"企业职工在职人员数量\" class=\"form-item\" prop=\"onjobEmployeeNum\"\r\n                                                  :rules=\"[{ required: true,message: '企业职工在职人员数量不能为空'},\r\n                                                  { type: 'number', message: '在职人员必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.onjobEmployeeNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"兼职人员数量\" class=\"form-item\" prop=\"ptjobEmployeeNum\"\r\n                                                  :rules=\"[{ required: true,message: '兼职人员数量不能为空'},\r\n                                                  { type: 'number', message: '兼职人员必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.ptjobEmployeeNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"临时人员数量\" class=\"form-item\" prop=\"tempEmployeeNum\"\r\n                                                  :rules=\"[{ required: true,message: '临时人员数量不能为空'},\r\n                                                  { type: 'number', message: '临时人员必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.tempEmployeeNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"本年新增人数\" class=\"form-item\" prop=\"freshmanNum\"\r\n                                                  :rules=\"[{ required: true,message: '本年新增人数不能为空'},\r\n                                                  { type: 'number', message: '新增人数必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.freshmanNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n\r\n                                    <el-form-item label=\"本年吸纳高校应届毕业生人数\" class=\"form-item\" prop=\"graduatesNum\"\r\n                                                  :rules=\"[{ required: true,message: '毕业生人数不能为空'},\r\n                                                  { type: 'number', message: '毕业生人数必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.graduatesNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"科技人员总数\" class=\"form-item\" prop=\"technicalEmployeeNum\"\r\n                                                  :rules=\"[{ required: true,message: '科技人员总数不能为空'},\r\n                                                  { type: 'number', message: '科技人员必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.technicalEmployeeNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"科技人员在职数量\" class=\"form-item\" prop=\"onjobTechNum\"\r\n                                                  :rules=\"[{ required: true,message: '科技人员在职数量不能为空'},\r\n                                                  { type: 'number', message: '科技人员必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.onjobTechNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"科技人员兼职数量\" class=\"form-item\" prop=\"ptjobTechNum\"\r\n                                                  :rules=\"[{ required: true,message: '科技人员兼职数量不能为空'},\r\n                                                  { type: 'number', message: '科技人员兼职必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.ptjobTechNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"科技人员临时数量\" class=\"form-item\" prop=\"tempTechNum\"\r\n                                                  :rules=\"[{ required: true,message: '科技人员临时数量不能为空'},\r\n                                                  { type: 'number', message: '科技人员临时必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.tempTechNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"标准数量\" class=\"form-item\" prop=\"standardNum\"\r\n                                                  :rules=\"[{ required: true,message: '标准数量不能为空'},\r\n                                                  { type: 'number', message: '标准数量必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.standardNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"本年新增标准数量\" class=\"form-item\" prop=\"freshStandardNum\"\r\n                                                  :rules=\"[{ required: true,message: '新增标准数量不能为空'},\r\n                                                  { type: 'number', message: '新增标准数量必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.freshStandardNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"研发机构数量\" class=\"form-item\" prop=\"freshmanNum\"\r\n                                                  :rules=\"[{ required: true,message: '研发机构数量不能为空'},\r\n                                                  { type: 'number', message: '研发机构必须为数字值'},\r\n                                                  {pattern:/^\\d{1,9}$/, message: '长度在1到9个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model.number=\"form.researchOrgNum\" size=\"small\"\r\n                                                  class=\"inputwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"所属省份\" class=\"form-item\" prop=\"provinceDm\"\r\n                                                  :rules=\"[{ required: true,message: '所属省份不能为空'}]\">\r\n                                        <el-select class=\"inputwidth\"\r\n                                                   :disabled=\"state=== 'N'\"\r\n                                                   size=\"small\"\r\n                                                   v-model=\"form.provinceDm\"\r\n                                                   placeholder=\"请选择省份\">\r\n                                            <el-option\r\n                                                    v-for=\"item in provinces\"\r\n                                                    :key=\"item.CODE\"\r\n                                                    :label=\"item.CAPTION\"\r\n                                                    :value=\"item.CODE\">\r\n                                            </el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"所属年份\" class=\"form-item\" prop=\"givenYear\"\r\n                                                  :rules=\"[{ required: true,message: '所属年份不能为空'}]\">\r\n                                        <el-date-picker style=\"width: 250px\"\r\n                                                        v-model=\"form.givenYear\"\r\n                                                        size=\"small\"\r\n                                                        format=\"yyyy\"\r\n                                                        value-format=\"yyyy\"\r\n                                                        type=\"year\"\r\n                                                        :disabled=\"state === 'N'\"\r\n                                                        placeholder=\"选择年份\"\r\n                                                        :picker-options=\"pickerOptions\"\r\n                                                        @change=\"givenYearChange(form.givenYear)\">\r\n                                        </el-date-picker>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"企业是否属于先导区\" class=\"form-item\" prop=\"isPilotArea\"\r\n                                                  :rules=\"[{ required: true,message: '是否属于先导区不能为空'}]\">\r\n                                        <el-radio-group :disabled=\"state=== 'N'\" v-model=\"form.isPilotArea\" class=\"inputwidth\">\r\n                                      <span style=\"display: inline\">\r\n                                     <el-radio label=\"1\">是</el-radio>\r\n                                     <el-radio label=\"0\">否</el-radio>\r\n                                            </span>\r\n                                        </el-radio-group>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"所属行业\" class=\"form-item\" prop=\"industryDm\"\r\n                                                  :rules=\"[{ required: true,message: '所属行业不能为空'}]\">\r\n                                        <el-select class=\"inputwidth\"\r\n                                                   :disabled=\"state=== 'N'\"\r\n                                                   size=\"small\"\r\n                                                   v-model=\"form.industryDm\"\r\n                                                   placeholder=\"请选择所属行业\">\r\n                                            <el-option\r\n                                                    v-for=\"item in industryList\"\r\n                                                    :key=\"item.CODE\"\r\n                                                    :label=\"item.CAPTION\"\r\n                                                    :value=\"item.CODE\">\r\n                                            </el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"form-item-wrap\">\r\n                                    <el-form-item label=\"企业近五年内获得人工智能产品情况\" class=\"form-item\" prop=\"recentProductInfo\"\r\n                                                  :rules=\"[{ required: true,message: '企业近五年内获得人工智能产品情况不能为空'},\r\n                                                  {min: 1,max:1000,message: '长度在1到1000个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"form.recentProductInfo\" type=\"textarea\" :rows=\"3\"\r\n                                                  class=\"textwidth\"></el-input>\r\n                                    </el-form-item>\r\n                                </div>\r\n                                <div class=\"wz\">\r\n                                    <el-button :disabled=\"state=== 'N'\" type=\"primary\" @click=\"onSubmitform('form')\">保存</el-button>\r\n                                    <el-button type=\"primary\" @click=\"formnext\">下一步</el-button>\r\n                                </div>\r\n                            </template>\r\n                        </el-form>\r\n                    </div>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"主要财务指标年填报\" name=\"second\">\r\n                    <el-form ref=\"form1\" :model=\"form1\" label-width=\"250px\">\r\n                        <template class=\"sizes\">\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"营业收入(万元)\" class=\"form-item\" prop=\"income\"\r\n                                              :rules=\"[{ required: true,message: '营业收入不能为空'},\r\n                                                                { type: 'number', message: '营业收入必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.income\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"主营业务收入(万元)\" class=\"form-item\" prop=\"majorIncome\"\r\n                                              :rules=\"[{ required: true,message: '主营业务收入不能为空'},\r\n                                                                { type: 'number', message: '主营业务收入必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.majorIncome\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"主营业务成本(万元)\" class=\"form-item\" prop=\"majorCost\"\r\n                                              :rules=\"[{ required: true,message: '主营业务成本不能为空'},\r\n                                                                { type: 'number', message: '主营业务成本必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.majorCost\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"主营业务利润(万元)\" class=\"form-item\" prop=\"majorProfit\"\r\n                                              :rules=\"[{ required: true,message: '主营业务利润不能为空'},\r\n                                                                { type: 'number', message: '主营业务利润必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.majorProfit\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"销售费用(万元)\" class=\"form-item\" prop=\"sellingCost\"\r\n                                              :rules=\"[{ required: true,message: '销售费用不能为空'},\r\n                                                                { type: 'number', message: '销售费用必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.sellingCost\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"管理费用(万元)\" class=\"form-item\" prop=\"manageCost\"\r\n                                              :rules=\"[{ required: true,message: '管理费用不能为空'},\r\n                                                                { type: 'number', message: '管理费用必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.manageCost\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"税收(万元)\" class=\"form-item\" prop=\"taxRevenue\"\r\n                                              :rules=\"[{ required: true,message: '税收不能为空'},\r\n                                                                { type: 'number', message: '税收必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.taxRevenue\" clearable size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"享受优惠政策已退税额(万元)\" class=\"form-item\" prop=\"taxDrawback\"\r\n                                              :rules=\"[{ required: true,message: '享受优惠政策已退税额不能为空'},\r\n                                                                { type: 'number', message: '享受优惠政策已退税额必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.taxDrawback\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"负债合计(万元)\" class=\"form-item\" prop=\"debts\"\r\n                                              :rules=\"[{ required: true,message: '负债合计不能为空'},\r\n                                                                { type: 'number', message: '负债合计必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.debts\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"流动资产合计(万元)\" class=\"form-item\" prop=\"currentAssets\"\r\n                                              :rules=\"[{ required: true,message: '流动资产合计不能为空'},\r\n                                                                { type: 'number', message: '流动资产合计必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.currentAssets\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"资产累计(万元)\" class=\"form-item\" prop=\"totalAssets\"\r\n                                              :rules=\"[{ required: true,message: '资产累计不能为空'},\r\n                                                                { type: 'number', message: '资产累计必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.totalAssets\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"固定资产原价(万元)\" class=\"form-item\" prop=\"fixedAssets\"\r\n                                              :rules=\"[{ required: true,message: '固定资产原价不能为空'},\r\n                                                                { type: 'number', message: '固定资产原价必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.fixedAssets\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"累计折旧(万元)\" class=\"form-item\" prop=\"totalDepreciation\"\r\n                                              :rules=\"[{ required: true,message: '累计折旧不能为空'},\r\n                                                                { type: 'number', message: '累计折旧必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.totalDepreciation\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"本年折旧(万元)\" class=\"form-item\"\r\n                                              prop=\"currentYearDepreciation\"\r\n                                              :rules=\"[{ required: true,message: '本年折旧不能为空'},\r\n                                                                { type: 'number', message: '本年折旧必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.currentYearDepreciation\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"所有者权益年末余额(万元)\" class=\"form-item\" prop=\"yearEndBalance\"\r\n                                              :rules=\"[{ required: true,message: '年末余额不能为空'},\r\n                                                                { type: 'number', message: '年末余额必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.yearEndBalance\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"固定资产投资额(万元)\" class=\"form-item\" prop=\"fixedInvestments\"\r\n                                              :rules=\"[{ required: true,message: '固定资产投资额不能为空'},\r\n                                                                { type: 'number', message: '固定资产投资额必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.fixedInvestments\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"form-item-wrap5\">\r\n                                <el-form-item label=\"研发经费(万元)\" class=\"form-item\" prop=\"researchCost\"\r\n                                              :rules=\"[{ required: true,message: '研发经费不能为空'},\r\n                                                                { type: 'number', message: '研发经费必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.researchCost\" size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"所有者权益年初余额(万元)\" class=\"form-item\" prop=\"yearInitBalance\"\r\n                                              :rules=\"[{ required: true,message: '所有者权益年初余额不能为空'},\r\n                                                                { type: 'number', message: '所有者权益年初余额必须为数字值'},\r\n                                                                {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                    <el-input :disabled=\"state=== 'N'\" v-model.number=\"form1.yearInitBalance\" clearable size=\"small\"\r\n                                              class=\"inputwidth\"></el-input>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class=\"wz1\">\r\n                                <el-button :disabled=\"state=== 'N'\" type=\"primary\" @click=\"onSubmitform1('form1')\">保存</el-button>\r\n                                <el-button type=\"primary\" @click=\"form1next\">下一步</el-button>\r\n                            </div>\r\n                        </template>\r\n                    </el-form>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"揭榜产品指标年填报\" name=\"third\">\r\n                    <el-form ref=\"form2\" :model=\"form2\" label-width=\"250px\">\r\n                        <div class=\"form-item-wrap1\">\r\n                            <el-form-item\r\n                                    label=\"所属年度\">\r\n                                <el-input type=\"productName\" :disabled=\"true\" v-model=\"form.givenYear\" autocomplete=\"off\"\r\n                                          class=\"inputwidth\" size=\"small\"\r\n                                          clearable></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"出口额\" prop=\"exportsAccounts\" class=\"wz3\"\r\n                                          :rules=\"[\r\n                                          { required: true, message: '出口额不能为空'},\r\n                                          { type: 'number', message: '出口额必须为数字值'},\r\n                                          {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                <el-input :disabled=\"state=== 'N'\" v-model.number=\"form2.exportsAccounts\"  class=\"inputwidth\" size=\"small\"></el-input>\r\n                            </el-form-item>\r\n                        </div>\r\n                        <div class=\"chanpintj\">\r\n                            <el-button :disabled=\"state=== 'N'\" size=\"small\" type=\"primary\" @click=\"addProduct\" style=\"margin-bottom: 10px\">\r\n                                产品添加\r\n                            </el-button>\r\n                            <tableList ref=\"tableInfo\"\r\n                                       highlight-current-row\r\n                                       :getDataWay=\"getDataWayInfo\"\r\n                                       :columns=\"columnsinfo\"\r\n                                       :pagination=\"pagination1\">\r\n                                <el-table-column label=\"操作\" slot=\"opts\" width=\"180\">\r\n                                    <template v-slot=\"scope\">\r\n                                        <el-button type=\"primary\" @click=\"See(scope.row)\">编辑</el-button>\r\n                                        <el-button :disabled=\"state=== 'N'\" type=\"primary\" @click=\"del(scope.row)\">删除</el-button>\r\n                                    </template>\r\n                                </el-table-column>\r\n                            </tableList>\r\n                            <el-dialog v-if=\"dialogprojectFormVisible\"\r\n                                       append-to-body :close-on-click-modal=\"false\"\r\n                                       title=\"产品添加\"\r\n                                       width=\"600px\"\r\n                                       :visible.sync=\"dialogprojectFormVisible\"\r\n                                       @close=\"closeDialog('productForm')\">\r\n                                <el-form :model=\"productForm\" ref=\"productForm\" label-width=\"120px\"\r\n                                         class=\"demo-ruleForm\">\r\n                                    <el-form-item\r\n                                            label=\"产品名称\"\r\n                                            prop=\"productName\"\r\n                                            :rules=\"[{ required: true, message: '产品名称不能为空'},\r\n                                            {min:1,max:50,message: '长度在1到50个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" type=\"productName\" v-model=\"productForm.productName\"\r\n                                                  autocomplete=\"off\"\r\n                                                  clearable></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"重点方向\" prop=\"majorDirectionDm\"\r\n                                                  :rules=\"[{ required: true, message: '重点方向不能为空'}]\">\r\n                                        <el-select :disabled=\"state=== 'N'\" v-model=\"productForm.majorDirectionDm\">\r\n                                            <el-option v-for=\"item in zdList\" :label=\"item.CAPTION\" :value=\"item.CODE\"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"揭榜方向\" prop=\"claimDirectionDm\"\r\n                                                  :rules=\"[{ required: true, message: '揭榜方向不能为空'}]\">\r\n                                        <el-select  :disabled=\"state=== 'N'|| productForm.majorDirectionDm === ''\" v-model=\"productForm.claimDirectionDm\">\r\n                                            <el-option v-for=\"item in jbList\" :label=\"item.CAPTION\" :value=\"item.CODE\"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                    <el-form-item label=\"领域方向\" prop=\"areaDirectionDm\"\r\n                                                  :rules=\"[{ required: true, message: '领域方向不能为空'}]\">\r\n                                        <el-select :disabled=\"state=== 'N' || productForm.claimDirectionDm === ''\" v-model=\"productForm.areaDirectionDm\">\r\n                                            <el-option v-for=\"item in lyList\" :label=\"item.CAPTION\" :value=\"item.CODE\"></el-option>\r\n                                        </el-select>\r\n                                    </el-form-item>\r\n                                    <el-form-item\r\n                                            label=\"产品描述\"\r\n                                            prop=\"conclusion\"\r\n                                            :rules=\"[\r\n                                            { required: true, message: '产品描述不能为空'},\r\n                                            {min:1,max:1000,message: '长度在1到1000个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" v-model=\"productForm.conclusion\" type=\"textarea\"\r\n                                                  :rows=\"2\"\r\n                                                  placeholder=\"请输入内容\" autocomplete=\"off\"></el-input>\r\n                                    </el-form-item>\r\n                                    <el-form-item\r\n                                            label=\"产品销售收入\"\r\n                                            prop=\"productSellingRevenue\"\r\n                                            :rules=\"[{ required: true, message: '产品销售收入不能为空'},\r\n                                            { type: 'number', message: '产品销售必须为数字值'},\r\n                                            {pattern:/^\\d{1,12}$/, message: '长度在1到12个字符'}]\">\r\n                                        <el-input :disabled=\"state=== 'N'\" type=\"productSellingRevenue\"\r\n                                                  v-model.number=\"productForm.productSellingRevenue\"\r\n                                                  autocomplete=\"off\"\r\n                                                  clearable></el-input>\r\n                                    </el-form-item>\r\n                                    <div class=\"foot4\">\r\n                                        <el-button :disabled=\"state=== 'N'\" type=\"primary\" @click=\"productFormonSunbmit('productForm')\">保存</el-button>\r\n                                        <el-button :disabled=\"state=== 'N'\" type=\"primary\" @click=\"resetproductForm('productForm')\">重置</el-button>\r\n                                    </div>\r\n                                </el-form>\r\n                            </el-dialog>\r\n                        </div>\r\n                        <div class=\"foot3\">\r\n                            <el-button :disabled=\"state=== 'N'\" type=\"primary\" @click=\"onSubmit('form2')\">保存</el-button>\r\n                            <el-button :disabled=\"state=== 'N'\" type=\"primary\" @click=\"submitForm\">提交</el-button>\r\n                        </div>\r\n                    </el-form>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import tableList from '@/components/grid/TableList.vue';\r\n\r\n    export default {\r\n        name: \"InformationReporting\",\r\n        components: {\r\n            tableList\r\n        },\r\n        data() {\r\n            return {\r\n                uuids:'',\r\n                givenYear:'',\r\n                comid:'',\r\n                packageStatus:this.$packageStatus,\r\n                checkedData: [],\r\n                //页签切换\r\n                activeName: 'first',\r\n                //年报分页\r\n                pagination: {\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                    pageSizes: [5, 10, 20, 50],//默认每页显示多少条\r\n                    position: 'center',\r\n                    layout: 'sizes ,total,prev, pager, next, jumper'\r\n                },\r\n                //年报产品分页\r\n                pagination1: {\r\n                    currentPage: 1,\r\n                    pageSize: 5,\r\n                    pageSizes: [5, 10, 20],//默认每页显示多少条\r\n                    position: 'center',\r\n                    layout: 'sizes ,total,prev, pager, next, jumper'\r\n                },\r\n                //获取年报列表 内外网\r\n                getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryComInfo,\r\n                    param: {\r\n                        givenYear: (new Date().getFullYear()-1).toString(),\r\n                        netType: this.$packageStatus==='zwww'?'in':'ex',\r\n                    }\r\n                },\r\n                //获取产品列表\r\n                getDataWayInfo: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryClaimProduct,\r\n                    param: {\r\n                        givenYear: '',\r\n                        flag: 'year',\r\n                        uuids: '',\r\n                        comid:'',\r\n                    }\r\n                },\r\n                //获取勾选的数据\r\n                //新增报表dialog\r\n                dialogFormVisible: false,\r\n                //新增产品dialog\r\n                dialogprojectFormVisible: false,\r\n                //产品列表列名\r\n                columnsinfo: [\r\n                    {\r\n                        label: ' 产品名称',\r\n                        prop: 'productName',\r\n                    }, {\r\n                        label: '操作',\r\n                        prop: 'opts',\r\n                        template: true //添加模板，一般处理操作列(注意：tempate、formatter不能同时使用)\r\n                    }\r\n                ],\r\n                //年报列表列名\r\n                columns: [\r\n                    {\r\n                        label: ' 年份',\r\n                        prop: 'givenYear',\r\n                        template: true,\r\n                        width: '60',\r\n                    },\r\n                    {\r\n                        label: ' 企业名称',\r\n                        prop: 'comName',\r\n                        width: '80',\r\n                    },\r\n                    {\r\n                        label: ' 企业税收(万元)',\r\n                        prop: 'taxRevenue',\r\n                        width: '80',\r\n                    },\r\n                    {\r\n                        label: ' 企业利润(万元)',\r\n                        prop: 'majorProfit',\r\n                        width: '80',\r\n                    },\r\n                    {\r\n                        label: ' 企业总收入(万元)',\r\n                        prop: 'income',\r\n                        width: '95',\r\n                    }, {\r\n                        label: ' 人工智能产品销售收入(万元)',\r\n                        prop: 'aiIncome',\r\n                        width: '95',\r\n                    }, {\r\n                        label: ' 出口额(万元)',\r\n                        prop: 'exportsAccounts',\r\n                        width: '70',\r\n                    }, {\r\n                        label: ' 研发经费(万元)',\r\n                        prop: 'researchCost',\r\n                        width: '80',\r\n                    }, {\r\n                        label: ' 科研人数',\r\n                        prop: 'technicalEmployeeNum',\r\n                        width: '80',\r\n                    }, {\r\n                        label: ' 知识产权数',\r\n                        prop: 'propertyTotalNum',\r\n                        width: '95',\r\n                    }, {\r\n                        label: ' 标准数量',\r\n                        prop: 'standardNum',\r\n                    },\r\n                ],\r\n                //企业信息数据项\r\n                form: {\r\n                    uuid:'',\r\n                    legalPersonName: \"\",\r\n                    certNo: \"\",\r\n                    age: \"\",\r\n                    technicalTitle: \"\",\r\n                    educationDm: \"\",\r\n                    email: \"\",\r\n                    phone: \"\",\r\n                    graduationSchool: \"\",\r\n                    resume: \"\",\r\n                    comName: \"\",\r\n                    mergerNum: \"\",\r\n                    financeNum: \"\",\r\n                    ventureNum: \"\",\r\n                    standardNum: \"\",\r\n                    industryDm: \"\",\r\n                    freshPropertyNum: \"\",\r\n                    primaryPropertyNum: \"\",\r\n                    secondaryPropertyNum: \"\",\r\n                    onjobEmployeeNum: \"\",\r\n                    ptjobEmployeeNum: \"\",\r\n                    employeeNum: \"\",\r\n                    onjobTechNum: \"\",\r\n                    tempEmployeeNum: \"\",\r\n                    technicalEmployeeNum: \"\",\r\n                    ptjobTechNum: \"\",\r\n                    freshmanNum: \"\",\r\n                    provinceDm: \"\",\r\n                    researchOrgNum: \"\",\r\n                    graduatesNum: \"\",\r\n                    recentProductInfo: \"\",\r\n                    givenYear: \"\",\r\n                    tempTechNum: \"\",\r\n                    freshStandardNum: \"\",\r\n                    isPilotArea: \"1\",\r\n                },\r\n                //财务数据项\r\n                form1: {\r\n                    uuid:'',\r\n                    income: \"\",\r\n                    majorIncome: \"\",\r\n                    majorCost: \"\",\r\n                    majorProfit: \"\",\r\n                    sellingCost: \"\",\r\n                    manageCost: \"\",\r\n                    taxRevenue: \"\",\r\n                    taxDrawback: \"\",\r\n                    debts: \"\",\r\n                    currentAssets: \"\",\r\n                    totalAssets: \"\",\r\n                    fixedAssets: \"\",\r\n                    totalDepreciation: \"\",\r\n                    currentYearDepreciation: \"\",\r\n                    yearEndBalance: \"\",\r\n                    fixedInvestments: \"\",\r\n                    researchCost: \"\",\r\n                    yearInitBalance: \"\",\r\n                },\r\n                //第三页财务数据项\r\n                form2: {\r\n                    exportsAccounts: \"\",\r\n                },\r\n                //产品数据项\r\n                productForm: {\r\n                    uuid:'',\r\n                    productName: \"\",\r\n                    majorDirectionDm: \"\",\r\n                    claimDirectionDm: \"\",\r\n                    areaDirectionDm: \"\",\r\n                    conclusion: \"\",\r\n                    productSellingRevenue: \"\",\r\n                },\r\n                //校验规则\r\n                rules: {\r\n                    legalPersonName: [\r\n                        {\r\n                            required: true,\r\n                            message: '法人姓名不能为空',\r\n                        },\r\n                        {\r\n                            min: 1,\r\n                            max: 25,\r\n                            message: '长度在1到25个字符'\r\n                        }\r\n                    ],\r\n                    certNo: [\r\n                        {\r\n                            required: true,\r\n                            message: '身份证号码格式不正确',\r\n                            pattern: '(^\\\\d{8}(0\\\\d|10|11|12)([0-2]\\\\d|30|31)\\\\d{3}$)|(^\\\\d{6}(18|19|20)\\\\d{2}(0\\\\d|10|11|12)([0-2]\\\\d|30|31)\\\\d{3}(\\\\d|X|x)$)'\r\n                        }\r\n                    ],\r\n                    age: [\r\n                        {required: true, message: '年龄不能为空'},\r\n                        {type: 'number', message: '年龄必须为数字值'},\r\n                        {pattern:/^\\d{2,3}$/, message: '长度在2到3个字符'}\r\n                    ],\r\n                    technicalTitle: [\r\n                        {\r\n                            required: true,\r\n                            message: '职称不能为空',\r\n                        },\r\n                        {\r\n                            min:1,\r\n                            max:25,\r\n                            message: '长度在1到25个字符'\r\n                        }\r\n                    ],\r\n                    educationDm: [\r\n                        {\r\n                            required: true,\r\n                            message: '教育情况不能为空',\r\n                        },\r\n                    ],\r\n                    email: [\r\n                        {\r\n                            required: true,\r\n                            message: '邮箱格式不正确',\r\n                            pattern: '(^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+)'\r\n                        }\r\n                    ],\r\n                    phone: [\r\n                        {\r\n                            required: true,\r\n                            message: '联系电话格式不正确',\r\n                            pattern: '(^((\\\\+|00)86)?1[3-9]\\\\d{9}$)|(^(\\\\d{3}(-)?\\\\d{8}|\\\\d{4}(-)?\\\\d{7})$)'\r\n                        }\r\n                    ],\r\n                    graduationSchool: [\r\n                        {\r\n                            required: true,\r\n                            message: '毕业学校不能为空',\r\n                        },\r\n                        {\r\n                            min:1,\r\n                            max:25,\r\n                            message: '长度在1到25个字符'\r\n                        }\r\n                    ],\r\n                    resume: [\r\n                        {\r\n                            required: true,\r\n                            message: '工作简历不能为空',\r\n                        },\r\n                        {\r\n                            min:1,\r\n                            max:1000,\r\n                            message: '长度在1到1000个字符'\r\n                        }\r\n                    ],\r\n                    comName: [\r\n                        {\r\n                            required: true,\r\n                            message: '企业名称不能为空',\r\n                        },\r\n                        {\r\n                            min:1,\r\n                            max:50,\r\n                            message: '长度在1到50个字符'\r\n                        }\r\n                    ],\r\n                },\r\n                //判断是否可以新建状态码\r\n                isCreated: 0 ,\r\n                //重点方向下拉选数据\r\n                zdList:[],\r\n                //揭榜方向下拉选数据\r\n                jbList:[],\r\n                //领域方向下拉选数据\r\n                lyList:[],\r\n                // 字典表数据\r\n                provinces: [],\r\n                //教育情况字典表数据\r\n                eduList:[],\r\n                industryList:[],\r\n                state:'Y', //是否可点击状态码\r\n                isNotNew:'N',//判断是否新建按钮标识\r\n                isNotProductUpdate:'N',//判断是否是产品编辑按钮标识\r\n                //只能选择今年及今年以前的年份\r\n                pickerOptions:{\r\n                    disabledDate(time) {\r\n                        return time.getTime() > Date.now()-8.64e7;\r\n                    },\r\n                },\r\n            };\r\n        },\r\n        methods: {\r\n            //新建年报打开dialog\r\n            add: function () {\r\n                this.activeName = 'first';\r\n                this.state = 'Y';\r\n                this.isNotNew = 'Y';\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.getComSelfcommentByAnnualId,\r\n                    data: {}\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        if(res.info){\r\n                            if(res.info.state===1){\r\n                                that.dialogFormVisible = true;\r\n                                that.uuids = '';\r\n                                that.form = {\r\n                                    uuid:'',\r\n                                    legalPersonName: \"\",\r\n                                    certNo: \"\",\r\n                                    age: \"\",\r\n                                    technicalTitle: \"\",\r\n                                    educationDm: \"\",\r\n                                    email: \"\",\r\n                                    phone: \"\",\r\n                                    graduationSchool: \"\",\r\n                                    resume: \"\",\r\n                                    comName: \"\",\r\n                                    mergerNum: \"\",\r\n                                    financeNum: \"\",\r\n                                    ventureNum: \"\",\r\n                                    standardNum: \"\",\r\n                                    industryDm: \"\",\r\n                                    freshPropertyNum: \"\",\r\n                                    primaryPropertyNum: \"\",\r\n                                    secondaryPropertyNum: \"\",\r\n                                    onjobEmployeeNum: \"\",\r\n                                    ptjobEmployeeNum: \"\",\r\n                                    employeeNum: \"\",\r\n                                    onjobTechNum: \"\",\r\n                                    tempEmployeeNum: \"\",\r\n                                    technicalEmployeeNum: \"\",\r\n                                    ptjobTechNum: \"\",\r\n                                    freshmanNum: \"\",\r\n                                    provinceDm: \"\",\r\n                                    researchOrgNum: \"\",\r\n                                    graduatesNum: \"\",\r\n                                    recentProductInfo: \"\",\r\n                                    givenYear: \"\",\r\n                                    tempTechNum: \"\",\r\n                                    freshStandardNum: \"\",\r\n                                    isPilotArea: \"Y\",\r\n                                }\r\n                                that.form1 = {\r\n                                    uuid:'',\r\n                                    income: \"\",\r\n                                    majorIncome: \"\",\r\n                                    majorCost: \"\",\r\n                                    majorProfit: \"\",\r\n                                    sellingCost: \"\",\r\n                                    manageCost: \"\",\r\n                                    taxRevenue: \"\",\r\n                                    taxDrawback: \"\",\r\n                                    debts: \"\",\r\n                                    currentAssets: \"\",\r\n                                    totalAssets: \"\",\r\n                                    fixedAssets: \"\",\r\n                                    totalDepreciation: \"\",\r\n                                    currentYearDepreciation: \"\",\r\n                                    yearEndBalance: \"\",\r\n                                    fixedInvestments: \"\",\r\n                                    researchCost: \"\",\r\n                                    yearInitBalance: \"\",\r\n                                }\r\n                                that.form2 = {\r\n                                    exportsAccounts: \"\",\r\n                                }\r\n                                that.getName();\r\n                            }else {\r\n                                that.$message({\r\n                                    message: '请先保存并提交自评表',\r\n                                    type: 'error'\r\n                                });\r\n                                return;\r\n                            }\r\n                        }else {\r\n                            that.$message({\r\n                                message: '请先保存并提交自评表',\r\n                                type: 'error'\r\n                            });\r\n                            return;\r\n                        }\r\n                    }else{\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        return false;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n            },\r\n            //获取企业名称\r\n            getName(){\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.getComName,\r\n                    data: {}\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        if(res.info.comName){\r\n                            that.$set(that.form,'comName',res.info.comName)\r\n                        }else {\r\n                            that.form.comName = '';\r\n                        }\r\n                    }else{\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        return false;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n            },\r\n            //修改\r\n            update() {\r\n                if (this.checkedData.length > 1 || this.checkedData.length == 0) {\r\n                    this.$alert(\"请选择一条数据进行修改！\", \"提示\", {\r\n                        type: 'warning'\r\n                    })\r\n                } else {\r\n                    this.getQyxx(this.checkedData[0]);\r\n                    this.getQycw(this.checkedData[0]);\r\n                    this.getClickstate(this.checkedData[0]);\r\n                    this.activeName = 'first';\r\n                    this.dialogFormVisible = true;\r\n                    this.uuids = this.checkedData[0].uuids;\r\n                    this.givenYear = this.checkedData[0].givenYear;\r\n                    this.comid = this.checkedData[0].comid;\r\n                    this.isNotNew = 'N';\r\n                }\r\n            },\r\n            //打开产品添加dialog\r\n            addProduct(){\r\n                if(this.form.uuid){\r\n                    this.getZdList();\r\n                    this.dialogprojectFormVisible = true;\r\n                    this.productForm = {\r\n                            uuid:'',\r\n                            productName: \"\",\r\n                            majorDirectionDm: \"\",\r\n                            claimDirectionDm: \"\",\r\n                            areaDirectionDm: \"\",\r\n                            conclusion: \"\",\r\n                            productSellingRevenue: \"\",\r\n                    }\r\n                    this.isNotProductUpdate = 'N';\r\n                }else{\r\n                    this.$message({\r\n                        message: '请先保存企业信息',\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            },\r\n            //提交表单1\r\n            async submitForm1(){\r\n                let flag = false;\r\n                let that = this;\r\n                await this.$$request({\r\n                    url: this.$api.hyglApi.saveComInfo,\r\n                    data:Object.assign(this.form, {\r\n                        \"state\": \"-1\",\r\n                    })\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        flag = true;\r\n                        that.$set(that.form,'uuid',res.info.uuid);\r\n                    }else{\r\n                        return false;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n                return flag;\r\n            },\r\n            //提交表单2\r\n            async submitForm2() {\r\n                let flag = false;\r\n                let that = this;\r\n                await this.$$request({\r\n                    url: this.$api.hyglApi.saveComFinance,\r\n                    data: Object.assign(this.form1, {\r\n                        \"givenYear\": this.form.givenYear,\r\n                        \"exportsAccounts\": this.form2.exportsAccounts,\r\n                        \"uuids\": this.uuids,\r\n                    })\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        that.$set(that.form1,'uuid',res.info.uuid);\r\n                        flag = true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n                return flag;\r\n            },\r\n            //提交改变状态\r\n            async changeStatus(){\r\n                let that = this;\r\n                let flag = false;\r\n                await this.$$request({\r\n                    url: this.$api.hyglApi.saveSubmitInfo,\r\n                    data: {\r\n                        state : '0',\r\n                        approvalDm : '020002',\r\n                        title : this.form.comName+this.form.givenYear+'年报',\r\n                        givenYear : this.form.givenYear,\r\n                        isMonthly: '0'\r\n                    }\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        that.$refs.table.loadData();\r\n                        flag = true;\r\n                    }else{\r\n                        return false;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n                return flag;\r\n            },\r\n            //企业信息填报下一步\r\n            formnext: function () {\r\n                this.activeName = 'second';\r\n            },\r\n            //财务填报下一步\r\n            form1next: function () {\r\n                this.activeName = 'third';\r\n            },\r\n            //企业信息填报保存\r\n            onSubmitform: function (formName) {\r\n                let that = this;\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        this.$$request({\r\n                            url: this.$api.hyglApi.saveComInfo,\r\n                            data: this.form\r\n                        }).then(function (res) {\r\n                            if (res.result === 1) {\r\n                                that.$message({\r\n                                    message: '保存成功',\r\n                                    type: 'success'\r\n                                });\r\n                                that.form.uuid = res.info.uuid;\r\n                                that.$refs.table.loadData();\r\n                            }else{\r\n                                that.$message({\r\n                                    message: '保存失败',\r\n                                    type: 'error'\r\n                                });\r\n                            }\r\n                        }).catch(function (error) {\r\n                            that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                        })\r\n                    }\r\n                });\r\n            },\r\n            //财务填报保存\r\n            onSubmitform1: function (formName) {\r\n                let that = this;\r\n                if(this.form.givenYear){\r\n                    this.$refs[formName].validate((valid) => {\r\n                        if (valid) {\r\n                            this.$$request({\r\n                                url: this.$api.hyglApi.saveComFinance,\r\n                                data: Object.assign(this.form1, {\r\n                                    \"givenYear\": this.form.givenYear\r\n                                })\r\n                            }).then(function (res) {\r\n                                if (res.result === 1) {\r\n                                    that.$message({\r\n                                        message: '保存成功',\r\n                                        type: 'success'\r\n                                    });\r\n                                    that.form1.uuid = res.info.uuid;\r\n                                    that.$refs.table.loadData();\r\n                                }else{\r\n                                    that.$message({\r\n                                        message: '保存失败',\r\n                                        type: 'error'\r\n                                    });\r\n                                }\r\n                            }).catch(function (error) {\r\n                                that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                            })\r\n\r\n                        }\r\n                    });\r\n                }else{\r\n                    this.$message({\r\n                        message: '请先保存企业信息',\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            },\r\n            //展示年报\r\n            show: function (row) {\r\n                this.getQyxx(row);\r\n                this.getQycw(row);\r\n                this.getClickstate(row);\r\n                this.activeName = 'first';\r\n                this.uuids = row.uuids;\r\n                this.givenYear = row.givenYear;\r\n                this.comid = row.comid;\r\n                this.dialogFormVisible = true;\r\n                this.isNotNew = 'N';\r\n            },\r\n            //查看企业信息\r\n            getQyxx(row){\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.getComInfoByComIdYear,\r\n                    data: {\r\n                        givenYear: row.givenYear,\r\n                        comid: row.comid,\r\n                    }\r\n                }).then(function (res) {\r\n                    if(res.result === 1){\r\n                        if(res.info){\r\n                            that.form = {\r\n                                uuid: res.info.uuid,\r\n                                legalPersonName: res.info.legalPersonName,\r\n                                certNo: res.info.certNo,\r\n                                age: res.info.age,\r\n                                technicalTitle: res.info.technicalTitle,\r\n                                educationDm: res.info.educationDm,\r\n                                email: res.info.email,\r\n                                phone: res.info.phone,\r\n                                graduationSchool: res.info.graduationSchool,\r\n                                resume: res.info.resume,\r\n                                comName: res.info.comName,\r\n                                mergerNum: res.info.mergerNum,\r\n                                financeNum: res.info.financeNum,\r\n                                ventureNum: res.info.ventureNum,\r\n                                standardNum: res.info.standardNum,\r\n                                industryDm: res.info.industryDm,\r\n                                freshPropertyNum: res.info.freshPropertyNum,\r\n                                primaryPropertyNum: res.info.primaryPropertyNum,\r\n                                secondaryPropertyNum: res.info.secondaryPropertyNum,\r\n                                onjobEmployeeNum: res.info.onjobEmployeeNum,\r\n                                ptjobEmployeeNum: res.info.ptjobEmployeeNum,\r\n                                employeeNum: res.info.employeeNum,\r\n                                onjobTechNum: res.info.onjobTechNum,\r\n                                tempEmployeeNum: res.info.tempEmployeeNum,\r\n                                technicalEmployeeNum: res.info.technicalEmployeeNum,\r\n                                ptjobTechNum: res.info.ptjobTechNum,\r\n                                freshmanNum: res.info.freshmanNum,\r\n                                provinceDm: res.info.provinceDm,\r\n                                researchOrgNum: res.info.researchOrgNum,\r\n                                graduatesNum: res.info.graduatesNum,\r\n                                recentProductInfo: res.info.recentProductInfo,\r\n                                givenYear: res.info.givenYear.toString(),\r\n                                tempTechNum: res.info.tempTechNum,\r\n                                freshStandardNum: res.info.freshStandardNum,\r\n                                isPilotArea: res.info.isPilotArea,\r\n                            };\r\n                        }\r\n                    }else{\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                })\r\n            },\r\n            //查看企业财务\r\n            getQycw(row){\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.getComFinanceByAnnualId,\r\n                    data: {\r\n                        givenYear: row.givenYear,\r\n                        comid: row.comid,\r\n                    }\r\n                }).then(function (res) {\r\n                    if(res.result === 1){\r\n                        if(res.info){\r\n                            that.form1 = {\r\n                                uuid: res.info.uuid,\r\n                                income: res.info.income,\r\n                                majorIncome: res.info.majorIncome,\r\n                                majorCost: res.info.majorCost,\r\n                                majorProfit: res.info.majorProfit,\r\n                                sellingCost: res.info.sellingCost,\r\n                                manageCost: res.info.manageCost,\r\n                                taxRevenue: res.info.taxRevenue,\r\n                                taxDrawback: res.info.taxDrawback,\r\n                                debts: res.info.debts,\r\n                                currentAssets: res.info.currentAssets,\r\n                                totalAssets: res.info.totalAssets,\r\n                                fixedAssets: res.info.fixedAssets,\r\n                                totalDepreciation: res.info.totalDepreciation,\r\n                                currentYearDepreciation: res.info.currentYearDepreciation,\r\n                                yearEndBalance: res.info.yearEndBalance,\r\n                                fixedInvestments: res.info.fixedInvestments,\r\n                                researchCost: res.info.researchCost,\r\n                                yearInitBalance: res.info.yearInitBalance,\r\n                            };\r\n                            that.form2.exportsAccounts = res.info.exportsAccounts;\r\n                        }else{\r\n                            that.form2.exportsAccounts = '';\r\n                        }\r\n                    }else{\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                })\r\n            },\r\n            //获取点击状态\r\n            getClickstate(row){\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.getComInfoState,\r\n                    data: {\r\n                        givenYear: row.givenYear,\r\n                        comid: row.comid,\r\n                    }\r\n                }).then(function (res) {\r\n                    if(res.result === 1){\r\n                        that.state = res.info;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                })\r\n            },\r\n            //产品查看\r\n            See: function (row) {\r\n                this.dialogprojectFormVisible = true;\r\n                this.productForm.uuid =  row.uuid;\r\n                this.productForm.productName = row.productName;\r\n                this.productForm.conclusion = row.conclusion;\r\n                this.productForm.productSellingRevenue = row.productSellingRevenue;\r\n                this.$set(this.productForm,'majorDirectionDm',row.majorDirectionDm);\r\n                this.$set(this.productForm,'claimDirectionDm',row.claimDirectionDm);\r\n                this.$set(this.productForm,'areaDirectionDm',row.areaDirectionDm);\r\n                this.isNotProductUpdate = 'Y';\r\n                this.getZdList();\r\n            },\r\n            //产品添加\r\n            productFormonSunbmit: function (formName) {\r\n                let that = this;\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        this.$$request({\r\n                            url: this.$api.hyglApi.saveClaimProduct,\r\n                            data: Object.assign(this.productForm, {\r\n                                \"isMonthly\": \"0\"\r\n                            })\r\n                        }).then(function (res) {\r\n                            if (res.result === 1) {\r\n                                that.$message({\r\n                                    message: '保存成功',\r\n                                    type: 'success'\r\n                                });\r\n                                if(that.uuids){\r\n                                    that.uuids += ','+ res.info.uuid;\r\n                                }else{\r\n                                    that.uuids = res.info.uuid;\r\n                                }\r\n                                that.dialogprojectFormVisible = false;\r\n                                that.$refs['productForm'].resetFields();\r\n                            }else{\r\n                                that.$message({\r\n                                    message: '保存失败',\r\n                                    type: 'error'\r\n                                });\r\n                            }\r\n                        }).catch(function (error) {\r\n                            that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                        })\r\n                    }\r\n                });\r\n            },\r\n            //产品重置\r\n            resetproductForm: function (formName) {\r\n                this.$refs[formName].resetFields();\r\n                this.productForm.majorDirectionDm = '';\r\n                this.productForm.claimDirectionDm = '';\r\n                this.productForm.areaDirectionDm = '';\r\n            },\r\n            //产品页面保存\r\n            onSubmit: function (formName) {\r\n                if(this.form1.uuid){\r\n                    let that = this;\r\n                    this.$refs[formName].validate((valid) => {\r\n                        if (valid) {\r\n                            this.$$request({\r\n                                url: this.$api.hyglApi.saveComFinance,\r\n                                data: {\r\n                                    uuid:this.form1.uuid,\r\n                                    exportsAccounts: this.form2.exportsAccounts,\r\n                                    givenYear: this.form.givenYear,\r\n                                    uuids: this.uuids,\r\n                                }\r\n                            }).then(function (res) {\r\n                                if (res.result === 1) {\r\n                                    that.$message({\r\n                                        message: '保存成功',\r\n                                        type: 'success'\r\n                                    });\r\n                                    that.$set(that.form1,'uuid',res.info.uuid);\r\n                                    that.$refs.table.loadData();\r\n                                }else{\r\n                                    that.$message({\r\n                                        message: '保存失败',\r\n                                        type: 'error'\r\n                                    });\r\n                                }\r\n                            }).catch(function (error) {\r\n                                that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                            })\r\n                        }\r\n                    });\r\n                }else {\r\n                    this.$message({\r\n                        message: '请先保存财务指标年报',\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            },\r\n            //产品删除\r\n            del: function (row) {\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.deleteClaimProductByUuid,\r\n                    data: {\r\n                        uuid: row.uuid,\r\n                    }\r\n                }).then(function (res) {\r\n                    if (res.result == 1) {\r\n                        that.$message({\r\n                            message: '删除成功',\r\n                            type: 'success'\r\n                        });\r\n                        let arr = that.uuids.split(\",\");\r\n                        arr.splice(arr.indexOf(row.uuid),1);\r\n                        that.uuids = arr.join(',');\r\n                    } else {\r\n                        that.$message({\r\n                            message: '删除失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                }).then(function () {\r\n                    that.$refs.tableInfo.loadData()\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                })\r\n            },\r\n            //提交\r\n            submitForm: function () {\r\n                let that = this;\r\n                this.valid('form').then((valid) => {\r\n                    this.valid('form1').then((valid) => { //form2\r\n                        this.valid('form2').then((valid) => {\r\n                            if(this.submitForm1()){ //form1\r\n                                if(this.submitForm2()){\r\n                                    if(this.changeStatus()) {\r\n                                        that.$message({\r\n                                            message: '提交成功',\r\n                                            type: 'success'\r\n                                        });\r\n                                        that.dialogFormVisible = false;\r\n                                    }else {\r\n                                        that.$message({\r\n                                            message: '提交失败',\r\n                                            type: 'error'\r\n                                        });\r\n                                    }\r\n                                }else {\r\n                                    that.$message({\r\n                                        message: '提交财务指标失败',\r\n                                        type: 'error'\r\n                                    });\r\n                                }\r\n                            }else {\r\n                                that.$message({\r\n                                    message: '提交企业信息失败',\r\n                                    type: 'error'\r\n                                });\r\n                            }\r\n                        },(valid) => {\r\n                            that.$message({\r\n                                type: \"warning\",\r\n                                duration: 1000,\r\n                                message: \"请填写出口额\"\r\n                            })\r\n                        })\r\n                    },(valid) => {\r\n                        that.$message({\r\n                            type: \"warning\",\r\n                            duration: 1000,\r\n                            message: \"请填写财务指标必填信息\"\r\n                        })\r\n                    })\r\n                }, (valid) => {//表单校验失败\r\n                    that.$message({\r\n                        type: \"warning\",\r\n                        duration: 1000,\r\n                        message: \"请填写企业信息必填信息\"\r\n                    })\r\n                });\r\n            },\r\n            //校验\r\n            valid(formName) {\r\n                return this.$refs[formName].validate();\r\n            },\r\n            //查询重点方向\r\n            getZdList(){\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.queryTableFromRedisByTableName,\r\n                    data: {\r\n                        tableName:'DM_MAJOR_DIRECTION',\r\n                    }\r\n                }).then(function (res) {\r\n                    if(res.result === 1){\r\n                        that.zdList = res.info;\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                })\r\n            },\r\n            //关闭dialog\r\n            closeDialog: function () {},\r\n            //获取省份\r\n            getProvince(){\r\n                let that = this;\r\n                // 请求省份码表\r\n                this.$$request({\r\n                    url: this.$api.getCodeData,\r\n                    data: {\r\n                        tableName : \"DM_PROVINCE\"\r\n                    }\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        that.provinces = res.info;\r\n                    }else {\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\r\n                        return false\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {})\r\n                    return false\r\n                })\r\n            },\r\n            //获取教育情况\r\n            getEducation(){\r\n                let that = this;\r\n                // 请求省份码表\r\n                this.$$request({\r\n                    url: this.$api.getCodeData,\r\n                    data: {\r\n                        tableName : \"DM_EDUCATION\"\r\n                    }\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        that.eduList = res.info;\r\n                    }else {\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\r\n                        return false\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {})\r\n                    return false\r\n                })\r\n            },\r\n            //获取所属行业码表\r\n            getIndustry(){\r\n                let that = this;\r\n                // 请求省份码表\r\n                this.$$request({\r\n                    url: this.$api.getCodeData,\r\n                    data: {\r\n                        tableName : \"DM_INDUSTRY\"\r\n                    }\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        that.industryList = res.info;\r\n                    }else {\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\r\n                        return false\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {})\r\n                    return false\r\n                })\r\n            },\r\n            //所属年份改变事件\r\n            givenYearChange(val){\r\n                let that = this;\r\n                this.$$request({\r\n                    url: this.$api.hyglApi.getComInfoYearStatus,\r\n                    data: {\r\n                        uuid:this.form.uuid,\r\n                        givenYear: val,\r\n                    }\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        if(res.info) {\r\n                            if(res.info==='N') {\r\n                                that.form.givenYear = '';\r\n                                that.$message({\r\n                                    message: val+'年不可使用，请重新选择',\r\n                                    type: 'error'\r\n                                });\r\n                            }\r\n                        }\r\n                    }else {\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {})\r\n                        return false\r\n                    }\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {})\r\n                    return false\r\n                })\r\n            },\r\n        },\r\n        created() {\r\n            this.getProvince();\r\n            this.getEducation();\r\n            this.getIndustry();\r\n    //         this.$$request({\r\n    //             url: this.$api.hyglApi.getCreatedStatus,\r\n    //             data: {}\r\n    //         }).then(function (res) {\r\n    //             if(res.result === 1){\r\n    //                 that.isCreated = res.info.isCreated;\r\n    //             }\r\n    //         }).catch(function (error) {\r\n    //             that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n    //         })\r\n        },\r\n        watch:{\r\n            'productForm.majorDirectionDm':function (val,oldVal) {\r\n                let that = this;\r\n                if(val !== oldVal){\r\n                    if(this.isNotNew === 'Y'){//新建进来\r\n                        if(this.isNotProductUpdate === 'N'){\r\n                            this.productForm.claimDirectionDm = \"\";\r\n                            this.productForm.areaDirectionDm = \"\";\r\n                        }\r\n                    }else{\r\n                        if(this.state === 'Y'){//未提交\r\n                            if(this.isNotProductUpdate === 'N'){\r\n                                this.productForm.claimDirectionDm = \"\";\r\n                                this.productForm.areaDirectionDm = \"\";\r\n                            }\r\n                        }\r\n                    }\r\n                    this.lyList = [];\r\n                    if(val !== ''){\r\n                        this.$$request({\r\n                            url: this.$api.hyglApi.querySubSelcetListByTableNameAndParentCode,\r\n                            data: {\r\n                                tableName:\"DM_CLAIM_DIRECTION\",\r\n                                parentCode: val\r\n                            }\r\n                        }).then(function (res) {\r\n                            if(res.result === 1){\r\n                                that.jbList = res.info;\r\n                            }\r\n                        }).catch(function (error) {\r\n                            that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                        })\r\n                    }else{\r\n                        this.jbList = [];\r\n                    }\r\n                }\r\n            },\r\n\r\n            'productForm.claimDirectionDm':function (val,old) {\r\n                let that = this;\r\n                if(val !== old){\r\n                    if(this.isNotNew === 'Y'){//新建进来\r\n                        if(this.isNotProductUpdate === 'N'){\r\n                            this.productForm.areaDirectionDm = \"\";\r\n                        }\r\n                    }else{\r\n                        if(this.state === 'Y'){//未提交\r\n                            if(this.isNotProductUpdate === 'N') {\r\n                                this.productForm.areaDirectionDm = \"\";\r\n                            }\r\n                        }\r\n                    }\r\n                    if(val !== ''){\r\n                        this.$$request({\r\n                            url: this.$api.hyglApi.querySubSelcetListByTableNameAndParentCode,\r\n                            data: {\r\n                                tableName:\"DM_AREA_DIRECTION\",\r\n                                parentCode: val\r\n                            }\r\n                        }).then(function (res) {\r\n                            if(res.result === 1){\r\n                                that.lyList = res.info;\r\n                            }\r\n                        }).catch(function (error) {\r\n                            that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                        })\r\n                    }else{\r\n                        this.lyList = [];\r\n                    }\r\n                }\r\n            },\r\n            uuids:function (newVal,oldVal) {\r\n                if(newVal!=oldVal){\r\n                    this.$set(this.getDataWayInfo,'param',{\r\n                        uuids:this.uuids,\r\n                        givenYear: this.givenYear,\r\n                        flag: 'temp',\r\n                        comid: this.comid,\r\n                    });\r\n                    if(this.$refs.tableInfo) {\r\n                        this.$refs.tableInfo.loadData();\r\n                    }\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .xxtbone {\r\n        /*margin: 10px auto;*/\r\n    }\r\n\r\n    .form-item-wrap {\r\n        display: flex;\r\n        width: 80%;\r\n        margin-left: 80px;\r\n    }\r\n\r\n    .form-item-wrap1 {\r\n        display: flex;\r\n        width: 100%;\r\n        height: 42px;\r\n    }\r\n\r\n    .form-item-wrap3 {\r\n        display: flex;\r\n        width: 40%;\r\n    }\r\n\r\n    .form-item-wrap5 {\r\n        display: flex;\r\n        width: 80%;\r\n    }\r\n\r\n    .form-item {\r\n        width: 60%;\r\n    }\r\n\r\n    .inputwidth {\r\n        width: 250px;\r\n    }\r\n\r\n    .textwidth {\r\n        width: 673px;\r\n    }\r\n\r\n    .chanpintj {\r\n        width: 80%;\r\n        margin: 10px auto;\r\n    }\r\n\r\n    .wz {\r\n       text-align: center;\r\n    }\r\n\r\n    .foot3 , .foot4{\r\n        text-align: center;\r\n    }\r\n\r\n    .wz1 {\r\n        text-align: center;\r\n    }\r\n\r\n    .wz3 {\r\n        margin-left: -100px;\r\n    }\r\n\r\n    .xx {\r\n        padding-right: 30px;\r\n    }\r\n</style>\r\n"]}]}