{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\rcjpxgl\\rgznyfjgjs.vue?vue&type=style&index=0&id=58ed5a18&scoped=true&lang=css&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\rcjpxgl\\rgznyfjgjs.vue","mtime":1571466477561},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.bt {\n    margin-top: 30px;\n    height: 80px;\n    width: 100%;\n    text-align: center;\n    font-size: 30px\n}\n\n.xbt {\n    color: #3a8ee6;\n    height: auto;\n    width: 100%;\n    text-align: left;\n    font-size: 20px;\n    margin: 0px 20px 0px 20px;\n}\n\n.rc {\n    width: 250px;\n}\n\n.df {\n    padding-top: 20px\n}\n\n.btnc {\n    width: 150px;\n}\n",{"version":3,"sources":["rgznyfjgjs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8YA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"rgznyfjgjs.vue","sourceRoot":"src/views/hygl/rcjpxgl","sourcesContent":["<template>\r\n    <div style=\"overflow-x: hidden\">\r\n        <div class=\"xbt\">\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"add('form')\" size=\"medium\" type=\"primary\">添加</el-button>\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"update\" size=\"medium\" type=\"primary\">修改</el-button>\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"del\" size=\"medium\" type=\"primary\">删除</el-button>\r\n        </div>\r\n        <div style=\"margin-top: 15px\">\r\n            <table-list :columns=\"columns\"\r\n                        :checkedData='checkedData'\r\n                        :getDataWay=\"getDataWay\"\r\n                        :pagination=\"pagination\"\r\n                        index\r\n                        ref=\"table\"\r\n                        selection>\r\n                <el-table-column label=\"年度\" slot=\"givenYear\" show-overflow-tooltip>\r\n                    <template slot-scope=\"scope\">\r\n                        <el-link :underline=\"false\" @click.stop=\"getDetail(scope.row)\" class=\"a-link\">\r\n                            {{scope.row.givenYear}}\r\n                        </el-link>\r\n                    </template>\r\n                </el-table-column>\r\n            </table-list>\r\n        </div>\r\n        <el-dialog\r\n                @open=\"openDialog\"\r\n                :close-on-click-modal=\"false\"\r\n                :visible.sync=\"dialogFormVisible\"\r\n                title=\"人工智能研发机构建设\"\r\n                v-dialogDrag\r\n                width=\"960px\"\r\n                @close=\"handleClose\"\r\n        >\r\n            <el-form :inline=\"true\" :model=\"form\" :rules=\"rules\" class=\"demo-form df\" label-width=\"180px\" ref=\"form\"\r\n                     size=\"mini\">\r\n                <el-form-item label=\"企业名称\">\r\n                    <el-input :disabled=\"true\" class=\"rc\" v-model=\"form.comName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"所属年度\" prop=\"givenYear\">\r\n                    <el-date-picker\r\n                            :disabled=\"packageStatus !== 'hlw'\"\r\n                            class=\"rc\"\r\n                            placeholder=\"选择年度\"\r\n                            type=\"year\"\r\n                            v-model=\"form.givenYear\"\r\n                            format=\"yyyy\"\r\n                            value-format=\"yyyy\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"企业建立研发机构数\" prop=\"researchOrgNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.researchOrgNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"当年新建研发机构数\" prop=\"newOrgNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.newOrgNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"在境外建立研发机构数\" prop=\"exOrgNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.exOrgNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"研发机构场地总面积\" prop=\"area\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" placeholder=\"单位平方米\"\r\n                              v-model.number=\"form.area\" maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"企业研发设备资产总额\" prop=\"equipAccounts\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" placeholder=\"单位万元\"\r\n                              v-model.number=\"form.equipAccounts\"\r\n                              maxlength=\"8\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"研发机构人员数\" prop=\"researcherNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.researcherNum\"\r\n                              maxlength=\"10\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"当年新增研发设备数\" prop=\"newEquipNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.newEquipNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"width: 100%;text-align: center\">\r\n                    <el-button v-if=\"packageStatus === 'hlw'\" class=\"btnc\" @click=\"submitForm('form')\" size=\"medium \"\r\n                               type=\"primary\">保存\r\n                    </el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import TableList from \"../../../components/grid/TableList\";\r\n\r\n    export default {\r\n        name: \"rgznyfjgjs\",\r\n        components: {TableList},\r\n        data() {\r\n            return {\r\n                packageStatus: this.$packageStatus,\r\n                dialogFormVisible: false,\r\n                checkedData: [],\r\n                //tablelist数据传输\r\n\r\n                /*区分---内网*/\r\n                getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryResearchOrg,\r\n                    param:{\r\n                        netType:this.$packageStatus==='zwww'?'in':'ex',\r\n                    },\r\n                },\r\n                /*区分---内网*/\r\n                /*getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryResearchOrg,\r\n                    param: {\r\n                        netType: 'ex'\r\n                    }\r\n                },*/\r\n                pagination: {\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                    position: 'center',\r\n                    pageSizes: [10, 50, 100],//默认每页显示多少条\r\n                    layout: 'sizes ,prev, pager, next, jumper'\r\n                },\r\n                //tablelist表单表头\r\n                columns: [\r\n                    {\r\n                        label: '年度',\r\n                        prop: 'givenYear',\r\n                        showOverflowTooltip: true,\r\n                        template: true\r\n                    },\r\n                    {\r\n                        label: '企业名称',\r\n                        prop: 'comName',\r\n                    },\r\n                    {\r\n                        label: '企业建立研发机构数',\r\n                        prop: 'researchOrgNum',\r\n                        width: '18%',\r\n                    },\r\n                    {\r\n                        label: '当年新建研发机构数',\r\n                        prop: 'newOrgNum',\r\n                        width: '18%',\r\n                    },\r\n                    {\r\n                        label: '在境外建立研发机构数',\r\n                        prop: 'exOrgNum',\r\n                        width: '18%',\r\n                    },\r\n                    {\r\n                        label: '研发机构场地总面积（单位/面积）',\r\n                        prop: 'area',\r\n                        width: '18%',\r\n                    },\r\n                ],\r\n                //人工智能研发机构建设表\r\n                form: {\r\n                    uuid: '',\r\n                    //指定comid\r\n                    //企业名称自动带出\r\n                    comName: '',\r\n                    //以下字段填报\r\n                    givenYear: '',\r\n                    /**企业建立研发机构数*/\r\n                    researchOrgNum: '',\r\n                    /**当年新增研发设备数*/\r\n                    newOrgNum: '',\r\n                    /**在境外建立研发机构数*/\r\n                    exOrgNum: '',\r\n                    /**研发机构场地总面积*/\r\n                    area: '',\r\n                    /**企业研发设备资产总额(万元）*/\r\n                    equipAccounts: '',\r\n                    /**研发机构人员*/\r\n                    researcherNum: '',\r\n                    /**当年新增研发设备数*/\r\n                    newEquipNum: ''\r\n                },\r\n                //输入框验证\r\n                rules: {\r\n                    givenYear: [\r\n                        {required: true, message: '请选择所属年度'},\r\n                    ],\r\n                    researchOrgNum: [\r\n                        {required: true, message: '请输入企业建立研发机构数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    newOrgNum: [\r\n                        {required: true, message: '请输入当年新建研发机构数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    exOrgNum: [\r\n                        {required: true, message: '请输入在境外建立研发机构数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    area: [\r\n                        {required: true, message: '请输入研发机构场地总面积'},\r\n                        {type: 'number', message: '面积必须为数字值'}\r\n                    ],\r\n                    equipAccounts: [\r\n                        {required: true, message: '请输入企业研发设备资产总额数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ],\r\n                    researcherNum: [\r\n                        {required: true, message: '请输入研发机构人员数'},\r\n                        {type: 'number', message: '人数必须为数字值'}\r\n                    ],\r\n                    newEquipNum: [\r\n                        {required: true, message: '请输入当年新增研发设备数'},\r\n                        {type: 'number', message: '数量必须为数字值'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            handleClose() {\r\n                    this.form.givenYear = '',\r\n                    this.form.researchOrgNum = '',\r\n                    this.form.newOrgNum = '',\r\n                    this.form.exOrgNum = '',\r\n                    this.form.area = '',\r\n                    this.form.equipAccounts = '',\r\n                    this.form.researcherNum = '',\r\n                    this.form.newEquipNum = '',\r\n                    this.$nextTick(() => {\r\n                        this.$refs['form'].clearValidate();\r\n                    })\r\n                this.checkedData = []\r\n                this.dialogFormVisible = false;\r\n                this.$refs.table.loadData()\r\n            },\r\n            //获取列表详情\r\n            getDetail(data) {\r\n                if (this.packageStatus === 'hlw') {\r\n                    return false\r\n                } else {\r\n                    const that = this\r\n                    that.form = data\r\n                    //that.form.comName = res.info.comName\r\n                    that.$set(that.form, 'givenYear', data.givenYear.toString());\r\n                    that.dialogFormVisible = true\r\n                    /*return new Promise(((resolve, reject) => {*/\r\n                    /*this.$$request({\r\n                        method: 'post',\r\n                        url: this.$api.hyglApi.getComName,\r\n                        data: {\r\n                            comid: data.comid,\r\n                            givenYear: data.givenYear,\r\n                        }\r\n                    }).then(function (res) {\r\n                        if (res.result === 1) {\r\n                            that.form = data\r\n                            that.form.comName = res.info.comName\r\n                            that.$set(that.form, 'givenYear', data.givenYear.toString());\r\n                            that.dialogFormVisible = true\r\n                        } else {\r\n                            that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        }\r\n                    }).catch(function (error) {\r\n                        that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    })*/\r\n                }\r\n            },\r\n            add() {\r\n                const that = this\r\n                this.$axios({\r\n                    method: 'post',\r\n                    url: this.$api.hyglApi.getComName,\r\n                    data: {\r\n                        comid: '',\r\n                        givenYear: '',\r\n                    }\r\n                }).then(function (res) {\r\n                    that.form.comName = res.info.comName\r\n                    that.dialogFormVisible = true\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n            },\r\n            //保存按钮事件\r\n            submitForm(form) {\r\n                let that = this;\r\n                this.$refs[form].validate((valid) => {\r\n                    if (valid) {\r\n                        let req = that.form;\r\n                        this.$axios({\r\n                            method: 'post',\r\n                            url: this.$api.hyglApi.saveReasearchOrg,\r\n                            data: that.form\r\n                        }).then(function (res) {\r\n                            if (res.result === 1) {\r\n                                that.$message({\r\n                                    message: '操作成功',\r\n                                    type: 'success'\r\n                                });\r\n                                that.checkedData = [];\r\n                                that.dialogFormVisible = false;\r\n                                that.$refs.table.loadData()\r\n                            } else {\r\n                                that.checkedData = [];\r\n                                that.dialogFormVisible = false;\r\n                                that.$refs.table.loadData()\r\n                            }\r\n                        })\r\n                    } else {\r\n                        that.checkedData = [];\r\n                        that.$refs.table.loadData()\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            //修改\r\n            update() {\r\n                let that = this;\r\n                if (this.checkedData.length > 1 || that.checkedData.length == 0) {\r\n                    that.$alert('请选中一条数据进行修改', '提示', {\r\n                        type: 'warning'\r\n                    })\r\n                } else {\r\n                    /*this.$axios({\r\n                        method: 'post',\r\n                        url: this.$api.hyglApi.getComName,\r\n                        data: {\r\n                            comid: this.checkedData.comName,\r\n                            givenYear: this.checkedData.givenYear,\r\n                        }\r\n                    }).then(function (res) {\r\n                        that.form.comName = res.info.comName\r\n                    })*/\r\n                    let checkData = this.checkedData[0];\r\n                    this.form.comName = checkData.comName,\r\n                    this.form.uuid = checkData.uuid,\r\n                    this.$set(this.form, 'givenYear', checkData.givenYear.toString())\r\n                    this.form.comName = checkData.comName,\r\n                    this.form.researchOrgNum = checkData.researchOrgNum,\r\n                    this.form.newOrgNum = checkData.newOrgNum,\r\n                    this.form.exOrgNum = checkData.exOrgNum,\r\n                    this.form.area = parseInt(checkData.area)\r\n                    this.form.equipAccounts = parseInt(checkData.equipAccounts),\r\n                    this.form.researcherNum = checkData.researcherNum,\r\n                    this.form.newEquipNum = checkData.newEquipNum\r\n                    this.dialogFormVisible = true\r\n                }\r\n            },\r\n            //删除\r\n            del() {\r\n                const that = this\r\n                if (that.checkedData.length < 1) {\r\n                    that.$alert('请选择至少一条数据进行删除！', '提示', {\r\n                        type: 'warning'\r\n                    })\r\n                } else {\r\n                    that.$confirm('确认删除?', '提示', {\r\n                        confirmButtonText: '确定',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                        let that = this;\r\n                        let uuid = '';\r\n                        for (let i = 0; i < this.checkedData.length; i++) {\r\n                            uuid += this.checkedData[i].uuid + ',';\r\n                        }\r\n                        this.$axios({\r\n                            method: 'post',\r\n                            url: this.$api.hyglApi.deleteResearchOrgByUuid,\r\n                            data: {\r\n                                uuid: uuid,\r\n                            }\r\n                        }).then(function (res) {\r\n                            if (res.result == 1) {\r\n                                that.$message({\r\n                                    message: '删除成功',\r\n                                    type: 'success'\r\n                                });\r\n                                that.checkedData = []\r\n                                that.$refs.table.loadData()\r\n                            } else {\r\n                                that.$message({\r\n                                    message: '删除失败',\r\n                                    type: 'error'\r\n                                });\r\n                                that.checkedData = []\r\n                            }\r\n                        })\r\n                    }).catch(function () {\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .bt {\r\n        margin-top: 30px;\r\n        height: 80px;\r\n        width: 100%;\r\n        text-align: center;\r\n        font-size: 30px\r\n    }\r\n\r\n    .xbt {\r\n        color: #3a8ee6;\r\n        height: auto;\r\n        width: 100%;\r\n        text-align: left;\r\n        font-size: 20px;\r\n        margin: 0px 20px 0px 20px;\r\n    }\r\n\r\n    .rc {\r\n        width: 250px;\r\n    }\r\n\r\n    .df {\r\n        padding-top: 20px\r\n    }\r\n\r\n    .btnc {\r\n        width: 150px;\r\n    }\r\n</style>\r\n\r\n\r\n"]}]}