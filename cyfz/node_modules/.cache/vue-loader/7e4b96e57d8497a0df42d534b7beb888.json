{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\rcjpxgl\\rcdwjsqk.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\rcjpxgl\\rcdwjsqk.vue","mtime":1571466477559},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TableList from \"../../../components/grid/TableList\";\n\nexport default {\n    name: \"rcdwjsqk\",\n    components: {TableList},\n    data() {\n        return {\n            packageStatus: this.$packageStatus,\n            checkedData: [],\n            dialogFormVisible: false,\n            //人才队伍建设表\n            form: {\n                comid: '',\n                uuid: '',\n                //企业名称自动带出\n                comName: '',\n                //以下字段填报\n                givenYear: '',\n                managerNum: '',\n                tiledPeopleNum: '',\n                doctorNum: '',\n                jtitledPeopleNum: '',\n                masterNum: '',\n                stitledPeopleNum: '',\n                bachelorNum: '',\n                htitledPeopleNum: '',\n                juniorNum: '',\n                extitledPeopleNum: '',\n                technicalNum: '',\n                topPeopleNum: '',\n                provinceManagerNum: '',\n                innovatedPeopleNum: '',\n                cityManagerNum: '',\n                topExpeopleNum: '',\n                qualifiedPeopleNum: '',\n                teamInfo: ''\n            },\n            /*区分---内网*/\n            getDataWay: {\n                dataType: \"url\",\n                type: 'post',\n                data: this.$api.hyglApi.queryComTeam,\n                param:{\n                    netType: this.$packageStatus==='zwww'?'in':'ex',\n                }\n            },\n            /*区分---外网*/\n            /*getDataWay: {\n                dataType: \"url\",\n                type: 'post',\n                data: this.$api.hyglApi.queryComTeam,\n                param: {\n                    netType: 'ex',\n                }\n            },*/\n            pagination: {\n                currentPage: 1,\n                pageSize: 10,\n                position: 'center',\n                pageSizes: [10, 50, 100],//默认每页显示多少条\n                layout: 'sizes ,prev, pager, next, jumper'\n            },\n            //tablelist表单表头\n            columns: [\n                {\n                    label: '年度',\n                    prop: 'givenYear',\n                    width: '20%',\n                    showOverflowTooltip: true,\n                    template: true\n                },\n                {\n                    label: '企业名称',\n                    prop: 'comName',\n                },\n                {\n                    label: '经营管理人才数',\n                    prop: 'managerNum',\n                },\n                {\n                    label: '职称人才数',\n                    prop: 'tiledPeopleNum',\n                    width: '20%',\n                },\n                {\n                    label: '专业技术人才数',\n                    prop: 'technicalNum',\n                    width: '20%',\n                },\n                {\n                    label: '高端人才数',\n                    prop: 'topExpeopleNum',\n                    width: '15%',\n                },\n            ],\n            //输入框验证\n            rules: {\n                givenYear: [\n                    {required: true, message: '请选择所属年度'},\n                ],\n                managerNum: [\n                    {required: true, message: '请输入经营管理人才数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                tiledPeopleNum: [\n                    {required: true, message: '请输入职称人才总数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                doctorNum: [\n                    {required: true, message: '请输入博士人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                jtitledPeopleNum: [\n                    {required: true, message: '请输入初级职称人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                masterNum: [\n                    {required: true, message: '请输入硕士人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                stitledPeopleNum: [\n                    {required: true, message: '请输入中级职称人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ], bachelorNum: [\n                    {required: true, message: '请输入本科人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                htitledPeopleNum: [\n                    {required: true, message: '请输入副高级职称人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                juniorNum: [\n                    {required: true, message: '请输入大专人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                extitledPeopleNum: [\n                    {required: true, message: '请输入正高级职称人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                technicalNum: [\n                    {required: true, message: '请输入专业技术人才总数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ], topPeopleNum: [\n                    {required: true, message: '请输入高端人才数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                provinceManagerNum: [\n                    {required: true, message: '请输入省专家人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                innovatedPeopleNum: [\n                    {required: true, message: '请输入创新人才数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                cityManagerNum: [\n                    {required: true, message: '请输入市管专家人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                topExpeopleNum: [\n                    {required: true, message: '请输入高端人才引进数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                qualifiedPeopleNum: [\n                    {required: true, message: '请输入执行资格注册师人数'},\n                    {type: 'number', message: '人数必须为数字值'},\n                ],\n                teamInfo: [\n                    {required: true, message: '请输入团队情况'},\n                    {max: 1000, message: '输入字数长度最多为1000字！',}\n                ],\n            }\n        }\n    },\n    methods: {\n        handleClose() {\n                this.form.givenYear = '',\n                this.form.managerNum = '',\n                this.form.tiledPeopleNum = '',\n                this.form.doctorNum = '',\n                this.form.jtitledPeopleNum = '',\n                this.form.masterNum = '',\n                this.form.stitledPeopleNum = '',\n                this.form.bachelorNum = '',\n                this.form.htitledPeopleNum = '',\n                this.form.juniorNum = '',\n                this.form.extitledPeopleNum = '',\n                this.form.technicalNum = '',\n                this.form.topPeopleNum = '',\n                this.form.provinceManagerNum = '',\n                this.form.innovatedPeopleNum = '',\n                this.form.cityManagerNum = '',\n                this.form.topExpeopleNum = '',\n                this.form.qualifiedPeopleNum = '',\n                this.form.teamInfo = '',\n                this.$nextTick(() => {\n                    this.$refs['form'].clearValidate();\n                })\n            this.checkedData = []\n            this.dialogFormVisible = false;\n            this.$refs.table.loadData()\n        },\n        //获取列表详情\n        getDetail(data) {\n            if (this.packageStatus === 'hlw') {\n                return false\n            } else {\n                const that = this\n                that.form = data\n                that.$set(that.form, 'givenYear', data.givenYear.toString());\n                that.dialogFormVisible = true\n                /*this.$$request({\n                    method: 'post',\n                    url: this.$api.hyglApi.getComName,\n                    data: {\n                        comid: data.comid,\n                        givenYear: data.givenYear,\n                    }\n                }).then(function (res) {\n                    if (res.result === 1) {\n                        that.form = data\n                        that.form.comName = res.info.comName\n                        that.$set(that.form, 'givenYear', data.givenYear.toString());\n                        that.dialogFormVisible = true\n                    } else {\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\n                    }\n                }).catch(function (error) {\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\n                })*/\n            }\n        },\n        add() {\n            const that = this\n            this.$axios({\n                method: 'post',\n                url: this.$api.hyglApi.getComName,\n                data: {\n                    comid: '',\n                    givenYear: '',\n                }\n            }).then(function (res) {\n                that.form.comName = res.info.comName\n                that.dialogFormVisible = true\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n                return false;\n            })\n        },\n        //提交表单方法\n        submitForm(form) {\n            let that = this;\n            this.$refs[form].validate((valid) => {\n                if (valid) {\n                    //添加接口\n                    let req = that.form;\n                    this.$axios({\n                        method: 'post',\n                        url: this.$api.hyglApi.saveComTeam,\n                        data: that.form\n                    }).then(function (res) {\n                        console.log(res)\n                        if (res.result === 1) {\n                            that.$message({\n                                message: '操作成功',\n                                type: 'success'\n                            })\n                            that.checkedData = [];\n                            that.dialogFormVisible = false;\n                            that.$refs.table.loadData()\n                        } else {\n                            that.checkedData = [];\n                            that.dialogFormVisible = false;\n                            that.$refs.table.loadData()\n                        }\n                    })\n                } else {\n                    that.checkedData = [];\n                    that.$refs.table.loadData()\n                    return false;\n                }\n            });\n        },\n        //修改\n        update() {\n            const that = this\n            if (this.checkedData.length > 1 || this.checkedData.length == 0) {\n                this.$alert(\"请选择一条数据进行修改！\", \"提示\", {\n                    type: 'warning'\n                })\n            } else {\n                /*this.$axios({\n                    method: 'post',\n                    url: this.$api.hyglApi.getComName,\n                    data: {\n                        comid: this.checkedData.comid,\n                        givenYear: this.checkedData.givenYear,\n                    }\n                }).then(function (res) {\n                    that.form.comName = res.info.comName\n                })*/\n                let checkData = this.checkedData[0];\n                this.$set(this.form, 'givenYear', checkData.givenYear.toString())\n                this.form.comName = checkData.comName,\n                this.form.uuid = checkData.uuid,\n                this.form.managerNum = checkData.managerNum,\n                this.form.tiledPeopleNum = checkData.tiledPeopleNum,\n                this.form.doctorNum = checkData.doctorNum,\n                this.form.jtitledPeopleNum = checkData.jtitledPeopleNum,\n                this.form.masterNum = checkData.masterNum,\n                this.form.stitledPeopleNum = checkData.stitledPeopleNum,\n                this.form.bachelorNum = checkData.bachelorNum,\n                this.form.htitledPeopleNum = checkData.htitledPeopleNum,\n                this.form.juniorNum = checkData.juniorNum,\n                this.form.extitledPeopleNum = checkData.extitledPeopleNum,\n                this.form.technicalNum = checkData.technicalNum,\n                this.form.topPeopleNum = checkData.topPeopleNum,\n                this.form.provinceManagerNum = checkData.provinceManagerNum,\n                this.form.innovatedPeopleNum = checkData.innovatedPeopleNum,\n                this.form.cityManagerNum = checkData.cityManagerNum,\n                this.form.topPeopleNum = checkData.topPeopleNum,\n                this.form.topExpeopleNum = checkData.topExpeopleNum,\n                this.form.qualifiedPeopleNum = checkData.qualifiedPeopleNum,\n                this.form.teamInfo = checkData.teamInfo\n                this.form.comName = checkData.comName\n                this.$set(this.form, 'givenYear', this.checkedData[0].givenYear.toString())\n                this.dialogFormVisible = true\n            }\n        },\n        //删除\n        del() {\n            const that = this\n            if (that.checkedData.length < 1) {\n                that.$alert('请选择至少一条数据进行删除！', '提示', {\n                    type: 'warning'\n                })\n            } else {\n                that.$confirm('确认删除?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let uuid = '';\n                    for (let i = 0; i < this.checkedData.length; i++) {\n                        uuid += this.checkedData[i].uuid + ',';\n                    }\n                    this.$axios({\n                        method: 'post',\n                        url: this.$api.hyglApi.delComTeam,\n                        data: {\n                            uuid: uuid,\n                        }\n                    }).then(function (res) {\n                        if (res.result == 1) {\n                            that.$message({\n                                message: '删除成功',\n                                type: 'success'\n                            })\n                            that.checkedData = []\n                            that.$refs.table.loadData()\n                        } else {\n                            that.$message({\n                                message: '删除失败',\n                                type: 'success'\n                            })\n                        }\n                    })\n                }).catch(function () {\n                })\n            }\n        }\n    },\n}\n",{"version":3,"sources":["rcdwjsqk.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rcdwjsqk.vue","sourceRoot":"src/views/hygl/rcjpxgl","sourcesContent":["<template>\r\n    <div style=\"overflow-x: hidden\" class=\"rcdwjsStyle\">\r\n        <div class=\"xbt\">\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"add\" size=\"medium\" type=\"primary\">添加</el-button>\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"update\" size=\"medium\" type=\"primary\">修改</el-button>\r\n            <el-button v-if=\"packageStatus === 'hlw'\" @click=\"del\" size=\"medium\" type=\"primary\">删除</el-button>\r\n        </div>\r\n        <div style=\"margin-top: 15px\">\r\n            <tableList ref=\"table\"\r\n                       :columns=\"columns\"\r\n                       :checkedData='checkedData'\r\n                       :getDataWay=\"getDataWay\"\r\n                       :pagination=\"pagination\"\r\n                       index\r\n                       selection>\r\n                <el-table-column label=\"年度\" slot=\"givenYear\" show-overflow-tooltip>\r\n                    <template slot-scope=\"scope\">\r\n                        <el-link :underline=\"false\" @click.stop=\"getDetail(scope.row)\" class=\"a-link\">\r\n                            {{scope.row.givenYear}}\r\n                        </el-link>\r\n                    </template>\r\n                </el-table-column>\r\n            </tableList>\r\n        </div>\r\n        <el-dialog\r\n                :close-on-click-modal=\"false\"\r\n                :visible.sync=\"dialogFormVisible\"\r\n                title=\"人才队伍建设\"\r\n                v-dialogDrag\r\n                width=\"960px\"\r\n                @open=\"openDialog\"\r\n                @close=\"handleClose\"\r\n        >\r\n            <el-form :inline=\"true\" :model=\"form\" :rules=\"rules\" class=\"df\" label-width=\"180px\" ref=\"form\" size=\"mini\">\r\n                <!--hide-required-asterisk=\"false\"-->\r\n                <el-form-item label=\"企业名称：\" prop=\"comName\">\r\n                    <el-input :disabled=\"true\" class=\"rc\" v-model=\"form.comName\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"所属年度：\" prop=\"givenYear\">\r\n                    <el-date-picker\r\n                            :disabled=\"packageStatus !== 'hlw'\"\r\n                            class=\"rc\"\r\n                            placeholder=\"选择年度\"\r\n                            type=\"year\"\r\n                            v-model=\"form.givenYear\"\r\n                            format=\"yyyy\"\r\n                            value-format=\"yyyy\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"经营管理人才数：\" prop=\"managerNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.managerNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"职称人才总数：\" prop=\"tiledPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.tiledPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"博士人数：\" prop=\"doctorNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.doctorNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"初级职称人数：\" prop=\"jtitledPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.jtitledPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"硕士人数：\" prop=\"masterNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.masterNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"中级职称人数：\" prop=\"stitledPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.stitledPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"本科人数：\" prop=\"bachelorNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.bachelorNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"副高级职称人数：\" prop=\"htitledPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.htitledPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"大专人数：\" prop=\"juniorNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.juniorNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"正高级职称人数：\" prop=\"extitledPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.extitledPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"专业技术人才总数：\" prop=\"technicalNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.technicalNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"高端人才数：\" prop=\"topPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.topPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"省专家人数：\" prop=\"provinceManagerNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.provinceManagerNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"创新人才数：\" prop=\"innovatedPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.innovatedPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"市管专家人数：\" prop=\"cityManagerNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.cityManagerNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"高端人才引进数：\" prop=\"topExpeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.topExpeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"执行资格注册师人数：\" prop=\"qualifiedPeopleNum\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" class=\"rc\" v-model.number=\"form.qualifiedPeopleNum\"\r\n                              maxlength=\"9\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"团队情况：\" prop=\"teamInfo\">\r\n                    <el-input :disabled=\"packageStatus !== 'hlw'\" style=\"width: 680px\" type=\"textarea\"\r\n                              v-model=\"form.teamInfo\" :rows=\"7\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"width: 100%;text-align: center\">\r\n                    <el-button v-if=\"packageStatus === 'hlw'\" class=\"btnc\" @click=\"submitForm('form')\" size=\"medium \"\r\n                               type=\"primary\">保存\r\n                    </el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    import TableList from \"../../../components/grid/TableList\";\r\n\r\n    export default {\r\n        name: \"rcdwjsqk\",\r\n        components: {TableList},\r\n        data() {\r\n            return {\r\n                packageStatus: this.$packageStatus,\r\n                checkedData: [],\r\n                dialogFormVisible: false,\r\n                //人才队伍建设表\r\n                form: {\r\n                    comid: '',\r\n                    uuid: '',\r\n                    //企业名称自动带出\r\n                    comName: '',\r\n                    //以下字段填报\r\n                    givenYear: '',\r\n                    managerNum: '',\r\n                    tiledPeopleNum: '',\r\n                    doctorNum: '',\r\n                    jtitledPeopleNum: '',\r\n                    masterNum: '',\r\n                    stitledPeopleNum: '',\r\n                    bachelorNum: '',\r\n                    htitledPeopleNum: '',\r\n                    juniorNum: '',\r\n                    extitledPeopleNum: '',\r\n                    technicalNum: '',\r\n                    topPeopleNum: '',\r\n                    provinceManagerNum: '',\r\n                    innovatedPeopleNum: '',\r\n                    cityManagerNum: '',\r\n                    topExpeopleNum: '',\r\n                    qualifiedPeopleNum: '',\r\n                    teamInfo: ''\r\n                },\r\n                /*区分---内网*/\r\n                getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryComTeam,\r\n                    param:{\r\n                        netType: this.$packageStatus==='zwww'?'in':'ex',\r\n                    }\r\n                },\r\n                /*区分---外网*/\r\n                /*getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: this.$api.hyglApi.queryComTeam,\r\n                    param: {\r\n                        netType: 'ex',\r\n                    }\r\n                },*/\r\n                pagination: {\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                    position: 'center',\r\n                    pageSizes: [10, 50, 100],//默认每页显示多少条\r\n                    layout: 'sizes ,prev, pager, next, jumper'\r\n                },\r\n                //tablelist表单表头\r\n                columns: [\r\n                    {\r\n                        label: '年度',\r\n                        prop: 'givenYear',\r\n                        width: '20%',\r\n                        showOverflowTooltip: true,\r\n                        template: true\r\n                    },\r\n                    {\r\n                        label: '企业名称',\r\n                        prop: 'comName',\r\n                    },\r\n                    {\r\n                        label: '经营管理人才数',\r\n                        prop: 'managerNum',\r\n                    },\r\n                    {\r\n                        label: '职称人才数',\r\n                        prop: 'tiledPeopleNum',\r\n                        width: '20%',\r\n                    },\r\n                    {\r\n                        label: '专业技术人才数',\r\n                        prop: 'technicalNum',\r\n                        width: '20%',\r\n                    },\r\n                    {\r\n                        label: '高端人才数',\r\n                        prop: 'topExpeopleNum',\r\n                        width: '15%',\r\n                    },\r\n                ],\r\n                //输入框验证\r\n                rules: {\r\n                    givenYear: [\r\n                        {required: true, message: '请选择所属年度'},\r\n                    ],\r\n                    managerNum: [\r\n                        {required: true, message: '请输入经营管理人才数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    tiledPeopleNum: [\r\n                        {required: true, message: '请输入职称人才总数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    doctorNum: [\r\n                        {required: true, message: '请输入博士人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    jtitledPeopleNum: [\r\n                        {required: true, message: '请输入初级职称人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    masterNum: [\r\n                        {required: true, message: '请输入硕士人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    stitledPeopleNum: [\r\n                        {required: true, message: '请输入中级职称人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ], bachelorNum: [\r\n                        {required: true, message: '请输入本科人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    htitledPeopleNum: [\r\n                        {required: true, message: '请输入副高级职称人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    juniorNum: [\r\n                        {required: true, message: '请输入大专人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    extitledPeopleNum: [\r\n                        {required: true, message: '请输入正高级职称人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    technicalNum: [\r\n                        {required: true, message: '请输入专业技术人才总数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ], topPeopleNum: [\r\n                        {required: true, message: '请输入高端人才数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    provinceManagerNum: [\r\n                        {required: true, message: '请输入省专家人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    innovatedPeopleNum: [\r\n                        {required: true, message: '请输入创新人才数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    cityManagerNum: [\r\n                        {required: true, message: '请输入市管专家人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    topExpeopleNum: [\r\n                        {required: true, message: '请输入高端人才引进数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    qualifiedPeopleNum: [\r\n                        {required: true, message: '请输入执行资格注册师人数'},\r\n                        {type: 'number', message: '人数必须为数字值'},\r\n                    ],\r\n                    teamInfo: [\r\n                        {required: true, message: '请输入团队情况'},\r\n                        {max: 1000, message: '输入字数长度最多为1000字！',}\r\n                    ],\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            handleClose() {\r\n                    this.form.givenYear = '',\r\n                    this.form.managerNum = '',\r\n                    this.form.tiledPeopleNum = '',\r\n                    this.form.doctorNum = '',\r\n                    this.form.jtitledPeopleNum = '',\r\n                    this.form.masterNum = '',\r\n                    this.form.stitledPeopleNum = '',\r\n                    this.form.bachelorNum = '',\r\n                    this.form.htitledPeopleNum = '',\r\n                    this.form.juniorNum = '',\r\n                    this.form.extitledPeopleNum = '',\r\n                    this.form.technicalNum = '',\r\n                    this.form.topPeopleNum = '',\r\n                    this.form.provinceManagerNum = '',\r\n                    this.form.innovatedPeopleNum = '',\r\n                    this.form.cityManagerNum = '',\r\n                    this.form.topExpeopleNum = '',\r\n                    this.form.qualifiedPeopleNum = '',\r\n                    this.form.teamInfo = '',\r\n                    this.$nextTick(() => {\r\n                        this.$refs['form'].clearValidate();\r\n                    })\r\n                this.checkedData = []\r\n                this.dialogFormVisible = false;\r\n                this.$refs.table.loadData()\r\n            },\r\n            //获取列表详情\r\n            getDetail(data) {\r\n                if (this.packageStatus === 'hlw') {\r\n                    return false\r\n                } else {\r\n                    const that = this\r\n                    that.form = data\r\n                    that.$set(that.form, 'givenYear', data.givenYear.toString());\r\n                    that.dialogFormVisible = true\r\n                    /*this.$$request({\r\n                        method: 'post',\r\n                        url: this.$api.hyglApi.getComName,\r\n                        data: {\r\n                            comid: data.comid,\r\n                            givenYear: data.givenYear,\r\n                        }\r\n                    }).then(function (res) {\r\n                        if (res.result === 1) {\r\n                            that.form = data\r\n                            that.form.comName = res.info.comName\r\n                            that.$set(that.form, 'givenYear', data.givenYear.toString());\r\n                            that.dialogFormVisible = true\r\n                        } else {\r\n                            that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        }\r\n                    }).catch(function (error) {\r\n                        that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    })*/\r\n                }\r\n            },\r\n            add() {\r\n                const that = this\r\n                this.$axios({\r\n                    method: 'post',\r\n                    url: this.$api.hyglApi.getComName,\r\n                    data: {\r\n                        comid: '',\r\n                        givenYear: '',\r\n                    }\r\n                }).then(function (res) {\r\n                    that.form.comName = res.info.comName\r\n                    that.dialogFormVisible = true\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                    return false;\r\n                })\r\n            },\r\n            //提交表单方法\r\n            submitForm(form) {\r\n                let that = this;\r\n                this.$refs[form].validate((valid) => {\r\n                    if (valid) {\r\n                        //添加接口\r\n                        let req = that.form;\r\n                        this.$axios({\r\n                            method: 'post',\r\n                            url: this.$api.hyglApi.saveComTeam,\r\n                            data: that.form\r\n                        }).then(function (res) {\r\n                            console.log(res)\r\n                            if (res.result === 1) {\r\n                                that.$message({\r\n                                    message: '操作成功',\r\n                                    type: 'success'\r\n                                })\r\n                                that.checkedData = [];\r\n                                that.dialogFormVisible = false;\r\n                                that.$refs.table.loadData()\r\n                            } else {\r\n                                that.checkedData = [];\r\n                                that.dialogFormVisible = false;\r\n                                that.$refs.table.loadData()\r\n                            }\r\n                        })\r\n                    } else {\r\n                        that.checkedData = [];\r\n                        that.$refs.table.loadData()\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            //修改\r\n            update() {\r\n                const that = this\r\n                if (this.checkedData.length > 1 || this.checkedData.length == 0) {\r\n                    this.$alert(\"请选择一条数据进行修改！\", \"提示\", {\r\n                        type: 'warning'\r\n                    })\r\n                } else {\r\n                    /*this.$axios({\r\n                        method: 'post',\r\n                        url: this.$api.hyglApi.getComName,\r\n                        data: {\r\n                            comid: this.checkedData.comid,\r\n                            givenYear: this.checkedData.givenYear,\r\n                        }\r\n                    }).then(function (res) {\r\n                        that.form.comName = res.info.comName\r\n                    })*/\r\n                    let checkData = this.checkedData[0];\r\n                    this.$set(this.form, 'givenYear', checkData.givenYear.toString())\r\n                    this.form.comName = checkData.comName,\r\n                    this.form.uuid = checkData.uuid,\r\n                    this.form.managerNum = checkData.managerNum,\r\n                    this.form.tiledPeopleNum = checkData.tiledPeopleNum,\r\n                    this.form.doctorNum = checkData.doctorNum,\r\n                    this.form.jtitledPeopleNum = checkData.jtitledPeopleNum,\r\n                    this.form.masterNum = checkData.masterNum,\r\n                    this.form.stitledPeopleNum = checkData.stitledPeopleNum,\r\n                    this.form.bachelorNum = checkData.bachelorNum,\r\n                    this.form.htitledPeopleNum = checkData.htitledPeopleNum,\r\n                    this.form.juniorNum = checkData.juniorNum,\r\n                    this.form.extitledPeopleNum = checkData.extitledPeopleNum,\r\n                    this.form.technicalNum = checkData.technicalNum,\r\n                    this.form.topPeopleNum = checkData.topPeopleNum,\r\n                    this.form.provinceManagerNum = checkData.provinceManagerNum,\r\n                    this.form.innovatedPeopleNum = checkData.innovatedPeopleNum,\r\n                    this.form.cityManagerNum = checkData.cityManagerNum,\r\n                    this.form.topPeopleNum = checkData.topPeopleNum,\r\n                    this.form.topExpeopleNum = checkData.topExpeopleNum,\r\n                    this.form.qualifiedPeopleNum = checkData.qualifiedPeopleNum,\r\n                    this.form.teamInfo = checkData.teamInfo\r\n                    this.form.comName = checkData.comName\r\n                    this.$set(this.form, 'givenYear', this.checkedData[0].givenYear.toString())\r\n                    this.dialogFormVisible = true\r\n                }\r\n            },\r\n            //删除\r\n            del() {\r\n                const that = this\r\n                if (that.checkedData.length < 1) {\r\n                    that.$alert('请选择至少一条数据进行删除！', '提示', {\r\n                        type: 'warning'\r\n                    })\r\n                } else {\r\n                    that.$confirm('确认删除?', '提示', {\r\n                        confirmButtonText: '确定',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                        let uuid = '';\r\n                        for (let i = 0; i < this.checkedData.length; i++) {\r\n                            uuid += this.checkedData[i].uuid + ',';\r\n                        }\r\n                        this.$axios({\r\n                            method: 'post',\r\n                            url: this.$api.hyglApi.delComTeam,\r\n                            data: {\r\n                                uuid: uuid,\r\n                            }\r\n                        }).then(function (res) {\r\n                            if (res.result == 1) {\r\n                                that.$message({\r\n                                    message: '删除成功',\r\n                                    type: 'success'\r\n                                })\r\n                                that.checkedData = []\r\n                                that.$refs.table.loadData()\r\n                            } else {\r\n                                that.$message({\r\n                                    message: '删除失败',\r\n                                    type: 'success'\r\n                                })\r\n                            }\r\n                        })\r\n                    }).catch(function () {\r\n                    })\r\n                }\r\n            }\r\n        },\r\n    }\r\n</script>\r\n<style scoped>\r\n    .rcdwjsStyle /deep/ .el-dialog {\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin: 0 !important;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        /*height:600px;*/\r\n        max-height: calc(100% - 30px);\r\n        max-width: calc(100% - 30px);\r\n    }\r\n    .rcdwjsStyle /deep/ .el-dialog .el-dialog__body {\r\n        flex: 1;\r\n        overflow: auto;\r\n    }\r\n    .rcdwjsStyle /deep/ .el-dialog__body::-webkit-scrollbar {\r\n        width: 2px;\r\n        height: 100%;\r\n    }\r\n    .bt {\r\n        margin-top: 30px;\r\n        height: 80px;\r\n        width: 100%;\r\n        text-align: center;\r\n        font-size: 30px\r\n    }\r\n\r\n    .xbt {\r\n        color: #3a8ee6;\r\n        height: auto;\r\n        width: 100%;\r\n        text-align: left;\r\n        font-size: 20px;\r\n        margin: 0px 20px 0px 20px;\r\n    }\r\n\r\n    .rc {\r\n        width: 250px;\r\n    }\r\n\r\n    .df {\r\n        padding-top: 20px\r\n    }\r\n\r\n    .btnc {\r\n        width: 150px;\r\n    }\r\n</style>\r\n"]}]}