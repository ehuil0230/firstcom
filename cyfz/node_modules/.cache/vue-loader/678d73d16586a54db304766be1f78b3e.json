{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\mainPage\\approval.vue?vue&type=style&index=0&id=7dfd78e0&scoped=true&lang=css&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\mainPage\\approval.vue","mtime":1571108291518},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.app-btn {\n    text-align: center;\n    margin-top: 20px;\n    width: 100%;\n}\n\n",{"version":3,"sources":["approval.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA","file":"approval.vue","sourceRoot":"src/views/mainPage","sourcesContent":["<template>\r\n    <div class=\"app-btn\">\r\n        <el-row>\r\n            <el-button size=\"small\" icon=\"el-icon-error\" type=\"primary\" @click=\"fail\">不通过</el-button>\r\n            <el-button size=\"small\" icon=\"el-icon-success\" type=\"primary\" @click=\"pass\">通过</el-button>\r\n        </el-row>\r\n        <el-dialog\r\n                title=\"审批不通过\"\r\n                :visible.sync=\"dialogVisible\"\r\n                width=\"50%\"\r\n                :close-on-click-modal=\"false\"\r\n                @close=\"handleClose\">\r\n            <div>\r\n                <el-input\r\n                        type=\"textarea\"\r\n                        :autosize=\"{ minRows: 4, maxRows: 6}\"\r\n                        placeholder=\"请输入内容\"\r\n                        v-model=\"text\">\r\n                </el-input>\r\n            </div>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"cancel\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"sure\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"approval\",\r\n        props: {\r\n            apprData: {\r\n                type: Object\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                dialogVisible: false,\r\n                text:\"\"\r\n            }\r\n        },\r\n        methods: {\r\n            pass() {//审批通过\r\n                let that = this;\r\n                console.log(this.apprData)\r\n                this.$axios({\r\n                    method: 'post',\r\n                    // url: \"/ApprovalCtrl/approvalPass\",\r\n                    url: this.$api.xtglApi.approvalPass,\r\n                    data: {\r\n                        uuid: this.apprData.approvalId,\r\n                        tableid:this.apprData.uuid,  //增传tableid进审核通过接口\r\n                        moduleCode: this.apprData.moduleCode, //增传modelCode进审核通过接口\r\n                        taskId: this.apprData.taskId, //增传taskId进审核通过接口\r\n                    }\r\n                }).then((res) => {\r\n                    if (res.result === 1) {\r\n                        that.$message({\r\n                            type: 'success',\r\n                            message: res.msg\r\n                        })\r\n                        that.$router.push({\r\n                            name: 'dbList'\r\n                        });\r\n                    }\r\n                }).catch(function (err) {\r\n                    that.$message({\r\n                        type: 'success',\r\n                        message: '审批失败'\r\n                    })\r\n                })\r\n            },\r\n            fail() {//审批不通过\r\n                this.dialogVisible=true;\r\n            },\r\n            sure(){\r\n                let that = this;\r\n                console.log(this.apprData)\r\n                this.$axios({\r\n                    method: 'post',\r\n                    // url: \"/ApprovalCtrl/approvalFail\",\r\n                    url: this.$api.xtglApi.approvalFail,\r\n                    data: {\r\n                        uuid: this.apprData.approvalId,\r\n                        tableid:this.apprData.uuid,  //增传tableid进审核通过接口\r\n                        moduleCode: this.apprData.moduleCode, //增传modelCode进审核通过接口\r\n                        taskId: this.apprData.taskId, //增传taskId进审核通过接口\r\n                        text:this.text\r\n                    }\r\n                }).then((res) => {\r\n                    if (res.result === 1) {\r\n                        that.$message({\r\n                            type: 'success',\r\n                            message: res.msg\r\n                        });\r\n                        this.dialogVisible=false;\r\n                        that.$router.push({\r\n                            name: 'dbList'\r\n                        });\r\n                    }\r\n                }).catch(function (err) {\r\n                    that.$message({\r\n                        type: 'success',\r\n                        message: '审批失败'\r\n                    })\r\n                })\r\n            },\r\n            cancel(){\r\n                this.dialogVisible=false;\r\n            },\r\n            handleClose(){\r\n                this.text=\"\";\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .app-btn {\r\n        text-align: center;\r\n        margin-top: 20px;\r\n        width: 100%;\r\n    }\r\n\r\n</style>\r\n"]}]}