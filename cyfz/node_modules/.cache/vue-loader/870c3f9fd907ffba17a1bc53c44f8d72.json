{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\xtgl\\myToolbar\\creOperation.vue?vue&type=style&index=0&id=1a24b355&scoped=true&lang=less&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\xtgl\\myToolbar\\creOperation.vue","mtime":1570845560768},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\style-resources-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.lyf-resetclass /deep/ .el-input__inner {\n    width: 127%;\n}\n\n.lyf-resetclass /deep/ .el-select-dropdown el-popper {\n    min-width: 270px;\n}\n\n.el-select-dropdown__item {\n    width: 273px\n}\n\n#formPage {\n    margin: 10px auto;\n    width: 80%;\n    padding: 0px 22px;\n    box-sizing: border-box;\n    background-color: #fff\n}\n\n.lyf-resetclass /deep/ .el-input__suffix {\n    right: -33px;\n}\n\n.lyf-resetclass /deep/ .el-textarea__inner {\n    width: 93%;\n}\n\n.lyf-resetclass /deep/ .el-select__caret el-input__icon el-icon-arrow-up {\n    width: 5px\n}\n",{"version":3,"sources":["creOperation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"creOperation.vue","sourceRoot":"src/views/xtgl/myToolbar","sourcesContent":["<template>\r\n    <div class=\"lyf-resetclass\">\r\n        <el-dialog\r\n                title=\"宣传推荐维护\"\r\n                :visible.sync=\"dialogVisible\"\r\n                width=\"70%\"\r\n                @close=\"handleClose\">\r\n            <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"153px\" class=\"demo-ruleForm\">\r\n                <!--<el-form :inline=\"true\" ref=\"ruleForm\" class=\"demo-form-inline\"\r\n                         label-width=\"153px\">-->\r\n                <!--<el-form-item label-width=\"153px\" class=\"demo-ruleForm\">-->\r\n                <table>\r\n                    <tr>\r\n                        <td>\r\n                            <el-form-item label=\"推荐重点单位名称:\" prop=\"comName\">\r\n                                <el-input v-model=\"ruleForm.comName\" style=\"width:110%\" maxlength=\"50\"></el-input>\r\n                            </el-form-item>\r\n                        </td>\r\n                        <td>\r\n                            <el-form-item label=\"所属方向:\" prop=\"claimDirectionDm\" style=\"padding-left:70px\">\r\n                                <el-select v-model=\"ruleForm.claimDirectionDm\" placeholder=\"请选择所属方向\">\r\n                                    <el-option class=\"myStyle\"\r\n                                               v-for=\"item in claimDirectionDm\"\r\n                                               :key=\"item.CODE\"\r\n                                               :label=\"item.CAPTION\"\r\n                                               :value=\"item.CODE\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <!--</el-form-item>-->\r\n                <!--</el-form>-->\r\n                <el-form-item label=\"揭榜产品和服务:\" prop=\"productService\">\r\n                    <el-input type=\"textarea\" maxlength=\"200\" v-model=\"ruleForm.productService\"\r\n                              placeholder=\"字数小于200字\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"企业简介:\" prop=\"introduction\">\r\n                    <el-input type=\"textarea\" v-model=\"ruleForm.introduction\" maxlength=\"200\"\r\n                              placeholder=\"字数小于200字\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"揭榜产品和服务描述:\" prop=\"productDescribe\">\r\n                    <el-input type=\"textarea\" v-model=\"ruleForm.productDescribe\" class=\"trightSize\"\r\n                              maxlength=\"1000\" placeholder=\"字数小于1000字\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item style=\"padding-left: 25%\">\r\n                    <el-button type=\"primary\" @click=\"saveForm('ruleForm')\">保存</el-button>\r\n                    <el-button @click=\"releaseForm('ruleForm')\">提交</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        name: \"creOperation\",\r\n        props: {\r\n            dialogData: {\r\n                type: Object,\r\n            },\r\n            taVisible: {\r\n                type: Boolean,\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                dialogVisible: this.taVisible,\r\n                //下拉选框\r\n                claimDirectionDm: this.dialogData.Dm,\r\n                ruleForm: {\r\n                    uuid: this.dialogData.uuid ? this.dialogData.uuid : \"\",\r\n                    comName: this.dialogData.comName ? this.dialogData.comName : \"\",\r\n                    proclamationDm: this.dialogData.fromType,\r\n                    approvalDm: this.dialogData.spType,\r\n                    //areaDirectionDm: this.dialogData.areaDirectionDm ? this.dialogData.areaDirectionDm : \"\",\r\n                    introduction: this.dialogData.introduction ? this.dialogData.introduction : \"\",\r\n                    productDescribe: this.dialogData.productDescribe ? this.dialogData.productDescribe : \"\",\r\n                    productService: this.dialogData.productService ? this.dialogData.productService : \"\",\r\n                    claimDirectionDm: this.dialogData.claimDirectionDm ? this.dialogData.claimDirectionDm : \"\",\r\n                },\r\n                rules: {\r\n                    claimDirectionDm:[\r\n                        {required: true, message: '请输入所属方向！'}\r\n                    ],\r\n                    comName: [\r\n                        {required: true, message: '请输入单位名称！'}\r\n                    ],\r\n                    productService: [\r\n                        {required: true, message: '请输入内容！'},\r\n                        {max: 1200, message: '请输入不超过200字！'}\r\n                    ],\r\n                    introduction: [\r\n                        {required: true, message: '请输入内容！'},\r\n                        {max: 1200, message: '请输入不超过1000字！'}\r\n                    ],\r\n                    productDescribe: [\r\n                        {required: true, message: '请输入内容！'},\r\n                        {max: 1200, message: '请输入不超过1000字！'}\r\n                    ],\r\n                },\r\n            };\r\n        },\r\n        methods: {\r\n            //弹窗关闭\r\n            handleClose() {\r\n                this.dialogVisible = false;\r\n                this.$emit(\"refreshTable\", true)\r\n            },\r\n            saveForm(ruleForm) {\r\n                const that = this;\r\n                if (this.ruleForm.uuid == null || this.ruleForm.uuid == '') {\r\n                    this.$refs[ruleForm].validate((valid) => {\r\n                        if (valid) {\r\n                            //添加接口\r\n                            this.$axios({\r\n                                method: 'post',\r\n                                url: this.$api.xtglApi.xtglXctjSave,\r\n                                data: this.ruleForm\r\n                            }).then(function (res) {\r\n                                if (res.result === 1) {\r\n                                    that.$message({\r\n                                        message: res.msg,\r\n                                        type: 'success'\r\n                                    });\r\n                                }\r\n                                that.handleClose()\r\n                                that.ruleForm = ''\r\n                            })\r\n                        } else {\r\n                            window.console.log('操作失败!');\r\n                            return false;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$axios({\r\n                        method: 'post',\r\n                        url: this.$api.xtglApi.xtglXctjUpdate,\r\n                        data: this.ruleForm\r\n                    }).then(function (res) {\r\n                        if (res.result === 1) {\r\n                            that.$message({\r\n                                message: res.msg,\r\n                                type: 'success'\r\n                            });\r\n                        }\r\n                        that.handleClose(),\r\n                            that.ruleForm = ''\r\n                    })\r\n                }\r\n            },\r\n            //发布\r\n            releaseForm(ruleForm) {\r\n                const that = this;\r\n                if (this.ruleForm.uuid === null || this.ruleForm.uuid === \"\") {\r\n                    this.$refs[ruleForm].validate((valid) => {\r\n                        if (valid) {\r\n                            //添加接口\r\n                            this.$axios({\r\n                                method: 'post',\r\n                                url: this.$api.xtglApi.xtglXctjSave,\r\n                                data: this.ruleForm\r\n                            }).then(function (res) {\r\n                                if (res.result === 1) {\r\n                                    return res.info.uuid\r\n                                }\r\n                            }).then((id) => {\r\n                                that.ruleForm.tableid = id;\r\n                                let param = Object.assign(that.ruleForm, {\r\n                                    title: that.ruleForm.comName\r\n                                });\r\n                                that.$axios({\r\n                                    method: 'post',\r\n                                    url: that.$api.xtglApi.xtglXctjSubmit,\r\n                                    data: param\r\n                                }).then(function (res) {\r\n                                    if (res.result === 1) {\r\n                                        that.$message({\r\n                                            message: res.msg,\r\n                                            type: 'success'\r\n                                        });\r\n                                    }\r\n                                    that.handleClose()\r\n                                    that.ruleForm = ''\r\n                                })\r\n                            }).catch(function (err) {\r\n\r\n                            })\r\n                        } else {\r\n                            window.console.log('操作失败!');\r\n                            return false;\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$axios({\r\n                        method: 'post',\r\n                        url: this.$api.xtglApi.xtglXctjUpdate,\r\n                        data: this.ruleForm\r\n                    }).then(function (res) {\r\n                        if (res.result == 1) {\r\n                            return res.info.uuid\r\n                        }\r\n                    }).then((id) => {\r\n                        this.ruleForm.uuid = '';\r\n                        that.ruleForm.tableid = id;\r\n                        let param = Object.assign(that.ruleForm, {\r\n                            title: that.ruleForm.comName\r\n                        });\r\n                        that.$axios({\r\n                            method: 'post',\r\n                            url: that.$api.xtglApi.xtglXctjSubmit,\r\n                            data: param\r\n                        }).then(function (res) {\r\n                            if (res.result == 1) {\r\n                                that.$message({\r\n                                    message: res.msg,\r\n                                    type: 'success'\r\n                                });\r\n                            }\r\n                            that.handleClose()\r\n                            that.ruleForm = ''\r\n                        })\r\n                    }).catch(function (err) {\r\n                    })\r\n                }\r\n            },\r\n        },\r\n        getDataWay: {dataType: \"data\", data: []},\r\n    }\r\n</script>\r\n<style scoped lang=\"less\">\r\n    .lyf-resetclass /deep/ .el-input__inner {\r\n        width: 127%;\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-select-dropdown el-popper {\r\n        min-width: 270px;\r\n    }\r\n\r\n    .el-select-dropdown__item {\r\n        width: 273px\r\n    }\r\n\r\n    #formPage {\r\n        margin: 10px auto;\r\n        width: 80%;\r\n        padding: 0px 22px;\r\n        box-sizing: border-box;\r\n        background-color: #fff\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-input__suffix {\r\n        right: -33px;\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-textarea__inner {\r\n        width: 93%;\r\n    }\r\n\r\n    .lyf-resetclass /deep/ .el-select__caret el-input__icon el-icon-arrow-up {\r\n        width: 5px\r\n    }\r\n</style>\r\n\r\n"]}]}