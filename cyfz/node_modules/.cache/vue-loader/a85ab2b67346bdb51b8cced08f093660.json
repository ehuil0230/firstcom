{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\components\\echarts\\Piechart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\components\\echarts\\Piechart.vue","mtime":1569743313823},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n\nimport echarts from 'echarts'\n\nexport default {\n    name: \"Piechart\",\n    props: {\n        PieChart: {\n            text: String, //标题\n            subtext: String, //小标题\n            titleSize: { //标题大小\n                type: Number,\n                default: 20\n            },\n            download: { //是否显示下载按钮\n                type: Boolean,\n                default: false\n            },\n            data:[],//接收展示数据\n            danwei:String,\n        },\n    },\n    data() {\n        return {\n            text: this.PieChart.text, //大标题\n            subtext: this.PieChart.subtext, //小标题\n            titleSize: this.PieChart.titleSize, //标题大小\n            tipData: [],//提示数据\n            showData: [],//展示数据\n            download: this.PieChart.download,\n            danwei:this.PieChart.danwei,//返回单位\n        }\n    },\n    mounted() {\n        this.drawLine();\n    },\n    methods: {\n        //绘制图表\n        drawLine() {\n            // 基于准备好的dom，初始化echarts实例\n            let id = \"echartBar\" + Math.random() * 1000;\n            this.$el.setAttribute(\"id\", id);\n            let myChartContainer = document.getElementById(id);\n            let myChartChina = echarts.init(myChartContainer);\n            // 绘制图表\n            let optionMap = { //饼图配置项\n                title: {\n                    text: this.text,\n                    subtext: this.subtext,\n                    x: 'center',\n                    textStyle: {\n                        fontSize: this.titleSize,\n                    },\n                    top: [10],\n                },\n                tooltip: {\n                    name:'',\n                    trigger: 'item',\n                    formatter: \"{a} <br/>{b} : {c} ({d}%)\"\n                },\n                toolbox: {\n                    show: this.download,\n                    top: [5],\n                    right: [20],\n                    feature: {\n                        saveAsImage: {}\n                    }\n                },\n                legend: {\n                    orient: 'vertical',\n                    left: 'left',\n                    data: this.tipData,\n                },\n                series: [\n                    {\n                        color:['#6cacaf','#e4a526','#e4391d','#a1cb37','#8c97cb'],\n                        name:'',\n                        type: 'pie',\n                        selectedMode: 'single',\n                        radius: '60%',\n                        center: ['50%', '55%'],\n                        label: {\n                            normal: {\n                                formatter: '{b|{b}：}{c}'+this.danwei+'  {per|{d}%}  ',\n                                backgroundColor: '#eee',\n                                borderColor: '#aaa',\n                                borderWidth: 1,\n                                borderRadius: 4,\n                                rich: {\n                                    a: {\n                                        color: '#999',\n                                        lineHeight: 20,\n                                        align: 'center'\n                                    },\n                                    hr: {\n                                        borderColor: '#aaa',\n                                        width: '100%',\n                                        borderWidth: 0.5,\n                                        height: 0\n                                    },\n                                    b: {\n                                        fontSize: 12,\n                                        lineHeight: 20\n                                    },\n                                    per: {\n                                        color: '#eee',\n                                        backgroundColor: '#393947',\n                                        borderRadius: 2,\n                                        height: 14\n                                    }\n                                }\n                            }\n                        },\n                        data: this.showData,\n                        itemStyle: {\n                            emphasis: {\n                                shadowBlur: 10,\n                                shadowOffsetX: 0,\n                                shadowColor: 'rgba(0, 0, 0, 0.5)'\n                            }\n                        }\n                    }\n                ]\n            };\n            myChartChina.setOption(optionMap);\n            window.onresize = function () {\n                myChartChina.resize();\n            }\n        },\n    },\n    watch: {\n        'PieChart.data':function (val) {\n            for (let i = 0; i < val.length; i++) {\n                this.tipData.push(val[i].name);\n                this.showData = val;\n            }\n            this.drawLine();\n        }\n    }\n}\n",{"version":3,"sources":["Piechart.vue"],"names":[],"mappings":";;;;;;;;AAQA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Piechart.vue","sourceRoot":"src/components/echarts","sourcesContent":["<!--饼图组件-->\r\n<template>\r\n    <div class=\"piechart\">\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import echarts from 'echarts'\r\n\r\n    export default {\r\n        name: \"Piechart\",\r\n        props: {\r\n            PieChart: {\r\n                text: String, //标题\r\n                subtext: String, //小标题\r\n                titleSize: { //标题大小\r\n                    type: Number,\r\n                    default: 20\r\n                },\r\n                download: { //是否显示下载按钮\r\n                    type: Boolean,\r\n                    default: false\r\n                },\r\n                data:[],//接收展示数据\r\n                danwei:String,\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                text: this.PieChart.text, //大标题\r\n                subtext: this.PieChart.subtext, //小标题\r\n                titleSize: this.PieChart.titleSize, //标题大小\r\n                tipData: [],//提示数据\r\n                showData: [],//展示数据\r\n                download: this.PieChart.download,\r\n                danwei:this.PieChart.danwei,//返回单位\r\n            }\r\n        },\r\n        mounted() {\r\n            this.drawLine();\r\n        },\r\n        methods: {\r\n            //绘制图表\r\n            drawLine() {\r\n                // 基于准备好的dom，初始化echarts实例\r\n                let id = \"echartBar\" + Math.random() * 1000;\r\n                this.$el.setAttribute(\"id\", id);\r\n                let myChartContainer = document.getElementById(id);\r\n                let myChartChina = echarts.init(myChartContainer);\r\n                // 绘制图表\r\n                let optionMap = { //饼图配置项\r\n                    title: {\r\n                        text: this.text,\r\n                        subtext: this.subtext,\r\n                        x: 'center',\r\n                        textStyle: {\r\n                            fontSize: this.titleSize,\r\n                        },\r\n                        top: [10],\r\n                    },\r\n                    tooltip: {\r\n                        name:'',\r\n                        trigger: 'item',\r\n                        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n                    },\r\n                    toolbox: {\r\n                        show: this.download,\r\n                        top: [5],\r\n                        right: [20],\r\n                        feature: {\r\n                            saveAsImage: {}\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        orient: 'vertical',\r\n                        left: 'left',\r\n                        data: this.tipData,\r\n                    },\r\n                    series: [\r\n                        {\r\n                            color:['#6cacaf','#e4a526','#e4391d','#a1cb37','#8c97cb'],\r\n                            name:'',\r\n                            type: 'pie',\r\n                            selectedMode: 'single',\r\n                            radius: '60%',\r\n                            center: ['50%', '55%'],\r\n                            label: {\r\n                                normal: {\r\n                                    formatter: '{b|{b}：}{c}'+this.danwei+'  {per|{d}%}  ',\r\n                                    backgroundColor: '#eee',\r\n                                    borderColor: '#aaa',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    rich: {\r\n                                        a: {\r\n                                            color: '#999',\r\n                                            lineHeight: 20,\r\n                                            align: 'center'\r\n                                        },\r\n                                        hr: {\r\n                                            borderColor: '#aaa',\r\n                                            width: '100%',\r\n                                            borderWidth: 0.5,\r\n                                            height: 0\r\n                                        },\r\n                                        b: {\r\n                                            fontSize: 12,\r\n                                            lineHeight: 20\r\n                                        },\r\n                                        per: {\r\n                                            color: '#eee',\r\n                                            backgroundColor: '#393947',\r\n                                            borderRadius: 2,\r\n                                            height: 14\r\n                                        }\r\n                                    }\r\n                                }\r\n                            },\r\n                            data: this.showData,\r\n                            itemStyle: {\r\n                                emphasis: {\r\n                                    shadowBlur: 10,\r\n                                    shadowOffsetX: 0,\r\n                                    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                };\r\n                myChartChina.setOption(optionMap);\r\n                window.onresize = function () {\r\n                    myChartChina.resize();\r\n                }\r\n            },\r\n        },\r\n        watch: {\r\n            'PieChart.data':function (val) {\r\n                for (let i = 0; i < val.length; i++) {\r\n                    this.tipData.push(val[i].name);\r\n                    this.showData = val;\r\n                }\r\n                this.drawLine();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .piechart {\r\n        width: 100%;\r\n        height: 100%;\r\n        margin: 0 auto;\r\n    }\r\n</style>\r\n"]}]}