{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\cyfx\\tzxxfx\\tzxxfx.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\cyfx\\tzxxfx\\tzxxfx.vue","mtime":1571369962415},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// 引入echarts\nimport echarts from 'echarts'\n//引入tablelist\nexport default {\n    // 表格\n    name: 'table',\n    props: ['HistogramData'],\n\n    data() {\n        return {\n            tableData: [],//表格数据\n            showData: [],//展示柱形图分类数据\n            year: [],//展示柱形图年份\n            datalist: [],//4条柱形图数据\n        }\n    },\n\n    mounted() {\n        this.gettouzifenxiData();\n    },\n\n    methods: {\n        gettouzifenxiData() {\n            let that = this;\n            // 获取上面标准量柱状图数据\n            this.$$request({\n                url: this.$api.cyfxApi.queryInvestmentInfoALL,\n                data: {}\n            }).then(function (res) {\n                if (res.result === 1) {\n                    that.showData = ['投资', '并购', '融资', '研发经费'];\n                    for (let i = 0; i < res.info.one.data.length; i++) {\n                        that.year.push(res.info.one.data[i].year);\n                    }\n                    that.datalist = [];\n                    for (let j = 0; j < that.showData.length; j++) { //4\n                        let obj = {\n                            name: '',\n                            type: 'bar',\n                            data: [],\n                            label: {\n                                normal: {\n                                    show: false, //显示数字\n                                    position: 'top' //这里可以自己选择位置\n                                }\n                            },\n                        }\n                        obj.name = that.showData[j].valueOf();\n                        that.datalist.push(obj);\n                    }\n                    for (let j = 0; j < that.year.length; j++) {\n                        that.datalist[0].data.push(res.info.one.data[j].ventureNum);\n                        that.datalist[1].data.push(res.info.one.data[j].financeNum);\n                        that.datalist[2].data.push(res.info.one.data[j].mergerNum);\n                        that.datalist[3].data.push(res.info.one.data[j].researchCost);\n                    }\n                    ;\n                    that.tableData = [];\n                    let list = res.info.two.data;\n                    for (let i = 0; i < list.length; i++) {\n                        let obj2 = {\n                            year: '',\n                            Investment: '',\n                            Merger: '',\n                            financing: '',\n                            research: '',\n                        }\n                        obj2.year = list[i].year;\n                        obj2.Investment = list[i].ventureNum;\n                        obj2.Merger = list[i].mergerNum;\n                        obj2.financing = list[i].financeNum;\n                        obj2.research = list[i].researchCost;\n                        that.tableData.push(obj2);\n                    }\n                } else {\n                    that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\n                    return false;\n                }\n            }).then(function () {\n                that.drawLine();\n            }).catch(function (error) {\n                that.$alert(error, \"系统异常，请联系管理员！\", {});\n            });\n        },\n        drawLine() {\n            // 基于准备好的dom，初始化echarts实例\n            let $id = document.getElementById('tzxxfx_myChart')\n            if(!!$id){\n                let myChart = echarts.init($id);\n                // 绘制图表\n                myChart.setOption({\n                    title: {\n                        text: '',//柱形图名字\n                    },\n                    color: ['#6cacaf', '#e4a529', '#a1cb37', '#8c97cb'],\n                    tooltip: {\n                        trigger: 'axis',\n                        backgroundColor: 'rgba(255,255,255,0.7)',\n                        axisPointer: {\n                            type: 'shadow'\n                        },\n                        formatter: function (params) {\n                            // for text color\n                            let res = '<div style=\"color:' + 'black' + '\">' + '<strong>' + params[0].name + '</strong>'\n                            for (let i = 0, l = params.length; i < l; i++) {\n                                res += '<br/>' + params[i].seriesName + ' : ' + params[i].value\n                            }\n                            res += '</div>';\n                            return res;\n                        }\n                    },\n                    legend: {\n                        x: 'center',\n                        data: this.showData,\n                    },\n                    toolbox: {\n                        show: true,\n                        orient: 'vertical',\n                        y: 'center',\n                        right:'5%',\n                        feature: {\n                            saveAsImage: {show: true}\n                        }\n                    },\n                    calculable: true,\n                    grid: {\n                        top: '25%',\n                        left: '5%',\n                        right: '15%',\n                        bottom: '5%',\n                        containLabel: true\n                    },\n                    xAxis: [\n                        {\n                            type: 'category',\n                            data: this.year,\n                            name: '(年）'\n                        }\n                    ],\n                    yAxis: [\n                        {\n                            type: 'value',\n                            name: '消费（万元）'\n                        }\n                    ],\n                    series: this.datalist,\n                });\n            }\n        }\n    }\n}\n",{"version":3,"sources":["tzxxfx.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tzxxfx.vue","sourceRoot":"src/views/cyfx/tzxxfx","sourcesContent":["<template>\r\n    <div id=\"qgsyfx\">\r\n        <div class=\"qgsyfx_sm\">\r\n            <div class=\"zdfxzb_title\">\r\n                <i></i>\r\n                <span>投资信息分析</span>\r\n            </div>\r\n            <div class=\"fangxiangtu\">\r\n                <div class=\"city_selected\">\r\n                    <div style=\"width: 95%;height: 100%;margin: 20px auto\">\r\n                        <div id=\"tzxxfx_myChart\" style=\"width: 100%;height: 100%\"></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"jbfxt_charts\">\r\n                    <el-table\r\n                        :data=\"tableData\"\r\n                        :row-style=\"{height:'40px'}\"\r\n                        :cell-style=\"{padding:'0px'}\"\r\n                        border\r\n                        style=\"width:80%!important;margin: 0 auto\">\r\n                    <el-table-column prop=\"year\" label=\"年度(年)\" width=\"100\"></el-table-column>\r\n                    <el-table-column :show-overflow-tooltip=\"true\" prop=\"Investment\" label=\"投资(万元)\" width=\"150\"></el-table-column>\r\n                    <el-table-column :show-overflow-tooltip=\"true\" prop=\"Merger\" label=\"融资(万元)\" width=\"150\"></el-table-column>\r\n                    <el-table-column :show-overflow-tooltip=\"true\" prop=\"financing\" label=\"并购(万元)\" width=\"150\"></el-table-column>\r\n                    <el-table-column :show-overflow-tooltip=\"true\" prop=\"research\" label=\"研发经费(万元)\"></el-table-column>\r\n                </el-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<!--右侧图表的代码-->\r\n<script>\r\n    // 引入echarts\r\n    import echarts from 'echarts'\r\n    //引入tablelist\r\n    export default {\r\n        // 表格\r\n        name: 'table',\r\n        props: ['HistogramData'],\r\n\r\n        data() {\r\n            return {\r\n                tableData: [],//表格数据\r\n                showData: [],//展示柱形图分类数据\r\n                year: [],//展示柱形图年份\r\n                datalist: [],//4条柱形图数据\r\n            }\r\n        },\r\n\r\n        mounted() {\r\n            this.gettouzifenxiData();\r\n        },\r\n\r\n        methods: {\r\n            gettouzifenxiData() {\r\n                let that = this;\r\n                // 获取上面标准量柱状图数据\r\n                this.$$request({\r\n                    url: this.$api.cyfxApi.queryInvestmentInfoALL,\r\n                    data: {}\r\n                }).then(function (res) {\r\n                    if (res.result === 1) {\r\n                        that.showData = ['投资', '并购', '融资', '研发经费'];\r\n                        for (let i = 0; i < res.info.one.data.length; i++) {\r\n                            that.year.push(res.info.one.data[i].year);\r\n                        }\r\n                        that.datalist = [];\r\n                        for (let j = 0; j < that.showData.length; j++) { //4\r\n                            let obj = {\r\n                                name: '',\r\n                                type: 'bar',\r\n                                data: [],\r\n                                label: {\r\n                                    normal: {\r\n                                        show: false, //显示数字\r\n                                        position: 'top' //这里可以自己选择位置\r\n                                    }\r\n                                },\r\n                            }\r\n                            obj.name = that.showData[j].valueOf();\r\n                            that.datalist.push(obj);\r\n                        }\r\n                        for (let j = 0; j < that.year.length; j++) {\r\n                            that.datalist[0].data.push(res.info.one.data[j].ventureNum);\r\n                            that.datalist[1].data.push(res.info.one.data[j].financeNum);\r\n                            that.datalist[2].data.push(res.info.one.data[j].mergerNum);\r\n                            that.datalist[3].data.push(res.info.one.data[j].researchCost);\r\n                        }\r\n                        ;\r\n                        that.tableData = [];\r\n                        let list = res.info.two.data;\r\n                        for (let i = 0; i < list.length; i++) {\r\n                            let obj2 = {\r\n                                year: '',\r\n                                Investment: '',\r\n                                Merger: '',\r\n                                financing: '',\r\n                                research: '',\r\n                            }\r\n                            obj2.year = list[i].year;\r\n                            obj2.Investment = list[i].ventureNum;\r\n                            obj2.Merger = list[i].mergerNum;\r\n                            obj2.financing = list[i].financeNum;\r\n                            obj2.research = list[i].researchCost;\r\n                            that.tableData.push(obj2);\r\n                        }\r\n                    } else {\r\n                        that.$alert(res.msg, \"系统异常，请联系管理员！\", {});\r\n                        return false;\r\n                    }\r\n                }).then(function () {\r\n                    that.drawLine();\r\n                }).catch(function (error) {\r\n                    that.$alert(error, \"系统异常，请联系管理员！\", {});\r\n                });\r\n            },\r\n            drawLine() {\r\n                // 基于准备好的dom，初始化echarts实例\r\n                let $id = document.getElementById('tzxxfx_myChart')\r\n                if(!!$id){\r\n                    let myChart = echarts.init($id);\r\n                    // 绘制图表\r\n                    myChart.setOption({\r\n                        title: {\r\n                            text: '',//柱形图名字\r\n                        },\r\n                        color: ['#6cacaf', '#e4a529', '#a1cb37', '#8c97cb'],\r\n                        tooltip: {\r\n                            trigger: 'axis',\r\n                            backgroundColor: 'rgba(255,255,255,0.7)',\r\n                            axisPointer: {\r\n                                type: 'shadow'\r\n                            },\r\n                            formatter: function (params) {\r\n                                // for text color\r\n                                let res = '<div style=\"color:' + 'black' + '\">' + '<strong>' + params[0].name + '</strong>'\r\n                                for (let i = 0, l = params.length; i < l; i++) {\r\n                                    res += '<br/>' + params[i].seriesName + ' : ' + params[i].value\r\n                                }\r\n                                res += '</div>';\r\n                                return res;\r\n                            }\r\n                        },\r\n                        legend: {\r\n                            x: 'center',\r\n                            data: this.showData,\r\n                        },\r\n                        toolbox: {\r\n                            show: true,\r\n                            orient: 'vertical',\r\n                            y: 'center',\r\n                            right:'5%',\r\n                            feature: {\r\n                                saveAsImage: {show: true}\r\n                            }\r\n                        },\r\n                        calculable: true,\r\n                        grid: {\r\n                            top: '25%',\r\n                            left: '5%',\r\n                            right: '15%',\r\n                            bottom: '5%',\r\n                            containLabel: true\r\n                        },\r\n                        xAxis: [\r\n                            {\r\n                                type: 'category',\r\n                                data: this.year,\r\n                                name: '(年）'\r\n                            }\r\n                        ],\r\n                        yAxis: [\r\n                            {\r\n                                type: 'value',\r\n                                name: '消费（万元）'\r\n                            }\r\n                        ],\r\n                        series: this.datalist,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    #qgsyfx {\r\n        width: 100%;\r\n        background-color: @bgGray;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .qgsyfx_sm {\r\n        width: 95%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .zdfxzb_title {\r\n        width: 100%;\r\n        height: 30px;\r\n        text-align: left;\r\n        line-height: 30px;\r\n        margin-top: 10px;\r\n        border-bottom: 2px @deepBlack solid;\r\n    }\r\n\r\n    .zdfxzb_title i {\r\n        width: 5%;\r\n        height: 100%;\r\n    }\r\n\r\n    .zdfxzb_title span {\r\n        width: 95%;\r\n        height: 100%;\r\n        font-size: 16px;\r\n        color: @textColor1;\r\n        font-weight: bolder;\r\n    }\r\n\r\n    .fangxiangtu {\r\n        width: 100%;\r\n        height: 650px;\r\n        background-color: @bgWhite;\r\n    }\r\n\r\n    .city_selected {\r\n        text-align: center;\r\n        width: 100%;\r\n        height: 52%;\r\n        float: left;\r\n        padding: 0 auto;\r\n    }\r\n\r\n    .jbfxt_charts {\r\n        width: 100%;\r\n        height: 48%;\r\n        float: left;\r\n        padding-top: 25px;\r\n        background-color: @bgWhite;\r\n    }\r\n\r\n    .city_selected .el-select {\r\n        width: 20%;\r\n    }\r\n\r\n    .jb_table {\r\n        width: 100%;\r\n        height: 100%;\r\n        float: left;\r\n    }\r\n\r\n    .jb_table p {\r\n        width: 100%;\r\n        height: 10%;\r\n        margin-bottom: -30px;\r\n        padding-top: 10px;\r\n        text-align: center;\r\n        font-size: 18px;\r\n        font-family: sans-serif;\r\n        font-style: normal;\r\n        font-weight: bold;\r\n    }\r\n</style>\r\n"]}]}