{"remainingRequest":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\Task\\CommissionTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vueWorkspace\\cyfz\\src\\views\\hygl\\Task\\CommissionTask.vue","mtime":1569582777376},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vueWorkspace\\cyfz\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport tableList from '@/components/grid/TableList.vue';\nexport default {\n    name: \"CommissionTask\",\n    components: {\n        tableList\n    },\n    data() {\n        return {\n            getDataWay: {\n                dataType: \"url\",\n                type: 'post',\n                data: '/ApprovalCtrl/queryApproval',\n                param: {\n                    isApproval: 'N'\n                }\n            }, // 通过url方式\n            pagination: {     //分页\n                currentPage: 1,\n                pageSize: 10,\n                position: 'right',\n                layout: 'total,prev, pager, next, jumper'\n            },\n            ruleForm: {\n                title: \"\",\n                createTime: \"\",\n                approvalDm: \"\",\n            },\n            columns: [\n                {\n                    label: '名称',\n                    prop: 'title',\n                    width: '300',\n                },\n                {\n                    label: '类型',\n                    prop: 'approvalName',\n                    width: '210',\n                },\n                {\n                    label: '提交时间',\n                    prop: 'createTime',\n                    width: '220',\n                },\n                {\n                    label: '操作',\n                    prop: 'opts',\n                    template: true,//添加模板，一般处理操作列(注意：tempate、formatter不能同时使用)\n                    width: '200',\n                },\n            ],\n        }\n    },\n    created() {\n    },\n    methods: {\n        //查询\n        search: function () {\n            let queryObj = {};\n            for (let item in this.ruleForm) {\n                if (this.ruleForm[item] !== \"\") {\n                    queryObj[item] = this.ruleForm[item];\n                }\n            }\n            this.getDataWay.param = Object.assign(queryObj, {\n                isApproval: 'N'\n            });\n            this.$refs.table.loadData();\n        },\n        //重置\n        reset: function () {\n            this.ruleForm.title = \"\";\n            this.ruleForm.createTime = \"\";\n            this.ruleForm.approvalDm = \"\";\n            this.getDataWay.param = {isApproval: 'N'};\n            this.$refs.table.loadData();\n        },\n        //刷新\n        refresh: function () {\n            this.$refs.table.loadData();\n        },\n        //审核\n        examine(row) {\n            console.log(row)\n            let routerName = row.route.split('?')[0];\n            let routerParams = row.route.split('?')[1].split(\"&\");\n            let queryObj = {};\n            routerParams.forEach((item) => {\n                let key = item.split('=')[0];\n                let value = item.split('=')[1];\n                queryObj[key] = value\n            });\n            this.$router.push({\n                name: routerName,\n                query: queryObj\n            })\n        },\n    }\n}\n",{"version":3,"sources":["CommissionTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommissionTask.vue","sourceRoot":"src/views/hygl/Task","sourcesContent":["<template>\r\n    <div class=\"db-class\">\r\n        <el-form :model=\"ruleForm\" label-width=\"80px\" size=\"small\">\r\n            <div class=\"form-item\">\r\n                <el-form-item label=\"标题\" class=\"bt\">\r\n                    <el-input v-model=\"ruleForm.title\" placeholder=\"请输入标题\" style=\"width: 160px;\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"date\" label=\"提交时间\">\r\n                    <el-date-picker\r\n                            style=\"width: 160px;\"\r\n                            class=\"sj\"\r\n                            v-model=\"ruleForm.createTime\"\r\n                            type=\"date\"\r\n                            placeholder=\"选择提交时间\"\r\n                            format=\"yyyy 年 MM 月 dd 日\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                    >\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"类型\" class=\"lx\">\r\n                    <el-select v-model=\"ruleForm.approvalDm\" placeholder=\"请选择类型\" style=\"width: 160px;\">\r\n                        <el-option :key=\"1\" label=\"通知公告\" value=\"010001\"></el-option>\r\n                        <el-option :key=\"2\" label=\"政策文件\" value=\"010002\"></el-option>\r\n                        <el-option :key=\"3\" label=\"政策解读\" value=\"010003\"></el-option>\r\n                        <el-option :key=\"4\" label=\"揭榜单位\" value=\"010004\"></el-option>\r\n                        <el-option :key=\"5\" label=\"潜力单位\" value=\"010005\"></el-option>\r\n                        <el-option :key=\"6\" label=\"揭榜结果公示\" value=\"010006\"></el-option>\r\n                        <el-option :key=\"7\" label=\"先导区绩效考核\" value=\"010007\"></el-option>\r\n                        <el-option :key=\"8\" label=\"宣传推荐\" value=\"010008\"></el-option>\r\n                        <el-option :key=\"9\" label=\"政策汇总\" value=\"010009\"></el-option>\r\n                        <el-option :key=\"10\" label=\"成果发布\" value=\"010010\"></el-option>\r\n                        <el-option :key=\"11\" label=\"先导区信息填报\" value=\"010020\"></el-option>\r\n                        <el-option :key=\"12\" label=\"企业自评\" value=\"020001\"></el-option>\r\n                        <el-option :key=\"13\" label=\"企业年报\" value=\"020002\"></el-option>\r\n                        <el-option :key=\"14\" label=\"企业月报\" value=\"020003\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </div>\r\n            <div class=\"btn-item\" style=\"margin-left: 0\">\r\n                <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search()\" size=\"small\" style=\"padding: 9px 7px;\">查询</el-button>\r\n                <el-button type=\"primary\" icon=\"el-icon-circle-close\" @click=\"reset()\" size=\"small\" style=\"padding: 9px 7px;\">重置</el-button>\r\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"refresh()\" size=\"small\" style=\"padding: 9px 7px;\">刷新</el-button>\r\n            </div>\r\n        </el-form>\r\n\r\n        <tableList ref=\"table\"\r\n                   :getDataWay=\"getDataWay\"\r\n                   :columns=\"columns\"\r\n                   index\r\n                   :pagination=\"pagination\">\r\n            <el-table-column label=\"操作\" slot=\"opts\" width=\"150\">\r\n                <template v-slot=\"scope\">\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"examine(scope.row)\">审核</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </tableList>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import tableList from '@/components/grid/TableList.vue';\r\n    export default {\r\n        name: \"CommissionTask\",\r\n        components: {\r\n            tableList\r\n        },\r\n        data() {\r\n            return {\r\n                getDataWay: {\r\n                    dataType: \"url\",\r\n                    type: 'post',\r\n                    data: '/ApprovalCtrl/queryApproval',\r\n                    param: {\r\n                        isApproval: 'N'\r\n                    }\r\n                }, // 通过url方式\r\n                pagination: {     //分页\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                    position: 'right',\r\n                    layout: 'total,prev, pager, next, jumper'\r\n                },\r\n                ruleForm: {\r\n                    title: \"\",\r\n                    createTime: \"\",\r\n                    approvalDm: \"\",\r\n                },\r\n                columns: [\r\n                    {\r\n                        label: '名称',\r\n                        prop: 'title',\r\n                        width: '300',\r\n                    },\r\n                    {\r\n                        label: '类型',\r\n                        prop: 'approvalName',\r\n                        width: '210',\r\n                    },\r\n                    {\r\n                        label: '提交时间',\r\n                        prop: 'createTime',\r\n                        width: '220',\r\n                    },\r\n                    {\r\n                        label: '操作',\r\n                        prop: 'opts',\r\n                        template: true,//添加模板，一般处理操作列(注意：tempate、formatter不能同时使用)\r\n                        width: '200',\r\n                    },\r\n                ],\r\n            }\r\n        },\r\n        created() {\r\n        },\r\n        methods: {\r\n            //查询\r\n            search: function () {\r\n                let queryObj = {};\r\n                for (let item in this.ruleForm) {\r\n                    if (this.ruleForm[item] !== \"\") {\r\n                        queryObj[item] = this.ruleForm[item];\r\n                    }\r\n                }\r\n                this.getDataWay.param = Object.assign(queryObj, {\r\n                    isApproval: 'N'\r\n                });\r\n                this.$refs.table.loadData();\r\n            },\r\n            //重置\r\n            reset: function () {\r\n                this.ruleForm.title = \"\";\r\n                this.ruleForm.createTime = \"\";\r\n                this.ruleForm.approvalDm = \"\";\r\n                this.getDataWay.param = {isApproval: 'N'};\r\n                this.$refs.table.loadData();\r\n            },\r\n            //刷新\r\n            refresh: function () {\r\n                this.$refs.table.loadData();\r\n            },\r\n            //审核\r\n            examine(row) {\r\n                console.log(row)\r\n                let routerName = row.route.split('?')[0];\r\n                let routerParams = row.route.split('?')[1].split(\"&\");\r\n                let queryObj = {};\r\n                routerParams.forEach((item) => {\r\n                    let key = item.split('=')[0];\r\n                    let value = item.split('=')[1];\r\n                    queryObj[key] = value\r\n                });\r\n                this.$router.push({\r\n                    name: routerName,\r\n                    query: queryObj\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .db-class /deep/ .el-form-item{\r\n        margin-bottom: 10px;\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .form-item{\r\n        display: inline-block;\r\n    }\r\n\r\n    .btn-item {\r\n        padding-top: 0;\r\n        display: inline-block;\r\n        margin-left: 0px;\r\n        vertical-align: middle;\r\n        float: right;\r\n        padding-right: 5px;\r\n    }\r\n\r\n</style>\r\n"]}]}